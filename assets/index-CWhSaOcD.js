(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function zh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ru={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function cv(){if(Kp)return jo;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:d}}return jo.Fragment=t,jo.jsx=o,jo.jsxs=o,jo}var Qp;function dv(){return Qp||(Qp=1,ru.exports=cv()),ru.exports}var y=dv(),uu={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function fv(){if(Zp)return le;Zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function z(b,B,X){this.props=b,this.context=B,this.refs=U,this.updater=X||R}z.prototype.isReactComponent={},z.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,B,"setState")},z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function F(){}F.prototype=z.prototype;function O(b,B,X){this.props=b,this.context=B,this.refs=U,this.updater=X||R}var J=O.prototype=new F;J.constructor=O,L(J,z.prototype),J.isPureReactComponent=!0;var W=Array.isArray;function $(){}var Y={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function j(b,B,X){var ee=X.ref;return{$$typeof:i,type:b,key:B,ref:ee!==void 0?ee:null,props:X}}function ue(b,B){return j(b.type,B,b.props)}function Ae(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function ke(b){var B={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return B[X]})}var Ee=/\/+/g;function Ve(b,B){return typeof b=="object"&&b!==null&&b.key!=null?ke(""+b.key):B.toString(36)}function it(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then($,$):(b.status="pending",b.then(function(B){b.status==="pending"&&(b.status="fulfilled",b.value=B)},function(B){b.status==="pending"&&(b.status="rejected",b.reason=B)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,B,X,ee,ae){var fe=typeof b;(fe==="undefined"||fe==="boolean")&&(b=null);var be=!1;if(b===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(b.$$typeof){case i:case t:be=!0;break;case E:return be=b._init,G(be(b._payload),B,X,ee,ae)}}if(be)return ae=ae(b),be=ee===""?"."+Ve(b,0):ee,W(ae)?(X="",be!=null&&(X=be.replace(Ee,"$&/")+"/"),G(ae,B,X,"",function(oo){return oo})):ae!=null&&(Ae(ae)&&(ae=ue(ae,X+(ae.key==null||b&&b.key===ae.key?"":(""+ae.key).replace(Ee,"$&/")+"/")+be)),B.push(ae)),1;be=0;var at=ee===""?".":ee+":";if(W(b))for(var ze=0;ze<b.length;ze++)ee=b[ze],fe=at+Ve(ee,ze),be+=G(ee,B,X,fe,ae);else if(ze=A(b),typeof ze=="function")for(b=ze.call(b),ze=0;!(ee=b.next()).done;)ee=ee.value,fe=at+Ve(ee,ze++),be+=G(ee,B,X,fe,ae);else if(fe==="object"){if(typeof b.then=="function")return G(it(b),B,X,ee,ae);throw B=String(b),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return be}function H(b,B,X){if(b==null)return b;var ee=[],ae=0;return G(b,ee,"","",function(fe){return B.call(X,fe,ae++)}),ee}function Q(b){if(b._status===-1){var B=b._result;B=B(),B.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=B)}if(b._status===1)return b._result.default;throw b._result}var de=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ce={map:H,forEach:function(b,B,X){H(b,function(){B.apply(this,arguments)},X)},count:function(b){var B=0;return H(b,function(){B++}),B},toArray:function(b){return H(b,function(B){return B})||[]},only:function(b){if(!Ae(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return le.Activity=x,le.Children=Ce,le.Component=z,le.Fragment=o,le.Profiler=r,le.PureComponent=O,le.StrictMode=a,le.Suspense=v,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,le.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Y.H.useMemoCache(b)}},le.cache=function(b){return function(){return b.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(b,B,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=L({},b.props),ae=b.key;if(B!=null)for(fe in B.key!==void 0&&(ae=""+B.key),B)!ce.call(B,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&B.ref===void 0||(ee[fe]=B[fe]);var fe=arguments.length-2;if(fe===1)ee.children=X;else if(1<fe){for(var be=Array(fe),at=0;at<fe;at++)be[at]=arguments[at+2];ee.children=be}return j(b.type,ae,ee)},le.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},le.createElement=function(b,B,X){var ee,ae={},fe=null;if(B!=null)for(ee in B.key!==void 0&&(fe=""+B.key),B)ce.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=B[ee]);var be=arguments.length-2;if(be===1)ae.children=X;else if(1<be){for(var at=Array(be),ze=0;ze<be;ze++)at[ze]=arguments[ze+2];ae.children=at}if(b&&b.defaultProps)for(ee in be=b.defaultProps,be)ae[ee]===void 0&&(ae[ee]=be[ee]);return j(b,fe,ae)},le.createRef=function(){return{current:null}},le.forwardRef=function(b){return{$$typeof:g,render:b}},le.isValidElement=Ae,le.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Q}},le.memo=function(b,B){return{$$typeof:h,type:b,compare:B===void 0?null:B}},le.startTransition=function(b){var B=Y.T,X={};Y.T=X;try{var ee=b(),ae=Y.S;ae!==null&&ae(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then($,de)}catch(fe){de(fe)}finally{B!==null&&X.types!==null&&(B.types=X.types),Y.T=B}},le.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},le.use=function(b){return Y.H.use(b)},le.useActionState=function(b,B,X){return Y.H.useActionState(b,B,X)},le.useCallback=function(b,B){return Y.H.useCallback(b,B)},le.useContext=function(b){return Y.H.useContext(b)},le.useDebugValue=function(){},le.useDeferredValue=function(b,B){return Y.H.useDeferredValue(b,B)},le.useEffect=function(b,B){return Y.H.useEffect(b,B)},le.useEffectEvent=function(b){return Y.H.useEffectEvent(b)},le.useId=function(){return Y.H.useId()},le.useImperativeHandle=function(b,B,X){return Y.H.useImperativeHandle(b,B,X)},le.useInsertionEffect=function(b,B){return Y.H.useInsertionEffect(b,B)},le.useLayoutEffect=function(b,B){return Y.H.useLayoutEffect(b,B)},le.useMemo=function(b,B){return Y.H.useMemo(b,B)},le.useOptimistic=function(b,B){return Y.H.useOptimistic(b,B)},le.useReducer=function(b,B,X){return Y.H.useReducer(b,B,X)},le.useRef=function(b){return Y.H.useRef(b)},le.useState=function(b){return Y.H.useState(b)},le.useSyncExternalStore=function(b,B,X){return Y.H.useSyncExternalStore(b,B,X)},le.useTransition=function(){return Y.H.useTransition()},le.version="19.2.3",le}var $p;function wu(){return $p||($p=1,uu.exports=fv()),uu.exports}var ye=wu();const pv=zh(ye);var cu={exports:{}},Wo={},du={exports:{}},fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function mv(){return jp||(jp=1,(function(i){function t(G,H){var Q=G.length;G.push(H);e:for(;0<Q;){var de=Q-1>>>1,Ce=G[de];if(0<r(Ce,H))G[de]=H,G[Q]=Ce,Q=de;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var H=G[0],Q=G.pop();if(Q!==H){G[0]=Q;e:for(var de=0,Ce=G.length,b=Ce>>>1;de<b;){var B=2*(de+1)-1,X=G[B],ee=B+1,ae=G[ee];if(0>r(X,Q))ee<Ce&&0>r(ae,X)?(G[de]=ae,G[ee]=Q,de=ee):(G[de]=X,G[B]=Q,de=B);else if(ee<Ce&&0>r(ae,Q))G[de]=ae,G[ee]=Q,de=ee;else break e}}return H}function r(G,H){var Q=G.sortIndex-H.sortIndex;return Q!==0?Q:G.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var v=[],h=[],E=1,x=null,S=3,A=!1,R=!1,L=!1,U=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function J(G){for(var H=o(h);H!==null;){if(H.callback===null)a(h);else if(H.startTime<=G)a(h),H.sortIndex=H.expirationTime,t(v,H);else break;H=o(h)}}function W(G){if(L=!1,J(G),!R)if(o(v)!==null)R=!0,$||($=!0,ke());else{var H=o(h);H!==null&&it(W,H.startTime-G)}}var $=!1,Y=-1,ce=5,j=-1;function ue(){return U?!0:!(i.unstable_now()-j<ce)}function Ae(){if(U=!1,$){var G=i.unstable_now();j=G;var H=!0;try{e:{R=!1,L&&(L=!1,F(Y),Y=-1),A=!0;var Q=S;try{t:{for(J(G),x=o(v);x!==null&&!(x.expirationTime>G&&ue());){var de=x.callback;if(typeof de=="function"){x.callback=null,S=x.priorityLevel;var Ce=de(x.expirationTime<=G);if(G=i.unstable_now(),typeof Ce=="function"){x.callback=Ce,J(G),H=!0;break t}x===o(v)&&a(v),J(G)}else a(v);x=o(v)}if(x!==null)H=!0;else{var b=o(h);b!==null&&it(W,b.startTime-G),H=!1}}break e}finally{x=null,S=Q,A=!1}H=void 0}}finally{H?ke():$=!1}}}var ke;if(typeof O=="function")ke=function(){O(Ae)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ve=Ee.port2;Ee.port1.onmessage=Ae,ke=function(){Ve.postMessage(null)}}else ke=function(){z(Ae,0)};function it(G,H){Y=z(function(){G(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(G){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var Q=S;S=H;try{return G()}finally{S=Q}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=S;S=G;try{return H()}finally{S=Q}},i.unstable_scheduleCallback=function(G,H,Q){var de=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,G){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Q+Ce,G={id:E++,callback:H,priorityLevel:G,startTime:Q,expirationTime:Ce,sortIndex:-1},Q>de?(G.sortIndex=Q,t(h,G),o(v)===null&&G===o(h)&&(L?(F(Y),Y=-1):L=!0,it(W,Q-de))):(G.sortIndex=Ce,t(v,G),R||A||(R=!0,$||($=!0,ke()))),G},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(G){var H=S;return function(){var Q=S;S=H;try{return G.apply(this,arguments)}finally{S=Q}}}})(fu)),fu}var Wp;function hv(){return Wp||(Wp=1,du.exports=mv()),du.exports}var pu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function gv(){if(em)return ot;em=1;var i=wu();function t(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,h,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:v,containerInfo:h,implementation:E}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(v,h){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(v,h,null,E)},ot.flushSync=function(v){var h=p.T,E=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=h,a.p=E,a.d.f()}},ot.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(v,h))},ot.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},ot.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var E=h.as,x=g(E,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;E==="style"?a.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:A}):E==="script"&&a.d.X(v,{crossOrigin:x,integrity:S,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var E=g(h.as,h.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(v)},ot.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var E=h.as,x=g(E,h.crossOrigin);a.d.L(v,E,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(v,h){if(typeof v=="string")if(h){var E=g(h.as,h.crossOrigin);a.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(v)},ot.requestFormReset=function(v){a.d.r(v)},ot.unstable_batchedUpdates=function(v,h){return v(h)},ot.useFormState=function(v,h,E){return p.H.useFormState(v,h,E)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var tm;function yv(){if(tm)return pu.exports;tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=gv(),pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function vv(){if(nm)return Wo;nm=1;var i=hv(),t=wu(),o=yv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return v(f),e;if(m===s)return v(f),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=m;else{for(var T=!1,_=f.child;_;){if(_===l){T=!0,l=f,s=m;break}if(_===s){T=!0,s=f,l=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===l){T=!0,l=m,s=f;break}if(_===s){T=!0,s=m,l=f;break}_=_.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),O=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case O:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case ce:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var it=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},de=[],Ce=-1;function b(e){return{current:e}}function B(e){0>Ce||(e.current=de[Ce],de[Ce]=null,Ce--)}function X(e,n){Ce++,de[Ce]=e.current,e.current=n}var ee=b(null),ae=b(null),fe=b(null),be=b(null);function at(e,n){switch(X(fe,n),X(ae,e),X(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yp(n),e=vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ee),X(ee,e)}function ze(){B(ee),B(ae),B(fe)}function oo(e){e.memoizedState!==null&&X(be,e);var n=ee.current,l=vp(n,e.type);n!==l&&(X(ae,e),X(ee,l))}function al(e){ae.current===e&&(B(ee),B(ae)),be.current===e&&(B(be),Ko._currentValue=Q)}var Fa,Ju;function Yn(e){if(Fa===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Fa=n&&n[1]||"",Ju=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+e+Ju}var Ya=!1;function Ja(e,n){if(!e||Ya)return"";Ya=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var w=k}Reflect.construct(e,[],q)}else{try{q.call()}catch(k){w=k}e.call(q.prototype)}}else{try{throw Error()}catch(k){w=k}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&w&&typeof k.stack=="string")return[k.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var C=T.split(`
`),D=_.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===D.length)for(s=C.length-1,f=D.length-1;1<=s&&0<=f&&C[s]!==D[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==D[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==D[f]){var V=`
`+C[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=f);break}}}finally{Ya=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yn(l):""}function zg(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ja(e.type,!1);case 11:return Ja(e.type.render,!1);case 1:return Ja(e.type,!0);case 31:return Yn("Activity");default:return""}}function Xu(e){try{var n="",l=null;do n+=zg(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Xa=Object.prototype.hasOwnProperty,Ka=i.unstable_scheduleCallback,Qa=i.unstable_cancelCallback,Bg=i.unstable_shouldYield,Og=i.unstable_requestPaint,yt=i.unstable_now,Fg=i.unstable_getCurrentPriorityLevel,Ku=i.unstable_ImmediatePriority,Qu=i.unstable_UserBlockingPriority,sl=i.unstable_NormalPriority,Yg=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,Jg=i.log,Xg=i.unstable_setDisableYieldValue,lo=null,vt=null;function vn(e){if(typeof Jg=="function"&&Xg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(lo,e)}catch{}}var Et=Math.clz32?Math.clz32:Zg,Kg=Math.log,Qg=Math.LN2;function Zg(e){return e>>>=0,e===0?32:31-(Kg(e)/Qg|0)|0}var rl=256,ul=262144,cl=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?f=Jn(s):(T&=_,T!==0?f=Jn(T):l||(l=_&~e,l!==0&&(f=Jn(l))))):(_=s&~m,_!==0?f=Jn(_):T!==0?f=Jn(T):l||(l=s&~e,l!==0&&(f=Jn(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function ao(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $g(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var e=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),e}function Za(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function so(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jg(e,n,l,s,f,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var V=31-Et(l),q=1<<V;_[V]=0,C[V]=-1;var w=D[V];if(w!==null)for(D[V]=null,V=0;V<w.length;V++){var k=w[V];k!==null&&(k.lane&=-536870913)}l&=~q}s!==0&&ju(e,s,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function ju(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Wu(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Et(l),f=1<<s;f&n|e[s]&n&&(e[s]|=n),l&=~f}}function ec(e,n){var l=n&-n;return l=(l&42)!==0?1:$a(l),(l&(e.suspendedLanes|n))!==0?0:l}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:zp(e.type))}function nc(e,n){var l=H.p;try{return H.p=e,n()}finally{H.p=l}}var En=Math.random().toString(36).slice(2),je="__reactFiber$"+En,ct="__reactProps$"+En,fi="__reactContainer$"+En,Wa="__reactEvents$"+En,Wg="__reactListeners$"+En,e0="__reactHandles$"+En,ic="__reactResources$"+En,ro="__reactMarker$"+En;function es(e){delete e[je],delete e[ct],delete e[Wa],delete e[Wg],delete e[e0]}function pi(e){var n=e[je];if(n)return n;for(var l=e.parentNode;l;){if(n=l[fi]||l[je]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Cp(e);e!==null;){if(l=e[je])return l;e=Cp(e)}return n}e=l,l=e.parentNode}return null}function mi(e){if(e=e[je]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function uo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[ro]=!0}var oc=new Set,lc={};function Xn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(lc[e]=n,e=0;e<n.length;e++)oc.add(n[e])}var t0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function n0(e){return Xa.call(sc,e)?!0:Xa.call(ac,e)?!1:t0.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function fl(e,n,l){if(n0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function pl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Zt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function i0(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=i0(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var o0=/[\n"\\]/g;function Rt(e){return e.replace(o0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ns(e,n,l,s,f,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?is(e,T,bt(n)):l!=null?is(e,T,bt(l)):s!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+bt(_):e.removeAttribute("name")}function cc(e,n,l,s,f,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ts(e);return}l=l!=null?""+bt(l):"",n=n!=null?""+bt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ts(e)}function is(e,n,l){n==="number"&&ml(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function yi(e,n,l,s){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function dc(e,n,l){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+bt(l):""}function fc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=bt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ts(e)}function vi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||l0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function mc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&l[f]!==s&&pc(e,f,s)}else for(var m in n)n.hasOwnProperty(m)&&pc(e,m,n[m])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return s0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var ls=null;function as(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function hc(e){var n=mi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(ns(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var f=s[ct]||null;if(!f)throw Error(a(90));ns(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&uc(s)}break e;case"textarea":dc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&yi(e,!!l.multiple,n,!1)}}}var ss=!1;function gc(e,n,l){if(ss)return e(n,l);ss=!0;try{var s=e(n);return s}finally{if(ss=!1,(Ei!==null||Ti!==null)&&(na(),Ei&&(n=Ei,e=Ti,Ti=Ei=null,hc(n),e)))for(n=0;n<e.length;n++)hc(e[n])}}function co(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(jt)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){rs=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{rs=!1}var Tn=null,us=null,gl=null;function yc(){if(gl)return gl;var e,n=us,l=n.length,s,f="value"in Tn?Tn.value:Tn.textContent,m=f.length;for(e=0;e<l&&n[e]===f[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===f[m-s];s++);return gl=f.slice(e,1<s?1-s:void 0)}function yl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function vc(){return!1}function dt(e){function n(l,s,f,m,T){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vl:vc,this.isPropagationStopped=vc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),n}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=dt(Kn),po=x({},Kn,{view:0,detail:0}),r0=dt(po),cs,ds,mo,Tl=x({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(cs=e.screenX-mo.screenX,ds=e.screenY-mo.screenY):ds=cs=0,mo=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),Ec=dt(Tl),u0=x({},Tl,{dataTransfer:0}),c0=dt(u0),d0=x({},po,{relatedTarget:0}),fs=dt(d0),f0=x({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),p0=dt(f0),m0=x({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=dt(m0),g0=x({},Kn,{data:0}),Tc=dt(g0),y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=E0[e])?!!n[e]:!1}function ps(){return T0}var S0=x({},po,{key:function(e){if(e.key){var n=y0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x0=dt(S0),_0=x({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=dt(_0),A0=x({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),C0=dt(A0),N0=x({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=dt(N0),R0=x({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=dt(R0),I0=x({},Kn,{newState:0,oldState:0}),D0=dt(I0),w0=[9,13,27,32],ms=jt&&"CompositionEvent"in window,ho=null;jt&&"documentMode"in document&&(ho=document.documentMode);var U0=jt&&"TextEvent"in window&&!ho,xc=jt&&(!ms||ho&&8<ho&&11>=ho),_c=" ",Ac=!1;function Cc(e,n){switch(e){case"keyup":return w0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function k0(e,n){switch(e){case"compositionend":return Nc(n);case"keypress":return n.which!==32?null:(Ac=!0,_c);case"textInput":return e=n.data,e===_c&&Ac?null:e;default:return null}}function L0(e,n){if(Si)return e==="compositionend"||!ms&&Cc(e,n)?(e=yc(),gl=us=Tn=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!G0[e.type]:n==="textarea"}function Rc(e,n,l,s){Ei?Ti?Ti.push(s):Ti=[s]:Ei=s,n=ua(n,"onChange"),0<n.length&&(l=new El("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var go=null,yo=null;function H0(e){dp(e,0)}function Sl(e){var n=uo(e);if(uc(n))return e}function Mc(e,n){if(e==="change")return n}var Ic=!1;if(jt){var hs;if(jt){var gs="oninput"in document;if(!gs){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),gs=typeof Dc.oninput=="function"}hs=gs}else hs=!1;Ic=hs&&(!document.documentMode||9<document.documentMode)}function wc(){go&&(go.detachEvent("onpropertychange",Uc),yo=go=null)}function Uc(e){if(e.propertyName==="value"&&Sl(yo)){var n=[];Rc(n,yo,e,as(e)),gc(H0,n)}}function V0(e,n,l){e==="focusin"?(wc(),go=n,yo=l,go.attachEvent("onpropertychange",Uc)):e==="focusout"&&wc()}function P0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(yo)}function q0(e,n){if(e==="click")return Sl(n)}function z0(e,n){if(e==="input"||e==="change")return Sl(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:B0;function vo(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!Xa.call(n,f)||!Tt(e[f],n[f]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var l=kc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kc(l)}}function Gc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ml(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ml(e.document)}return n}function ys(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O0=jt&&"documentMode"in document&&11>=document.documentMode,xi=null,vs=null,Eo=null,Es=!1;function Vc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Es||xi==null||xi!==ml(s)||(s=xi,"selectionStart"in s&&ys(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Eo&&vo(Eo,s)||(Eo=s,s=ua(vs,"onSelect"),0<s.length&&(n=new El("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=xi)))}function Qn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var _i={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},Ts={},Pc={};jt&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Zn(e){if(Ts[e])return Ts[e];if(!_i[e])return e;var n=_i[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Pc)return Ts[e]=n[l];return e}var qc=Zn("animationend"),zc=Zn("animationiteration"),Bc=Zn("animationstart"),F0=Zn("transitionrun"),Y0=Zn("transitionstart"),J0=Zn("transitioncancel"),Oc=Zn("transitionend"),Fc=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function qt(e,n){Fc.set(e,n),Xn(n,[e])}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Ai=0,xs=0;function _l(){for(var e=Ai,n=xs=Ai=0;n<e;){var l=Mt[n];Mt[n++]=null;var s=Mt[n];Mt[n++]=null;var f=Mt[n];Mt[n++]=null;var m=Mt[n];if(Mt[n++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}m!==0&&Yc(l,f,m)}}function Al(e,n,l,s){Mt[Ai++]=e,Mt[Ai++]=n,Mt[Ai++]=l,Mt[Ai++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _s(e,n,l,s){return Al(e,n,l,s),Cl(e)}function $n(e,n){return Al(e,null,null,n),Cl(e)}function Yc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Et(l),e=m.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=l|536870912),m):null}function Cl(e){if(50<zo)throw zo=0,wr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function X0(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,n,l,s){return new X0(e,n,l,s)}function As(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var l=e.alternate;return l===null?(l=St(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Jc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nl(e,n,l,s,f,m){var T=0;if(s=e,typeof e=="function")As(e)&&(T=1);else if(typeof e=="string")T=jy(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=St(31,l,n,f),e.elementType=j,e.lanes=m,e;case L:return jn(l.children,f,m,n);case U:T=8,f|=24;break;case z:return e=St(12,l,n,f|2),e.elementType=z,e.lanes=m,e;case W:return e=St(13,l,n,f),e.elementType=W,e.lanes=m,e;case $:return e=St(19,l,n,f),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:T=10;break e;case F:T=9;break e;case J:T=11;break e;case Y:T=14;break e;case ce:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=St(T,l,n,f),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,l,s){return e=St(7,e,s,n),e.lanes=l,e}function Cs(e,n,l){return e=St(6,e,null,n),e.lanes=l,e}function Xc(e){var n=St(18,null,null,0);return n.stateNode=e,n}function Ns(e,n,l){return n=St(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kc=new WeakMap;function It(e,n){if(typeof e=="object"&&e!==null){var l=Kc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Xu(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:Xu(n)}}var Ni=[],bi=0,bl=null,To=0,Dt=[],wt=0,Sn=null,Jt=1,Xt="";function en(e,n){Ni[bi++]=To,Ni[bi++]=bl,bl=e,To=n}function Qc(e,n,l){Dt[wt++]=Jt,Dt[wt++]=Xt,Dt[wt++]=Sn,Sn=e;var s=Jt;e=Xt;var f=32-Et(s)-1;s&=~(1<<f),l+=1;var m=32-Et(n)+f;if(30<m){var T=f-f%5;m=(s&(1<<T)-1).toString(32),s>>=T,f-=T,Jt=1<<32-Et(n)+f|l<<f|s,Xt=m+e}else Jt=1<<m|l<<f|s,Xt=e}function bs(e){e.return!==null&&(en(e,1),Qc(e,1,0))}function Rs(e){for(;e===bl;)bl=Ni[--bi],Ni[bi]=null,To=Ni[--bi],Ni[bi]=null;for(;e===Sn;)Sn=Dt[--wt],Dt[wt]=null,Xt=Dt[--wt],Dt[wt]=null,Jt=Dt[--wt],Dt[wt]=null}function Zc(e,n){Dt[wt++]=Jt,Dt[wt++]=Xt,Dt[wt++]=Sn,Jt=n.id,Xt=n.overflow,Sn=e}var We=null,Le=null,ve=!1,xn=null,Ut=!1,Ms=Error(a(519));function _n(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw So(It(n,e)),Ms}function $c(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[je]=e,n[ct]=s,l){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(l=0;l<Oo.length;l++)me(Oo[l],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),fc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||hp(n.textContent,l)?(s.popover!=null&&(me("beforetoggle",n),me("toggle",n)),s.onScroll!=null&&me("scroll",n),s.onScrollEnd!=null&&me("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||_n(e,!0)}function jc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:We=We.return}}function Ri(e){if(e!==We)return!1;if(!ve)return jc(e),ve=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Xr(e.type,e.memoizedProps)),l=!l),l&&Le&&_n(e),jc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else n===27?(n=Le,Hn(e.type)?(e=jr,jr=null,Le=e):Le=n):Le=We?Lt(e.stateNode.nextSibling):null;return!0}function Wn(){Le=We=null,ve=!1}function Is(){var e=xn;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),xn=null),e}function So(e){xn===null?xn=[e]:xn.push(e)}var Ds=b(null),ei=null,tn=null;function An(e,n,l){X(Ds,n._currentValue),n._currentValue=l}function nn(e){e._currentValue=Ds.current,B(Ds)}function ws(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Us(e,n,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=f;for(var C=0;C<n.length;C++)if(_.context===n[C]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),ws(m.return,l,e),s||(T=null);break e}m=_.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),ws(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Mi(e,n,l,s){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=f.type;Tt(f.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(f===be.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ko):e=[Ko])}f=f.return}e!==null&&Us(n,e,l,s),n.flags|=262144}function Rl(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ti(e){ei=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return Wc(ei,e)}function Ml(e,n){return ei===null&&ti(e),Wc(e,n)}function Wc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return l}var K0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Q0=i.unstable_scheduleCallback,Z0=i.unstable_NormalPriority,Fe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new K0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Q0(Z0,function(){e.controller.abort()})}var _o=null,Ls=0,Ii=0,Di=null;function $0(e,n){if(_o===null){var l=_o=[];Ls=0,Ii=Vr(),Di={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Ls++,n.then(ed,ed),n}function ed(){if(--Ls===0&&_o!==null){Di!==null&&(Di.status="fulfilled");var e=_o;_o=null,Ii=0,Di=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function j0(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var td=G.S;G.S=function(e,n){Pf=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$0(e,n),td!==null&&td(e,n)};var ni=b(null);function Gs(){var e=ni.current;return e!==null?e:Ue.pooledCache}function Il(e,n){n===null?X(ni,ni.current):X(ni,n.pool)}function nd(){var e=Gs();return e===null?null:{parent:Fe._currentValue,pool:e}}var wi=Error(a(460)),Hs=Error(a(474)),Dl=Error(a(542)),wl={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function od(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then($t,$t),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e}throw oi=n,wi}}function ii(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(oi=l,wi):l}}var oi=null;function ld(){if(oi===null)throw Error(a(459));var e=oi;return oi=null,e}function ad(e){if(e===wi||e===Dl)throw Error(a(483))}var Ui=null,Ao=0;function Ul(e){var n=Ao;return Ao+=1,Ui===null&&(Ui=[]),od(Ui,e,n)}function Co(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function kl(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sd(e){function n(M,N){if(e){var I=M.deletions;I===null?(M.deletions=[N],M.flags|=16):I.push(N)}}function l(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function s(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function f(M,N){return M=Wt(M,N),M.index=0,M.sibling=null,M}function m(M,N,I){return M.index=I,e?(I=M.alternate,I!==null?(I=I.index,I<N?(M.flags|=67108866,N):I):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,N,I,P){return N===null||N.tag!==6?(N=Cs(I,M.mode,P),N.return=M,N):(N=f(N,I),N.return=M,N)}function C(M,N,I,P){var ne=I.type;return ne===L?V(M,N,I.props.children,P,I.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&ii(ne)===N.type)?(N=f(N,I.props),Co(N,I),N.return=M,N):(N=Nl(I.type,I.key,I.props,null,M.mode,P),Co(N,I),N.return=M,N)}function D(M,N,I,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Ns(I,M.mode,P),N.return=M,N):(N=f(N,I.children||[]),N.return=M,N)}function V(M,N,I,P,ne){return N===null||N.tag!==7?(N=jn(I,M.mode,P,ne),N.return=M,N):(N=f(N,I),N.return=M,N)}function q(M,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Cs(""+N,M.mode,I),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return I=Nl(N.type,N.key,N.props,null,M.mode,I),Co(I,N),I.return=M,I;case R:return N=Ns(N,M.mode,I),N.return=M,N;case ce:return N=ii(N),q(M,N,I)}if(it(N)||ke(N))return N=jn(N,M.mode,I,null),N.return=M,N;if(typeof N.then=="function")return q(M,Ul(N),I);if(N.$$typeof===O)return q(M,Ml(M,N),I);kl(M,N)}return null}function w(M,N,I,P){var ne=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ne!==null?null:_(M,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===ne?C(M,N,I,P):null;case R:return I.key===ne?D(M,N,I,P):null;case ce:return I=ii(I),w(M,N,I,P)}if(it(I)||ke(I))return ne!==null?null:V(M,N,I,P,null);if(typeof I.then=="function")return w(M,N,Ul(I),P);if(I.$$typeof===O)return w(M,N,Ml(M,I),P);kl(M,I)}return null}function k(M,N,I,P,ne){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return M=M.get(I)||null,_(N,M,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return M=M.get(P.key===null?I:P.key)||null,C(N,M,P,ne);case R:return M=M.get(P.key===null?I:P.key)||null,D(N,M,P,ne);case ce:return P=ii(P),k(M,N,I,P,ne)}if(it(P)||ke(P))return M=M.get(I)||null,V(N,M,P,ne,null);if(typeof P.then=="function")return k(M,N,I,Ul(P),ne);if(P.$$typeof===O)return k(M,N,I,Ml(N,P),ne);kl(N,P)}return null}function Z(M,N,I,P){for(var ne=null,Te=null,te=N,re=N=0,ge=null;te!==null&&re<I.length;re++){te.index>re?(ge=te,te=null):ge=te.sibling;var Se=w(M,te,I[re],P);if(Se===null){te===null&&(te=ge);break}e&&te&&Se.alternate===null&&n(M,te),N=m(Se,N,re),Te===null?ne=Se:Te.sibling=Se,Te=Se,te=ge}if(re===I.length)return l(M,te),ve&&en(M,re),ne;if(te===null){for(;re<I.length;re++)te=q(M,I[re],P),te!==null&&(N=m(te,N,re),Te===null?ne=te:Te.sibling=te,Te=te);return ve&&en(M,re),ne}for(te=s(te);re<I.length;re++)ge=k(te,M,re,I[re],P),ge!==null&&(e&&ge.alternate!==null&&te.delete(ge.key===null?re:ge.key),N=m(ge,N,re),Te===null?ne=ge:Te.sibling=ge,Te=ge);return e&&te.forEach(function(Bn){return n(M,Bn)}),ve&&en(M,re),ne}function ie(M,N,I,P){if(I==null)throw Error(a(151));for(var ne=null,Te=null,te=N,re=N=0,ge=null,Se=I.next();te!==null&&!Se.done;re++,Se=I.next()){te.index>re?(ge=te,te=null):ge=te.sibling;var Bn=w(M,te,Se.value,P);if(Bn===null){te===null&&(te=ge);break}e&&te&&Bn.alternate===null&&n(M,te),N=m(Bn,N,re),Te===null?ne=Bn:Te.sibling=Bn,Te=Bn,te=ge}if(Se.done)return l(M,te),ve&&en(M,re),ne;if(te===null){for(;!Se.done;re++,Se=I.next())Se=q(M,Se.value,P),Se!==null&&(N=m(Se,N,re),Te===null?ne=Se:Te.sibling=Se,Te=Se);return ve&&en(M,re),ne}for(te=s(te);!Se.done;re++,Se=I.next())Se=k(te,M,re,Se.value,P),Se!==null&&(e&&Se.alternate!==null&&te.delete(Se.key===null?re:Se.key),N=m(Se,N,re),Te===null?ne=Se:Te.sibling=Se,Te=Se);return e&&te.forEach(function(uv){return n(M,uv)}),ve&&en(M,re),ne}function we(M,N,I,P){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var ne=I.key;N!==null;){if(N.key===ne){if(ne=I.type,ne===L){if(N.tag===7){l(M,N.sibling),P=f(N,I.props.children),P.return=M,M=P;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&ii(ne)===N.type){l(M,N.sibling),P=f(N,I.props),Co(P,I),P.return=M,M=P;break e}l(M,N);break}else n(M,N);N=N.sibling}I.type===L?(P=jn(I.props.children,M.mode,P,I.key),P.return=M,M=P):(P=Nl(I.type,I.key,I.props,null,M.mode,P),Co(P,I),P.return=M,M=P)}return T(M);case R:e:{for(ne=I.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){l(M,N.sibling),P=f(N,I.children||[]),P.return=M,M=P;break e}else{l(M,N);break}else n(M,N);N=N.sibling}P=Ns(I,M.mode,P),P.return=M,M=P}return T(M);case ce:return I=ii(I),we(M,N,I,P)}if(it(I))return Z(M,N,I,P);if(ke(I)){if(ne=ke(I),typeof ne!="function")throw Error(a(150));return I=ne.call(I),ie(M,N,I,P)}if(typeof I.then=="function")return we(M,N,Ul(I),P);if(I.$$typeof===O)return we(M,N,Ml(M,I),P);kl(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(l(M,N.sibling),P=f(N,I),P.return=M,M=P):(l(M,N),P=Cs(I,M.mode,P),P.return=M,M=P),T(M)):l(M,N)}return function(M,N,I,P){try{Ao=0;var ne=we(M,N,I,P);return Ui=null,ne}catch(te){if(te===wi||te===Dl)throw te;var Te=St(29,te,null,M.mode);return Te.lanes=P,Te.return=M,Te}finally{}}}var li=sd(!0),rd=sd(!1),Cn=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ne&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Cl(e),Yc(e,null,l),n}return Al(e,s,n,l),Cl(e)}function No(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Wu(e,l)}}function qs(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var zs=!1;function bo(){if(zs){var e=Di;if(e!==null)throw e}}function Ro(e,n,l,s){zs=!1;var f=e.updateQueue;Cn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var C=_,D=C.next;C.next=null,T===null?m=D:T.next=D,T=C;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==T&&(_===null?V.firstBaseUpdate=D:_.next=D,V.lastBaseUpdate=C))}if(m!==null){var q=f.baseState;T=0,V=D=C=null,_=m;do{var w=_.lane&-536870913,k=w!==_.lane;if(k?(he&w)===w:(s&w)===w){w!==0&&w===Ii&&(zs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Z=e,ie=_;w=n;var we=l;switch(ie.tag){case 1:if(Z=ie.payload,typeof Z=="function"){q=Z.call(we,q,w);break e}q=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ie.payload,w=typeof Z=="function"?Z.call(we,q,w):Z,w==null)break e;q=x({},q,w);break e;case 2:Cn=!0}}w=_.callback,w!==null&&(e.flags|=64,k&&(e.flags|=8192),k=f.callbacks,k===null?f.callbacks=[w]:k.push(w))}else k={lane:w,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(D=V=k,C=q):V=V.next=k,T|=w;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;k=_,_=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);V===null&&(C=q),f.baseState=C,f.firstBaseUpdate=D,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),wn|=T,e.lanes=T,e.memoizedState=q}}function ud(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ud(l[e],n)}var ki=b(null),Ll=b(0);function dd(e,n){e=fn,X(Ll,e),X(ki,n),fn=e|n.baseLanes}function Bs(){X(Ll,fn),X(ki,ki.current)}function Os(){fn=Ll.current,B(ki),B(Ll)}var xt=b(null),kt=null;function Rn(e){var n=e.alternate;X(Be,Be.current&1),X(xt,e),kt===null&&(n===null||ki.current!==null||n.memoizedState!==null)&&(kt=e)}function Fs(e){X(Be,Be.current),X(xt,e),kt===null&&(kt=e)}function fd(e){e.tag===22?(X(Be,Be.current),X(xt,e),kt===null&&(kt=e)):Mn()}function Mn(){X(Be,Be.current),X(xt,xt.current)}function _t(e){B(xt),kt===e&&(kt=null),B(Be)}var Be=b(0);function Gl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zr(l)||$r(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=0,se=null,Ie=null,Ye=null,Hl=!1,Li=!1,ai=!1,Vl=0,Mo=0,Gi=null,W0=0;function Pe(){throw Error(a(321))}function Ys(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Tt(e[l],n[l]))return!1;return!0}function Js(e,n,l,s,f,m){return on=m,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Qd:sr,ai=!1,m=l(s,f),ai=!1,Li&&(m=md(n,l,s,f)),pd(e),m}function pd(e){G.H=wo;var n=Ie!==null&&Ie.next!==null;if(on=0,Ye=Ie=se=null,Hl=!1,Mo=0,Gi=null,n)throw Error(a(300));e===null||Je||(e=e.dependencies,e!==null&&Rl(e)&&(Je=!0))}function md(e,n,l,s){se=e;var f=0;do{if(Li&&(Gi=null),Mo=0,Li=!1,25<=f)throw Error(a(301));if(f+=1,Ye=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=Zd,m=n(l,s)}while(Li);return m}function ey(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Io(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(se.flags|=1024),n}function Xs(){var e=Vl!==0;return Vl=0,e}function Ks(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Qs(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}on=0,Ye=Ie=se=null,Li=!1,Mo=Vl=0,Gi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?se.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Oe(){if(Ie===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Ye===null?se.memoizedState:Ye.next;if(n!==null)Ye=n,Ie=e;else{if(e===null)throw se.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ye===null?se.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(e){var n=Mo;return Mo+=1,Gi===null&&(Gi=[]),e=od(Gi,e,n),n=se,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Qd:sr),e}function ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Io(e);if(e.$$typeof===O)return et(e)}throw Error(a(438,String(e)))}function Zs(e){var n=null,l=se.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Pl(),se.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ue;return n.index++,l}function ln(e,n){return typeof n=="function"?n(e):n}function zl(e){var n=Oe();return $s(n,Ie,e)}function $s(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,m=s.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,s.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var _=T=null,C=null,D=n,V=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(he&q)===q:(on&q)===q){var w=D.revertLane;if(w===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===Ii&&(V=!0);else if((on&w)===w){D=D.next,w===Ii&&(V=!0);continue}else q={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=q,T=m):C=C.next=q,se.lanes|=w,wn|=w;q=D.action,ai&&l(m,q),m=D.hasEagerState?D.eagerState:l(m,q)}else w={lane:q,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=w,T=m):C=C.next=w,se.lanes|=q,wn|=q;D=D.next}while(D!==null&&D!==n);if(C===null?T=m:C.next=_,!Tt(m,e.memoizedState)&&(Je=!0,V&&(l=Di,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=C,s.lastRenderedState=m}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var n=Oe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Tt(m,n.memoizedState)||(Je=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function hd(e,n,l){var s=se,f=Oe(),m=ve;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Tt((Ie||f).memoizedState,l);if(T&&(f.memoizedState=l,Je=!0),f=f.queue,tr(vd.bind(null,s,f,e),[e]),f.getSnapshot!==n||T||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,Hi(9,{destroy:void 0},yd.bind(null,s,f,l,n),null),Ue===null)throw Error(a(349));m||(on&127)!==0||gd(s,n,l)}return l}function gd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=se.updateQueue,n===null?(n=Pl(),se.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function yd(e,n,l,s){n.value=l,n.getSnapshot=s,Ed(n)&&Td(e)}function vd(e,n,l){return l(function(){Ed(n)&&Td(e)})}function Ed(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Tt(e,l)}catch{return!0}}function Td(e){var n=$n(e,2);n!==null&&gt(n,e,2)}function Ws(e){var n=st();if(typeof e=="function"){var l=e;if(e=l(),ai){vn(!0);try{l()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},n}function Sd(e,n,l,s){return e.baseState=l,$s(e,Ie,typeof s=="function"?s:ln)}function ty(e,n,l,s,f){if(Fl(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,xd(n,m)):(m.next=l.next,n.pending=l.next=m)}}function xd(e,n){var l=n.action,s=n.payload,f=e.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var _=l(f,s),C=G.S;C!==null&&C(T,_),_d(e,n,_)}catch(D){er(e,n,D)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=l(f,s),_d(e,n,m)}catch(D){er(e,n,D)}}function _d(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Ad(e,n,s)},function(s){return er(e,n,s)}):Ad(e,n,l)}function Ad(e,n,l){n.status="fulfilled",n.value=l,Cd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,xd(e,l)))}function er(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Cd(n),n=n.next;while(n!==s)}e.action=null}function Cd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Nd(e,n){return n}function bd(e,n){if(ve){var l=Ue.formState;if(l!==null){e:{var s=se;if(ve){if(Le){t:{for(var f=Le,m=Ut;f.nodeType!==8;){if(!m){f=null;break t}if(f=Lt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Le=Lt(f.nextSibling),s=f.data==="F!";break e}}_n(s)}s=!1}s&&(n=l[0])}}return l=st(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:n},l.queue=s,l=Jd.bind(null,se,s),s.dispatch=l,s=Ws(!1),m=ar.bind(null,se,!1,s.queue),s=st(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,l=ty.bind(null,se,f,m,l),f.dispatch=l,s.memoizedState=e,[n,l,!1]}function Rd(e){var n=Oe();return Md(n,Ie,e)}function Md(e,n,l){if(n=$s(e,n,Nd)[0],e=zl(ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Io(n)}catch(T){throw T===wi?Dl:T}else s=n;n=Oe();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(se.flags|=2048,Hi(9,{destroy:void 0},ny.bind(null,f,l),null)),[s,m,e]}function ny(e,n){e.action=n}function Id(e){var n=Oe(),l=Ie;if(l!==null)return Md(n,l,e);Oe(),n=n.memoizedState,l=Oe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Hi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=se.updateQueue,n===null&&(n=Pl(),se.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Dd(){return Oe().memoizedState}function Bl(e,n,l,s){var f=st();se.flags|=e,f.memoizedState=Hi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Ol(e,n,l,s){var f=Oe();s=s===void 0?null:s;var m=f.memoizedState.inst;Ie!==null&&s!==null&&Ys(s,Ie.memoizedState.deps)?f.memoizedState=Hi(n,m,l,s):(se.flags|=e,f.memoizedState=Hi(1|n,m,l,s))}function wd(e,n){Bl(8390656,8,e,n)}function tr(e,n){Ol(2048,8,e,n)}function iy(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=Pl(),se.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Ud(e){var n=Oe().memoizedState;return iy({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kd(e,n){return Ol(4,2,e,n)}function Ld(e,n){return Ol(4,4,e,n)}function Gd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hd(e,n,l){l=l!=null?l.concat([e]):null,Ol(4,4,Gd.bind(null,n,e),l)}function nr(){}function Vd(e,n){var l=Oe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Ys(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Pd(e,n){var l=Oe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Ys(n,s[1]))return s[0];if(s=e(),ai){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s}function ir(e,n,l){return l===void 0||(on&1073741824)!==0&&(he&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=zf(),se.lanes|=e,wn|=e,l)}function qd(e,n,l,s){return Tt(l,n)?l:ki.current!==null?(e=ir(e,l,s),Tt(e,n)||(Je=!0),e):(on&42)===0||(on&1073741824)!==0&&(he&261930)===0?(Je=!0,e.memoizedState=l):(e=zf(),se.lanes|=e,wn|=e,n)}function zd(e,n,l,s,f){var m=H.p;H.p=m!==0&&8>m?m:8;var T=G.T,_={};G.T=_,ar(e,!1,n,l);try{var C=f(),D=G.S;if(D!==null&&D(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=j0(C,s);Do(e,n,V,Nt(e))}else Do(e,n,s,Nt(e))}catch(q){Do(e,n,{then:function(){},status:"rejected",reason:q},Nt())}finally{H.p=m,T!==null&&_.types!==null&&(T.types=_.types),G.T=T}}function oy(){}function or(e,n,l,s){if(e.tag!==5)throw Error(a(476));var f=Bd(e).queue;zd(e,f,n,Q,l===null?oy:function(){return Od(e),l(s)})}function Bd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:Q},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Od(e){var n=Bd(e);n.next===null&&(n=e.alternate.memoizedState),Do(e,n.next.queue,{},Nt())}function lr(){return et(Ko)}function Fd(){return Oe().memoizedState}function Yd(){return Oe().memoizedState}function ly(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Nn(l);var s=bn(n,e,l);s!==null&&(gt(s,n,l),No(s,n,l)),n={cache:ks()},e.payload=n;return}n=n.return}}function ay(e,n,l){var s=Nt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fl(e)?Xd(n,l):(l=_s(e,n,l,s),l!==null&&(gt(l,e,s),Kd(l,n,s)))}function Jd(e,n,l){var s=Nt();Do(e,n,l,s)}function Do(e,n,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fl(e))Xd(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,l);if(f.hasEagerState=!0,f.eagerState=_,Tt(_,T))return Al(e,n,f,0),Ue===null&&_l(),!1}catch{}finally{}if(l=_s(e,n,f,s),l!==null)return gt(l,e,s),Kd(l,n,s),!0}return!1}function ar(e,n,l,s){if(s={lane:2,revertLane:Vr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fl(e)){if(n)throw Error(a(479))}else n=_s(e,l,s,2),n!==null&&gt(n,e,2)}function Fl(e){var n=e.alternate;return e===se||n!==null&&n===se}function Xd(e,n){Li=Hl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Kd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Wu(e,l)}}var wo={readContext:et,use:ql,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};wo.useEffectEvent=Pe;var Qd={readContext:et,use:ql,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:et,useEffect:wd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Bl(4194308,4,Gd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Bl(4194308,4,e,n)},useInsertionEffect:function(e,n){Bl(4,2,e,n)},useMemo:function(e,n){var l=st();n=n===void 0?null:n;var s=e();if(ai){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=st();if(l!==void 0){var f=l(n);if(ai){vn(!0);try{l(n)}finally{vn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=ay.bind(null,se,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=Ws(e);var n=e.queue,l=Jd.bind(null,se,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:nr,useDeferredValue:function(e,n){var l=st();return ir(l,e,n)},useTransition:function(){var e=Ws(!1);return e=zd.bind(null,se,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=se,f=st();if(ve){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ue===null)throw Error(a(349));(he&127)!==0||gd(s,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,wd(vd.bind(null,s,m,e),[e]),s.flags|=2048,Hi(9,{destroy:void 0},yd.bind(null,s,m,l,n),null),l},useId:function(){var e=st(),n=Ue.identifierPrefix;if(ve){var l=Xt,s=Jt;l=(s&~(1<<32-Et(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Vl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=W0++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:lr,useFormState:bd,useActionState:bd,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ar.bind(null,se,!0,l),l.dispatch=n,[e,n]},useMemoCache:Zs,useCacheRefresh:function(){return st().memoizedState=ly.bind(null,se)},useEffectEvent:function(e){var n=st(),l={impl:e};return n.memoizedState=l,function(){if((Ne&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},sr={readContext:et,use:ql,useCallback:Vd,useContext:et,useEffect:tr,useImperativeHandle:Hd,useInsertionEffect:kd,useLayoutEffect:Ld,useMemo:Pd,useReducer:zl,useRef:Dd,useState:function(){return zl(ln)},useDebugValue:nr,useDeferredValue:function(e,n){var l=Oe();return qd(l,Ie.memoizedState,e,n)},useTransition:function(){var e=zl(ln)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Io(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:lr,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,n){var l=Oe();return Sd(l,Ie,e,n)},useMemoCache:Zs,useCacheRefresh:Yd};sr.useEffectEvent=Ud;var Zd={readContext:et,use:ql,useCallback:Vd,useContext:et,useEffect:tr,useImperativeHandle:Hd,useInsertionEffect:kd,useLayoutEffect:Ld,useMemo:Pd,useReducer:js,useRef:Dd,useState:function(){return js(ln)},useDebugValue:nr,useDeferredValue:function(e,n){var l=Oe();return Ie===null?ir(l,e,n):qd(l,Ie.memoizedState,e,n)},useTransition:function(){var e=js(ln)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Io(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:lr,useFormState:Id,useActionState:Id,useOptimistic:function(e,n){var l=Oe();return Ie!==null?Sd(l,Ie,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Zs,useCacheRefresh:Yd};Zd.useEffectEvent=Ud;function rr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ur={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Nt(),f=Nn(s);f.payload=n,l!=null&&(f.callback=l),n=bn(e,f,s),n!==null&&(gt(n,e,s),No(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Nt(),f=Nn(s);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=bn(e,f,s),n!==null&&(gt(n,e,s),No(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),s=Nn(l);s.tag=2,n!=null&&(s.callback=n),n=bn(e,s,l),n!==null&&(gt(n,e,l),No(n,e,l))}};function $d(e,n,l,s,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!vo(l,s)||!vo(f,m):!0}function jd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&ur.enqueueReplaceState(n,n.state,null)}function si(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Wd(e){xl(e)}function ef(e){console.error(e)}function tf(e){xl(e)}function Yl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function nf(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cr(e,n,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Yl(e,n)},l}function of(e){return e=Nn(e),e.tag=3,e}function lf(e,n,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;e.payload=function(){return f(m)},e.callback=function(){nf(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){nf(n,l,s),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function sy(e,n,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Mi(n,l,f,!0),l=xt.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?ia():l.alternate===null&&qe===0&&(qe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===wl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Lr(e,s,f)),!1;case 22:return l.flags|=65536,s===wl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Lr(e,s,f)),!1}throw Error(a(435,l.tag))}return Lr(e,s,f),ia(),!1}if(ve)return n=xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Ms&&(e=Error(a(422),{cause:s}),So(It(e,l)))):(s!==Ms&&(n=Error(a(423),{cause:s}),So(It(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=It(s,l),f=cr(e.stateNode,s,f),qs(e,f),qe!==4&&(qe=2)),!1;var m=Error(a(520),{cause:s});if(m=It(m,l),qo===null?qo=[m]:qo.push(m),qe!==4&&(qe=2),n===null)return!0;s=It(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=cr(l.stateNode,s,e),qs(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=of(f),lf(f,e,l,s),qs(l,f),!1}l=l.return}while(l!==null);return!1}var dr=Error(a(461)),Je=!1;function tt(e,n,l,s){n.child=e===null?rd(n,null,l,s):li(n,e.child,l,s)}function af(e,n,l,s,f){l=l.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return ti(n),s=Js(e,n,l,T,m,f),_=Xs(),e!==null&&!Je?(Ks(e,n,f),an(e,n,f)):(ve&&_&&bs(n),n.flags|=1,tt(e,n,s,f),n.child)}function sf(e,n,l,s,f){if(e===null){var m=l.type;return typeof m=="function"&&!As(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,rf(e,n,m,s,f)):(e=Nl(l.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Er(e,f)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(T,s)&&e.ref===n.ref)return an(e,n,f)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function rf(e,n,l,s,f){if(e!==null){var m=e.memoizedProps;if(vo(m,s)&&e.ref===n.ref)if(Je=!1,n.pendingProps=s=m,Er(e,f))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,an(e,n,f)}return fr(e,n,l,s,f)}function uf(e,n,l,s){var f=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~m}else s=0,n.child=null;return cf(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Il(n,m!==null?m.cachePool:null),m!==null?dd(n,m):Bs(),fd(n);else return s=n.lanes=536870912,cf(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Il(n,m.cachePool),dd(n,m),Mn(),n.memoizedState=null):(e!==null&&Il(n,null),Bs(),Mn());return tt(e,n,f,l),n.child}function Uo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cf(e,n,l,s,f){var m=Gs();return m=m===null?null:{parent:Fe._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Il(n,null),Bs(),fd(n),e!==null&&Mi(e,n,s,!0),n.childLanes=f,null}function Jl(e,n){return n=Kl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function df(e,n,l){return li(n,e.child,null,l),e=Jl(n,n.pendingProps),e.flags|=2,_t(n),n.memoizedState=null,e}function ry(e,n,l){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ve){if(s.mode==="hidden")return e=Jl(n,s),n.lanes=536870912,Uo(null,e);if(Fs(n),(e=Le)?(e=_p(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,We=n,Le=null)):e=null,e===null)throw _n(n);return n.lanes=536870912,null}return Jl(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Fs(n),f)if(n.flags&256)n.flags&=-257,n=df(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Je||Mi(e,n,l,!1),f=(l&e.childLanes)!==0,Je||f){if(s=Ue,s!==null&&(T=ec(s,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,$n(e,T),gt(s,e,T),dr;ia(),n=df(e,n,l)}else e=m.treeContext,Le=Lt(T.nextSibling),We=n,ve=!0,xn=null,Ut=!1,e!==null&&Zc(n,e),n=Jl(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function fr(e,n,l,s,f){return ti(n),l=Js(e,n,l,s,void 0,f),s=Xs(),e!==null&&!Je?(Ks(e,n,f),an(e,n,f)):(ve&&s&&bs(n),n.flags|=1,tt(e,n,l,f),n.child)}function ff(e,n,l,s,f,m){return ti(n),n.updateQueue=null,l=md(n,s,l,f),pd(e),s=Xs(),e!==null&&!Je?(Ks(e,n,m),an(e,n,m)):(ve&&s&&bs(n),n.flags|=1,tt(e,n,l,m),n.child)}function pf(e,n,l,s,f){if(ti(n),n.stateNode===null){var m=Ci,T=l.contextType;typeof T=="object"&&T!==null&&(m=et(T)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ur,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Vs(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?et(T):Ci,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(rr(n,l,T,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ur.enqueueReplaceState(m,m.state,null),Ro(n,s,m,f),bo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,C=si(l,_);m.props=C;var D=m.context,V=l.contextType;T=Ci,typeof V=="object"&&V!==null&&(T=et(V));var q=l.getDerivedStateFromProps;V=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||D!==T)&&jd(n,m,s,T),Cn=!1;var w=n.memoizedState;m.state=w,Ro(n,s,m,f),bo(),D=n.memoizedState,_||w!==D||Cn?(typeof q=="function"&&(rr(n,l,q,s),D=n.memoizedState),(C=Cn||$d(n,l,C,s,w,D,T))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=T,s=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Ps(e,n),T=n.memoizedProps,V=si(l,T),m.props=V,q=n.pendingProps,w=m.context,D=l.contextType,C=Ci,typeof D=="object"&&D!==null&&(C=et(D)),_=l.getDerivedStateFromProps,(D=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==q||w!==C)&&jd(n,m,s,C),Cn=!1,w=n.memoizedState,m.state=w,Ro(n,s,m,f),bo();var k=n.memoizedState;T!==q||w!==k||Cn||e!==null&&e.dependencies!==null&&Rl(e.dependencies)?(typeof _=="function"&&(rr(n,l,_,s),k=n.memoizedState),(V=Cn||$d(n,l,V,s,w,k,C)||e!==null&&e.dependencies!==null&&Rl(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,k,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,k,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=k),m.props=s,m.state=k,m.context=C,s=V):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Xl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=li(n,e.child,null,f),n.child=li(n,null,l,f)):tt(e,n,l,f),n.memoizedState=m.state,e=n.child):e=an(e,n,f),e}function mf(e,n,l,s){return Wn(),n.flags|=256,tt(e,n,l,s),n.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:nd()}}function hr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ct),e}function hf(e,n,l){var s=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(ve){if(f?Rn(n):Mn(),(e=Le)?(e=_p(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,We=n,Le=null)):e=null,e===null)throw _n(n);return $r(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(Mn(),f=n.mode,_=Kl({mode:"hidden",children:_},f),s=jn(s,f,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=mr(l),s.childLanes=hr(e,T,l),n.memoizedState=pr,Uo(null,s)):(Rn(n),gr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)n.flags&256?(Rn(n),n.flags&=-257,n=yr(e,n,l)):n.memoizedState!==null?(Mn(),n.child=e.child,n.flags|=128,n=null):(Mn(),_=s.fallback,f=n.mode,s=Kl({mode:"visible",children:s.children},f),_=jn(_,f,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,li(n,e.child,null,l),s=n.child,s.memoizedState=mr(l),s.childLanes=hr(e,T,l),n.memoizedState=pr,n=Uo(null,s));else if(Rn(n),$r(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var D=T.dgst;T=D,s=Error(a(419)),s.stack="",s.digest=T,So({value:s,source:null,stack:null}),n=yr(e,n,l)}else if(Je||Mi(e,n,l,!1),T=(l&e.childLanes)!==0,Je||T){if(T=Ue,T!==null&&(s=ec(T,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,$n(e,s),gt(T,e,s),dr;Zr(_)||ia(),n=yr(e,n,l)}else Zr(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Le=Lt(_.nextSibling),We=n,ve=!0,xn=null,Ut=!1,e!==null&&Zc(n,e),n=gr(n,s.children),n.flags|=4096);return n}return f?(Mn(),_=s.fallback,f=n.mode,C=e.child,D=C.sibling,s=Wt(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,D!==null?_=Wt(D,_):(_=jn(_,f,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Uo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=mr(l):(f=_.cachePool,f!==null?(C=Fe._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=nd(),_={baseLanes:_.baseLanes|l,cachePool:f}),s.memoizedState=_,s.childLanes=hr(e,T,l),n.memoizedState=pr,Uo(e.child,s)):(Rn(n),l=e.child,e=l.sibling,l=Wt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function gr(e,n){return n=Kl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Kl(e,n){return e=St(22,e,null,n),e.lanes=0,e}function yr(e,n,l){return li(n,e.child,null,l),e=gr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gf(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),ws(e.return,n,l)}function vr(e,n,l,s,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=f,T.treeForkCount=m)}function yf(e,n,l){var s=n.pendingProps,f=s.revealOrder,m=s.tail;s=s.children;var T=Be.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,X(Be,T),tt(e,n,s,l),s=ve?To:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,l,n);else if(e.tag===19)gf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&Gl(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),vr(n,!1,f,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Gl(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}vr(n,!0,l,null,m,s);break;case"together":vr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),wn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Mi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Wt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Wt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Er(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Rl(e)))}function uy(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),An(n,Fe,e.memoizedState.cache),Wn();break;case 27:case 5:oo(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Rn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?hf(e,n,l):(Rn(n),e=an(e,n,l),e!==null?e.sibling:null);Rn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Mi(e,n,l,!1),s=(l&n.childLanes)!==0),f){if(s)return yf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Be,Be.current),s)break;return null;case 22:return n.lanes=0,uf(e,n,l,n.pendingProps);case 24:An(n,Fe,e.memoizedState.cache)}return an(e,n,l)}function vf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!Er(e,l)&&(n.flags&128)===0)return Je=!1,uy(e,n,l);Je=(e.flags&131072)!==0}else Je=!1,ve&&(n.flags&1048576)!==0&&Qc(n,To,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ii(n.elementType),n.type=e,typeof e=="function")As(e)?(s=si(e,s),n.tag=1,n=pf(null,n,e,s,l)):(n.tag=0,n=fr(null,n,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===J){n.tag=11,n=af(null,n,e,s,l);break e}else if(f===Y){n.tag=14,n=sf(null,n,e,s,l);break e}}throw n=Ve(e)||e,Error(a(306,n,""))}}return n;case 0:return fr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,f=si(s,n.pendingProps),pf(e,n,s,f,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;f=m.element,Ps(e,n),Ro(n,s,null,l);var T=n.memoizedState;if(s=T.cache,An(n,Fe,s),s!==m.cache&&Us(n,[Fe],l,!0),bo(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=mf(e,n,s,l);break e}else if(s!==f){f=It(Error(a(424)),n),So(f),n=mf(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Lt(e.firstChild),We=n,ve=!0,xn=null,Ut=!0,l=rd(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wn(),s===f){n=an(e,n,l);break e}tt(e,n,s,l)}n=n.child}return n;case 26:return Xl(e,n),e===null?(l=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ve||(l=n.type,e=n.pendingProps,s=ca(fe.current).createElement(l),s[je]=n,s[ct]=e,nt(s,l,e),Qe(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oo(n),e===null&&ve&&(s=n.stateNode=Np(n.type,n.pendingProps,fe.current),We=n,Ut=!0,f=Le,Hn(n.type)?(jr=f,Le=Lt(s.firstChild)):Le=f),tt(e,n,n.pendingProps.children,l),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ve&&((f=s=Le)&&(s=Py(s,n.type,n.pendingProps,Ut),s!==null?(n.stateNode=s,We=n,Le=Lt(s.firstChild),Ut=!1,f=!0):f=!1),f||_n(n)),oo(n),f=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Xr(f,m)?s=null:T!==null&&Xr(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Js(e,n,ey,null,null,l),Ko._currentValue=f),Xl(e,n),tt(e,n,s,l),n.child;case 6:return e===null&&ve&&((e=l=Le)&&(l=qy(l,n.pendingProps,Ut),l!==null?(n.stateNode=l,We=n,Le=null,e=!0):e=!1),e||_n(n)),null;case 13:return hf(e,n,l);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=li(n,null,s,l):tt(e,n,s,l),n.child;case 11:return af(e,n,n.type,n.pendingProps,l);case 7:return tt(e,n,n.pendingProps,l),n.child;case 8:return tt(e,n,n.pendingProps.children,l),n.child;case 12:return tt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),tt(e,n,s.children,l),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ti(n),f=et(f),s=s(f),n.flags|=1,tt(e,n,s,l),n.child;case 14:return sf(e,n,n.type,n.pendingProps,l);case 15:return rf(e,n,n.type,n.pendingProps,l);case 19:return yf(e,n,l);case 31:return ry(e,n,l);case 22:return uf(e,n,l,n.pendingProps);case 24:return ti(n),s=et(Fe),e===null?(f=Gs(),f===null&&(f=Ue,m=ks(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:s,cache:f},Vs(n),An(n,Fe,f)):((e.lanes&l)!==0&&(Ps(e,n),Ro(n,null,null,l),bo()),f=e.memoizedState,m=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),An(n,Fe,s)):(s=m.cache,An(n,Fe,s),s!==f.cache&&Us(n,[Fe],l,!0))),tt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Tr(e,n,l,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Yf())e.flags|=8192;else throw oi=wl,Hs}else e.flags&=-16777217}function Ef(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Yf())e.flags|=8192;else throw oi=wl,Hs}function Ql(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$u():536870912,e.lanes|=n,zi|=n)}function ko(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function cy(e,n,l){var s=n.pendingProps;switch(Rs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(Fe),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ri(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Is())),Ge(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(sn(n),m!==null?(Ge(n),Ef(n,m)):(Ge(n),Tr(n,f,null,s,l))):m?m!==e.memoizedState?(sn(n),Ge(n),Ef(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),Ge(n),Tr(n,f,e,s,l)),null;case 27:if(al(n),l=fe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=ee.current,Ri(n)?$c(n):(e=Np(f,s,l),n.stateNode=e,sn(n))}return Ge(n),null;case 5:if(al(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=ee.current,Ri(n))$c(n);else{var T=ca(fe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}m[je]=n,m[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(nt(m,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return Ge(n),Tr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=fe.current,Ri(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,f=We,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[je]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||hp(e.nodeValue,l)),e||_n(n,!0)}else e=ca(e).createTextNode(s),e[je]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ri(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(_t(n),n):(_t(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ri(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),f=!1}else f=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(_t(n),n):(_t(n),null)}return _t(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Ql(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Br(n.stateNode.containerInfo),Ge(n),null;case 10:return nn(n.type),Ge(n),null;case 19:if(B(Be),s=n.memoizedState,s===null)return Ge(n),null;if(f=(n.flags&128)!==0,m=s.rendering,m===null)if(f)ko(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Gl(e),m!==null){for(n.flags|=128,ko(s,!1),e=m.updateQueue,n.updateQueue=e,Ql(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Jc(l,e),l=l.sibling;return X(Be,Be.current&1|2),ve&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>ea&&(n.flags|=128,f=!0,ko(s,!1),n.lanes=4194304)}else{if(!f)if(e=Gl(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ql(n,e),ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ve)return Ge(n),null}else 2*yt()-s.renderingStartTime>ea&&l!==536870912&&(n.flags|=128,f=!0,ko(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,l=Be.current,X(Be,f?l&1|2:l&1),ve&&en(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return _t(n),Os(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&Ql(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&B(ni),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),nn(Fe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function dy(e,n){switch(Rs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(Fe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return al(n),null;case 31:if(n.memoizedState!==null){if(_t(n),n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_t(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Be),null;case 4:return ze(),null;case 10:return nn(n.type),null;case 22:case 23:return _t(n),Os(),e!==null&&B(ni),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(Fe),null;case 25:return null;default:return null}}function Tf(e,n){switch(Rs(n),n.tag){case 3:nn(Fe),ze();break;case 26:case 27:case 5:al(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&_t(n);break;case 13:_t(n);break;case 19:B(Be);break;case 10:nn(n.type);break;case 22:case 23:_t(n),Os(),e!==null&&B(ni);break;case 24:nn(Fe)}}function Lo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var m=l.create,T=l.inst;s=m(),T.destroy=s}l=l.next}while(l!==f)}}catch(_){Me(n,n.return,_)}}function In(e,n,l){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var m=f.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,f=n;var C=l,D=_;try{D()}catch(V){Me(f,C,V)}}}s=s.next}while(s!==m)}}catch(V){Me(n,n.return,V)}}function Sf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{cd(n,l)}catch(s){Me(e,e.return,s)}}}function xf(e,n,l){l.props=si(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Me(e,n,s)}}function Go(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){Me(e,n,f)}}function Kt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){Me(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Me(e,n,f)}else l.current=null}function _f(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){Me(e,e.return,f)}}function Sr(e,n,l){try{var s=e.stateNode;Uy(s,e.type,l,n),s[ct]=n}catch(f){Me(e,e.return,f)}}function Af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _r(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(_r(e,n,l),e=e.sibling;e!==null;)_r(e,n,l),e=e.sibling}function Zl(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Zl(e,n,l),e=e.sibling;e!==null;)Zl(e,n,l),e=e.sibling}function Cf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);nt(n,s,l),n[je]=e,n[ct]=l}catch(m){Me(e,e.return,m)}}var rn=!1,Xe=!1,Ar=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function fy(e,n){if(e=e.containerInfo,Yr=ya,e=Hc(e),ys(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,_=-1,C=-1,D=0,V=0,q=e,w=null;t:for(;;){for(var k;q!==l||f!==0&&q.nodeType!==3||(_=T+f),q!==m||s!==0&&q.nodeType!==3||(C=T+s),q.nodeType===3&&(T+=q.nodeValue.length),(k=q.firstChild)!==null;)w=q,q=k;for(;;){if(q===e)break t;if(w===l&&++D===f&&(_=T),w===m&&++V===s&&(C=T),(k=q.nextSibling)!==null)break;q=w,w=q.parentNode}q=k}l=_===-1||C===-1?null:{start:_,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jr={focusedElem:e,selectionRange:l},ya=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var Z=si(l.type,f);e=s.getSnapshotBeforeUpdate(Z,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Me(l,l.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Qr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function bf(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),s&4&&Lo(5,l);break;case 1:if(cn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Me(l,l.return,T)}else{var f=si(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Me(l,l.return,T)}}s&64&&Sf(l),s&512&&Go(l,l.return);break;case 3:if(cn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{cd(e,n)}catch(T){Me(l,l.return,T)}}break;case 27:n===null&&s&4&&Cf(l);case 26:case 5:cn(e,l),n===null&&s&4&&_f(l),s&512&&Go(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),s&4&&If(e,l);break;case 13:cn(e,l),s&4&&Df(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Sy.bind(null,l),zy(e,l))));break;case 22:if(s=l.memoizedState!==null||rn,!s){n=n!==null&&n.memoizedState!==null||Xe,f=rn;var m=Xe;rn=s,(Xe=n)&&!m?dn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=f,Xe=m}break;case 30:break;default:cn(e,l)}}function Rf(e){var n=e.alternate;n!==null&&(e.alternate=null,Rf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&es(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,ft=!1;function un(e,n,l){for(l=l.child;l!==null;)Mf(e,n,l),l=l.sibling}function Mf(e,n,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(lo,l)}catch{}switch(l.tag){case 26:Xe||Kt(l,n),un(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Kt(l,n);var s=He,f=ft;Hn(l.type)&&(He=l.stateNode,ft=!1),un(e,n,l),Yo(l.stateNode),He=s,ft=f;break;case 5:Xe||Kt(l,n);case 6:if(s=He,f=ft,He=null,un(e,n,l),He=s,ft=f,He!==null)if(ft)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(m){Me(l,n,m)}else try{He.removeChild(l.stateNode)}catch(m){Me(l,n,m)}break;case 18:He!==null&&(ft?(e=He,Sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qi(e)):Sp(He,l.stateNode));break;case 4:s=He,f=ft,He=l.stateNode.containerInfo,ft=!0,un(e,n,l),He=s,ft=f;break;case 0:case 11:case 14:case 15:In(2,l,n),Xe||In(4,l,n),un(e,n,l);break;case 1:Xe||(Kt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&xf(l,n,s)),un(e,n,l);break;case 21:un(e,n,l);break;case 22:Xe=(s=Xe)||l.memoizedState!==null,un(e,n,l),Xe=s;break;default:un(e,n,l)}}function If(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(l){Me(n,n.return,l)}}}function Df(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(l){Me(n,n.return,l)}}function py(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Nf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Nf),n;default:throw Error(a(435,e.tag))}}function $l(e,n){var l=py(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var f=xy.bind(null,e,s);s.then(f,f)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){He=_.stateNode,ft=!1;break e}break;case 5:He=_.stateNode,ft=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,ft=!0;break e}_=_.return}if(He===null)throw Error(a(160));Mf(m,T,f),He=null,ft=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wf(n,e),n=n.sibling}var zt=null;function wf(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(In(3,e,e.return),Lo(3,e),In(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=zt;if(pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ro]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(s),f.head.insertBefore(m,f.querySelector("head > title"))),nt(m,s,l),m[je]=e,Qe(m),s=m;break e;case"link":var T=wp("link","href",f).get(s+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}m=f.createElement(s),nt(m,s,l),f.head.appendChild(m);break;case"meta":if(T=wp("meta","content",f).get(s+(l.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}m=f.createElement(s),nt(m,s,l),f.head.appendChild(m);break;default:throw Error(a(468,s))}m[je]=e,Qe(m),s=m}e.stateNode=s}else Up(f,e.type,e.stateNode);else e.stateNode=Dp(f,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Up(f,e.type,e.stateNode):Dp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),l!==null&&s&4&&Sr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),e.flags&32){f=e.stateNode;try{vi(f,"")}catch(Z){Me(e,e.return,Z)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Sr(e,f,l!==null?l.memoizedProps:f)),s&1024&&(Ar=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(Z){Me(e,e.return,Z)}}break;case 3:if(pa=null,f=zt,zt=da(n.containerInfo),pt(n,e),zt=f,mt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(n.containerInfo)}catch(Z){Me(e,e.return,Z)}Ar&&(Ar=!1,Uf(e));break;case 4:s=zt,zt=da(e.stateNode.containerInfo),pt(n,e),mt(e),zt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wl=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 22:f=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,D=rn,V=Xe;if(rn=D||f,Xe=V||C,pt(n,e),Xe=V,rn=D,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||C||rn||Xe||ri(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(m=C.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=C.stateNode;var q=C.memoizedProps.style,w=q!=null&&q.hasOwnProperty("display")?q.display:null;_.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(Z){Me(C,C.return,Z)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Z){Me(C,C.return,Z)}}}else if(n.tag===18){if(l===null){C=n;try{var k=C.stateNode;f?xp(k,!0):xp(C.stateNode,!1)}catch(Z){Me(C,C.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,$l(e,l))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Af(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=xr(e);Zl(e,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(vi(T,""),l.flags&=-33);var _=xr(e);Zl(e,_,T);break;case 3:case 4:var C=l.stateNode.containerInfo,D=xr(e);_r(e,D,C);break;default:throw Error(a(161))}}catch(V){Me(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bf(e,n.alternate,n),n=n.sibling}function ri(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ri(n);break;case 1:Kt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&xf(n,n.return,l),ri(n);break;case 27:Yo(n.stateNode);case 26:case 5:Kt(n,n.return),ri(n);break;case 22:n.memoizedState===null&&ri(n);break;case 30:ri(n);break;default:ri(n)}e=e.sibling}}function dn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:dn(f,m,l),Lo(4,m);break;case 1:if(dn(f,m,l),s=m,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Me(s,s.return,D)}if(s=m,f=s.updateQueue,f!==null){var _=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ud(C[f],_)}catch(D){Me(s,s.return,D)}}l&&T&64&&Sf(m),Go(m,m.return);break;case 27:Cf(m);case 26:case 5:dn(f,m,l),l&&s===null&&T&4&&_f(m),Go(m,m.return);break;case 12:dn(f,m,l);break;case 31:dn(f,m,l),l&&T&4&&If(f,m);break;case 13:dn(f,m,l),l&&T&4&&Df(f,m);break;case 22:m.memoizedState===null&&dn(f,m,l),Go(m,m.return);break;case 30:break;default:dn(f,m,l)}n=n.sibling}}function Cr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&xo(l))}function Nr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Bt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kf(e,n,l,s),n=n.sibling}function kf(e,n,l,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,l,s),f&2048&&Lo(9,n);break;case 1:Bt(e,n,l,s);break;case 3:Bt(e,n,l,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(f&2048){Bt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Me(n,n.return,C)}}else Bt(e,n,l,s);break;case 31:Bt(e,n,l,s);break;case 13:Bt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Bt(e,n,l,s):Ho(e,n):m._visibility&2?Bt(e,n,l,s):(m._visibility|=2,Vi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Cr(T,n);break;case 24:Bt(e,n,l,s),f&2048&&Nr(n.alternate,n);break;default:Bt(e,n,l,s)}}function Vi(e,n,l,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=l,C=s,D=T.flags;switch(T.tag){case 0:case 11:case 15:Vi(m,T,_,C,f),Lo(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?Vi(m,T,_,C,f):Ho(m,T):(V._visibility|=2,Vi(m,T,_,C,f)),f&&D&2048&&Cr(T.alternate,T);break;case 24:Vi(m,T,_,C,f),f&&D&2048&&Nr(T.alternate,T);break;default:Vi(m,T,_,C,f)}n=n.sibling}}function Ho(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,f=s.flags;switch(s.tag){case 22:Ho(l,s),f&2048&&Cr(s.alternate,s);break;case 24:Ho(l,s),f&2048&&Nr(s.alternate,s);break;default:Ho(l,s)}n=n.sibling}}var Vo=8192;function Pi(e,n,l){if(e.subtreeFlags&Vo)for(e=e.child;e!==null;)Lf(e,n,l),e=e.sibling}function Lf(e,n,l){switch(e.tag){case 26:Pi(e,n,l),e.flags&Vo&&e.memoizedState!==null&&Wy(l,zt,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,n,l);break;case 3:case 4:var s=zt;zt=da(e.stateNode.containerInfo),Pi(e,n,l),zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Vo,Vo=16777216,Pi(e,n,l),Vo=s):Pi(e,n,l));break;default:Pi(e,n,l)}}function Gf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Po(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ze=s,Vf(s,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hf(e),e=e.sibling}function Hf(e){switch(e.tag){case 0:case 11:case 15:Po(e),e.flags&2048&&In(9,e,e.return);break;case 3:Po(e);break;case 12:Po(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jl(e)):Po(e);break;default:Po(e)}}function jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ze=s,Vf(s,e)}Gf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),jl(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,jl(n));break;default:jl(n)}e=e.sibling}}function Vf(e,n){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:In(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ze=s;else e:for(l=e;Ze!==null;){s=Ze;var f=s.sibling,m=s.return;if(Rf(s),s===l){Ze=null;break e}if(f!==null){f.return=m,Ze=f;break e}Ze=m}}}var my={getCacheForType:function(e){var n=et(Fe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return et(Fe).controller.signal}},hy=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ue=null,pe=null,he=0,Re=0,At=null,Dn=!1,qi=!1,br=!1,fn=0,qe=0,wn=0,ui=0,Rr=0,Ct=0,zi=0,qo=null,ht=null,Mr=!1,Wl=0,Pf=0,ea=1/0,ta=null,Un=null,Ke=0,kn=null,Bi=null,pn=0,Ir=0,Dr=null,qf=null,zo=0,wr=null;function Nt(){return(Ne&2)!==0&&he!==0?he&-he:G.T!==null?Vr():tc()}function zf(){if(Ct===0)if((he&536870912)===0||ve){var e=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),Ct=e}else Ct=536870912;return e=xt.current,e!==null&&(e.flags|=32),Ct}function gt(e,n,l){(e===Ue&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Oi(e,0),Ln(e,he,Ct,!1)),so(e,l),((Ne&2)===0||e!==Ue)&&(e===Ue&&((Ne&2)===0&&(ui|=l),qe===4&&Ln(e,he,Ct,!1)),Qt(e))}function Bf(e,n,l){if((Ne&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ao(e,n),f=s?vy(e,n):kr(e,n,!0),m=s;do{if(f===0){qi&&!s&&Ln(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!gy(l)){f=kr(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;f=qo;var C=_.current.memoizedState.isDehydrated;if(C&&(Oi(_,T).flags|=256),T=kr(_,T,!1),T!==2){if(br&&!C){_.errorRecoveryDisabledLanes|=m,ui|=m,f=4;break e}m=ht,ht=f,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Oi(e,0),Ln(e,n,0,!0);break}e:{switch(s=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ln(s,n,Ct,!Dn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Wl+300-yt(),10<f)){if(Ln(s,n,Ct,!Dn),dl(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=Ep(Of.bind(null,s,l,ht,ta,Mr,n,Ct,ui,zi,Dn,m,"Throttled",-0,0),f);break e}Of(s,l,ht,ta,Mr,n,Ct,ui,zi,Dn,m,null,-0,0)}}break}while(!0);Qt(e)}function Of(e,n,l,s,f,m,T,_,C,D,V,q,w,k){if(e.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Lf(n,m,q);var Z=(m&62914560)===m?Wl-yt():(m&4194048)===m?Pf-yt():0;if(Z=ev(q,Z),Z!==null){pn=m,e.cancelPendingCommit=Z($f.bind(null,e,n,m,l,s,f,T,_,C,V,q,null,w,k)),Ln(e,m,T,!D);return}}$f(e,n,m,l,s,f,T,_,C)}function gy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],m=f.getSnapshot;f=f.value;try{if(!Tt(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n,l,s){n&=~Rr,n&=~ui,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var m=31-Et(f),T=1<<m;s[m]=-1,f&=~T}l!==0&&ju(e,l,n)}function na(){return(Ne&6)===0?(Bo(0),!1):!0}function Ur(){if(pe!==null){if(Re===0)var e=pe.return;else e=pe,tn=ei=null,Qs(e),Ui=null,Ao=0,e=pe;for(;e!==null;)Tf(e.alternate,e),e=e.return;pe=null}}function Oi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Gy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,Ur(),Ue=e,pe=l=Wt(e.current,null),he=n,Re=0,At=null,Dn=!1,qi=ao(e,n),br=!1,zi=Ct=Rr=ui=wn=qe=0,ht=qo=null,Mr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Et(s),m=1<<f;n|=e[f],s&=~m}return fn=n,_l(),l}function Ff(e,n){se=null,G.H=wo,n===wi||n===Dl?(n=ld(),Re=3):n===Hs?(n=ld(),Re=4):Re=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,pe===null&&(qe=1,Yl(e,It(n,e.current)))}function Yf(){var e=xt.current;return e===null?!0:(he&4194048)===he?kt===null:(he&62914560)===he||(he&536870912)!==0?e===kt:!1}function Jf(){var e=G.H;return G.H=wo,e===null?wo:e}function Xf(){var e=G.A;return G.A=my,e}function ia(){qe=4,Dn||(he&4194048)!==he&&xt.current!==null||(qi=!0),(wn&134217727)===0&&(ui&134217727)===0||Ue===null||Ln(Ue,he,Ct,!1)}function kr(e,n,l){var s=Ne;Ne|=2;var f=Jf(),m=Xf();(Ue!==e||he!==n)&&(ta=null,Oi(e,n)),n=!1;var T=qe;e:do try{if(Re!==0&&pe!==null){var _=pe,C=At;switch(Re){case 8:Ur(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(n=!0);var D=Re;if(Re=0,At=null,Fi(e,_,C,D),l&&qi){T=0;break e}break;default:D=Re,Re=0,At=null,Fi(e,_,C,D)}}yy(),T=qe;break}catch(V){Ff(e,V)}while(!0);return n&&e.shellSuspendCounter++,tn=ei=null,Ne=s,G.H=f,G.A=m,pe===null&&(Ue=null,he=0,_l()),T}function yy(){for(;pe!==null;)Kf(pe)}function vy(e,n){var l=Ne;Ne|=2;var s=Jf(),f=Xf();Ue!==e||he!==n?(ta=null,ea=yt()+500,Oi(e,n)):qi=ao(e,n);e:do try{if(Re!==0&&pe!==null){n=pe;var m=At;t:switch(Re){case 1:Re=0,At=null,Fi(e,n,m,1);break;case 2:case 9:if(id(m)){Re=0,At=null,Qf(n);break}n=function(){Re!==2&&Re!==9||Ue!==e||(Re=7),Qt(e)},m.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:id(m)?(Re=0,At=null,Qf(n)):(Re=0,At=null,Fi(e,n,m,7));break;case 5:var T=null;switch(pe.tag){case 26:T=pe.memoizedState;case 5:case 27:var _=pe;if(T?kp(T):_.stateNode.complete){Re=0,At=null;var C=_.sibling;if(C!==null)pe=C;else{var D=_.return;D!==null?(pe=D,oa(D)):pe=null}break t}}Re=0,At=null,Fi(e,n,m,5);break;case 6:Re=0,At=null,Fi(e,n,m,6);break;case 8:Ur(),qe=6;break e;default:throw Error(a(462))}}Ey();break}catch(V){Ff(e,V)}while(!0);return tn=ei=null,G.H=s,G.A=f,Ne=l,pe!==null?0:(Ue=null,he=0,_l(),qe)}function Ey(){for(;pe!==null&&!Bg();)Kf(pe)}function Kf(e){var n=vf(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?oa(e):pe=n}function Qf(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=ff(l,n,n.pendingProps,n.type,void 0,he);break;case 11:n=ff(l,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:Qs(n);default:Tf(l,n),n=pe=Jc(n,fn),n=vf(l,n,fn)}e.memoizedProps=e.pendingProps,n===null?oa(e):pe=n}function Fi(e,n,l,s){tn=ei=null,Qs(n),Ui=null,Ao=0;var f=n.return;try{if(sy(e,f,n,l,he)){qe=1,Yl(e,It(l,e.current)),pe=null;return}}catch(m){if(f!==null)throw pe=f,m;qe=1,Yl(e,It(l,e.current)),pe=null;return}n.flags&32768?(ve||s===1?e=!0:qi||(he&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zf(n,e)):oa(n)}function oa(e){var n=e;do{if((n.flags&32768)!==0){Zf(n,Dn);return}e=n.return;var l=cy(n.alternate,n,fn);if(l!==null){pe=l;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=e}while(n!==null);qe===0&&(qe=5)}function Zf(e,n){do{var l=dy(e.alternate,e);if(l!==null){l.flags&=32767,pe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){pe=e;return}pe=e=l}while(e!==null);qe=6,pe=null}function $f(e,n,l,s,f,m,T,_,C){e.cancelPendingCommit=null;do la();while(Ke!==0);if((Ne&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,jg(e,l,m,T,_,C),e===Ue&&(pe=Ue=null,he=0),Bi=n,kn=e,pn=l,Ir=m,Dr=f,qf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(sl,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,f=H.p,H.p=2,T=Ne,Ne|=4;try{fy(e,n,l)}finally{Ne=T,H.p=f,G.T=s}}Ke=1,jf(),Wf(),ep()}}function jf(){if(Ke===1){Ke=0;var e=kn,n=Bi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var s=H.p;H.p=2;var f=Ne;Ne|=4;try{wf(n,e);var m=Jr,T=Hc(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&Gc(_.ownerDocument.documentElement,_)){if(C!==null&&ys(_)){var D=C.start,V=C.end;if(V===void 0&&(V=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(V,_.value.length);else{var q=_.ownerDocument||document,w=q&&q.defaultView||window;if(w.getSelection){var k=w.getSelection(),Z=_.textContent.length,ie=Math.min(C.start,Z),we=C.end===void 0?ie:Math.min(C.end,Z);!k.extend&&ie>we&&(T=we,we=ie,ie=T);var M=Lc(_,ie),N=Lc(_,we);if(M&&N&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var I=q.createRange();I.setStart(M.node,M.offset),k.removeAllRanges(),ie>we?(k.addRange(I),k.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),k.addRange(I))}}}}for(q=[],k=_;k=k.parentNode;)k.nodeType===1&&q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<q.length;_++){var P=q[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ya=!!Yr,Jr=Yr=null}finally{Ne=f,H.p=s,G.T=l}}e.current=n,Ke=2}}function Wf(){if(Ke===2){Ke=0;var e=kn,n=Bi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var s=H.p;H.p=2;var f=Ne;Ne|=4;try{bf(e,n.alternate,n)}finally{Ne=f,H.p=s,G.T=l}}Ke=3}}function ep(){if(Ke===4||Ke===3){Ke=0,Og();var e=kn,n=Bi,l=pn,s=qf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,Bi=kn=null,tp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Un=null),ja(l),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(lo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=G.T,f=H.p,H.p=2,G.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{G.T=n,H.p=f}}(pn&3)!==0&&la(),Qt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===wr?zo++:(zo=0,wr=e):zo=0,Bo(0)}}function tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function la(){return jf(),Wf(),ep(),np()}function np(){if(Ke!==5)return!1;var e=kn,n=Ir;Ir=0;var l=ja(pn),s=G.T,f=H.p;try{H.p=32>l?32:l,G.T=null,l=Dr,Dr=null;var m=kn,T=pn;if(Ke=0,Bi=kn=null,pn=0,(Ne&6)!==0)throw Error(a(331));var _=Ne;if(Ne|=4,Hf(m.current),kf(m,m.current,T,l),Ne=_,Bo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(lo,m)}catch{}return!0}finally{H.p=f,G.T=s,tp(e,n)}}function ip(e,n,l){n=It(l,n),n=cr(e.stateNode,n,2),e=bn(e,n,2),e!==null&&(so(e,2),Qt(e))}function Me(e,n,l){if(e.tag===3)ip(e,e,l);else for(;n!==null;){if(n.tag===3){ip(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=It(l,e),l=of(2),s=bn(n,l,2),s!==null&&(lf(l,s,n,e),so(s,2),Qt(s));break}}n=n.return}}function Lr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new hy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(l)||(br=!0,f.add(l),e=Ty.bind(null,e,n,l),n.then(e,e))}function Ty(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(he&l)===l&&(qe===4||qe===3&&(he&62914560)===he&&300>yt()-Wl?(Ne&2)===0&&Oi(e,0):Rr|=l,zi===he&&(zi=0)),Qt(e)}function op(e,n){n===0&&(n=$u()),e=$n(e,n),e!==null&&(so(e,n),Qt(e))}function Sy(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),op(e,l)}function xy(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),op(e,l)}function _y(e,n){return Ka(e,n)}var aa=null,Yi=null,Gr=!1,sa=!1,Hr=!1,Gn=0;function Qt(e){e!==Yi&&e.next===null&&(Yi===null?aa=Yi=e:Yi=Yi.next=e),sa=!0,Gr||(Gr=!0,Cy())}function Bo(e,n){if(!Hr&&sa){Hr=!0;do for(var l=!1,s=aa;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Et(42|e)+1)-1,m&=f&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,rp(s,m))}else m=he,m=dl(s,s===Ue?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ao(s,m)||(l=!0,rp(s,m));s=s.next}while(l);Hr=!1}}function Ay(){lp()}function lp(){sa=Gr=!1;var e=0;Gn!==0&&Ly()&&(e=Gn);for(var n=yt(),l=null,s=aa;s!==null;){var f=s.next,m=ap(s,n);m===0?(s.next=null,l===null?aa=f:l.next=f,f===null&&(Yi=l)):(l=s,(e!==0||(m&3)!==0)&&(sa=!0)),s=f}Ke!==0&&Ke!==5||Bo(e),Gn!==0&&(Gn=0)}function ap(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Et(m),_=1<<T,C=f[T];C===-1?((_&l)===0||(_&s)!==0)&&(f[T]=$g(_,n)):C<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ue,l=he,l=dl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qa(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ao(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Qa(s),ja(l)){case 2:case 8:l=Qu;break;case 32:l=sl;break;case 268435456:l=Zu;break;default:l=sl}return s=sp.bind(null,e),l=Ka(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Qa(s),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(la()&&e.callbackNode!==l)return null;var s=he;return s=dl(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Bf(e,s,n),ap(e,yt()),e.callbackNode!=null&&e.callbackNode===l?sp.bind(null,e):null)}function rp(e,n){if(la())return null;Bf(e,n,!0)}function Cy(){Hy(function(){(Ne&6)!==0?Ka(Ku,Ay):lp()})}function Vr(){if(Gn===0){var e=Ii;e===0&&(e=rl,rl<<=1,(rl&261888)===0&&(rl=256)),Gn=e}return Gn}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function cp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Ny(e,n,l,s,f){if(n==="submit"&&l&&l.stateNode===f){var m=up((f[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?up(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new El("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gn!==0){var C=T?cp(f,T):new FormData(f);or(l,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=T?cp(f,T):new FormData(f),or(l,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Pr=0;Pr<Ss.length;Pr++){var qr=Ss[Pr],by=qr.toLowerCase(),Ry=qr[0].toUpperCase()+qr.slice(1);qt(by,"on"+Ry)}qt(qc,"onAnimationEnd"),qt(zc,"onAnimationIteration"),qt(Bc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(F0,"onTransitionRun"),qt(Y0,"onTransitionStart"),qt(J0,"onTransitionCancel"),qt(Oc,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function dp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],C=_.instance,D=_.currentTarget;if(_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=D;try{m(f)}catch(V){xl(V)}f.currentTarget=null,m=C}else for(T=0;T<s.length;T++){if(_=s[T],C=_.instance,D=_.currentTarget,_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=D;try{m(f)}catch(V){xl(V)}f.currentTarget=null,m=C}}}}function me(e,n){var l=n[Wa];l===void 0&&(l=n[Wa]=new Set);var s=e+"__bubble";l.has(s)||(fp(n,e,2,!1),l.add(s))}function zr(e,n,l){var s=0;n&&(s|=4),fp(l,e,s,n)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[ra]){e[ra]=!0,oc.forEach(function(l){l!=="selectionchange"&&(My.has(l)||zr(l,!1,e),zr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ra]||(n[ra]=!0,zr("selectionchange",!1,n))}}function fp(e,n,l,s){switch(zp(n)){case 2:var f=iv;break;case 8:f=ov;break;default:f=iu}l=f.bind(null,n,l,e),f=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Or(e,n,l,s,f){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===f)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;_!==null;){if(T=pi(_),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=m=T;continue e}_=_.parentNode}}s=s.return}gc(function(){var D=m,V=as(l),q=[];e:{var w=Fc.get(e);if(w!==void 0){var k=El,Z=e;switch(e){case"keypress":if(yl(l)===0)break e;case"keydown":case"keyup":k=x0;break;case"focusin":Z="focus",k=fs;break;case"focusout":Z="blur",k=fs;break;case"beforeblur":case"afterblur":k=fs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=C0;break;case qc:case zc:case Bc:k=p0;break;case Oc:k=b0;break;case"scroll":case"scrollend":k=r0;break;case"wheel":k=M0;break;case"copy":case"cut":case"paste":k=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Sc;break;case"toggle":case"beforetoggle":k=D0}var ie=(n&4)!==0,we=!ie&&(e==="scroll"||e==="scrollend"),M=ie?w!==null?w+"Capture":null:w;ie=[];for(var N=D,I;N!==null;){var P=N;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||M===null||(P=co(N,M),P!=null&&ie.push(Fo(N,P,I))),we)break;N=N.return}0<ie.length&&(w=new k(w,Z,null,l,V),q.push({event:w,listeners:ie}))}}if((n&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",w&&l!==ls&&(Z=l.relatedTarget||l.fromElement)&&(pi(Z)||Z[fi]))break e;if((k||w)&&(w=V.window===V?V:(w=V.ownerDocument)?w.defaultView||w.parentWindow:window,k?(Z=l.relatedTarget||l.toElement,k=D,Z=Z?pi(Z):null,Z!==null&&(we=d(Z),ie=Z.tag,Z!==we||ie!==5&&ie!==27&&ie!==6)&&(Z=null)):(k=null,Z=D),k!==Z)){if(ie=Ec,P="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Sc,P="onPointerLeave",M="onPointerEnter",N="pointer"),we=k==null?w:uo(k),I=Z==null?w:uo(Z),w=new ie(P,N+"leave",k,l,V),w.target=we,w.relatedTarget=I,P=null,pi(V)===D&&(ie=new ie(M,N+"enter",Z,l,V),ie.target=I,ie.relatedTarget=we,P=ie),we=P,k&&Z)t:{for(ie=Iy,M=k,N=Z,I=0,P=M;P;P=ie(P))I++;P=0;for(var ne=N;ne;ne=ie(ne))P++;for(;0<I-P;)M=ie(M),I--;for(;0<P-I;)N=ie(N),P--;for(;I--;){if(M===N||N!==null&&M===N.alternate){ie=M;break t}M=ie(M),N=ie(N)}ie=null}else ie=null;k!==null&&pp(q,w,k,ie,!1),Z!==null&&we!==null&&pp(q,we,Z,ie,!0)}}e:{if(w=D?uo(D):window,k=w.nodeName&&w.nodeName.toLowerCase(),k==="select"||k==="input"&&w.type==="file")var Te=Mc;else if(bc(w))if(Ic)Te=z0;else{Te=P0;var te=V0}else k=w.nodeName,!k||k.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&os(D.elementType)&&(Te=Mc):Te=q0;if(Te&&(Te=Te(e,D))){Rc(q,Te,l,V);break e}te&&te(e,w,D),e==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&is(w,"number",w.value)}switch(te=D?uo(D):window,e){case"focusin":(bc(te)||te.contentEditable==="true")&&(xi=te,vs=D,Eo=null);break;case"focusout":Eo=vs=xi=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Vc(q,l,V);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Vc(q,l,V)}var re;if(ms)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Si?Cc(e,l)&&(ge="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ge="onCompositionStart");ge&&(xc&&l.locale!=="ko"&&(Si||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Si&&(re=yc()):(Tn=V,us="value"in Tn?Tn.value:Tn.textContent,Si=!0)),te=ua(D,ge),0<te.length&&(ge=new Tc(ge,e,null,l,V),q.push({event:ge,listeners:te}),re?ge.data=re:(re=Nc(l),re!==null&&(ge.data=re)))),(re=U0?k0(e,l):L0(e,l))&&(ge=ua(D,"onBeforeInput"),0<ge.length&&(te=new Tc("onBeforeInput","beforeinput",null,l,V),q.push({event:te,listeners:ge}),te.data=re)),Ny(q,e,D,l,V)}dp(q,n)})}function Fo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ua(e,n){for(var l=n+"Capture",s=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=co(e,l),f!=null&&s.unshift(Fo(e,f,m)),f=co(e,n),f!=null&&s.push(Fo(e,f,m))),e.tag===3)return s;e=e.return}return[]}function Iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,n,l,s,f){for(var m=n._reactName,T=[];l!==null&&l!==s;){var _=l,C=_.alternate,D=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||D===null||(C=D,f?(D=co(l,m),D!=null&&T.unshift(Fo(l,D,C))):f||(D=co(l,m),D!=null&&T.push(Fo(l,D,C)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Dy=/\r\n?/g,wy=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(Dy,`
`).replace(wy,"")}function hp(e,n){return n=mp(n),mp(e)===n}function De(e,n,l,s,f,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vi(e,""+s);break;case"className":pl(e,"class",s);break;case"tabIndex":pl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,l,s);break;case"style":mc(e,s,m);break;case"data":if(n!=="object"){pl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=hl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",f.name,f,null),De(e,n,"formEncType",f.formEncType,f,null),De(e,n,"formMethod",f.formMethod,f,null),De(e,n,"formTarget",f.formTarget,f,null)):(De(e,n,"encType",f.encType,f,null),De(e,n,"method",f.method,f,null),De(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=hl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=hl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":me("beforetoggle",e),me("toggle",e),fl(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=a0.get(l)||l,fl(e,l,s))}}function Fr(e,n,l,s,f,m){switch(l){case"style":mc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?vi(e,s):(typeof s=="number"||typeof s=="bigint")&&vi(e,""+s);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=e[ct]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):fl(e,l,s)}}}function nt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var s=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,m,T,l,null)}}f&&De(e,n,"srcSet",l.srcSet,l,null),s&&De(e,n,"src",l.src,l,null);return;case"input":me("invalid",e);var _=m=T=f=null,C=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":f=V;break;case"type":T=V;break;case"checked":C=V;break;case"defaultChecked":D=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:De(e,n,s,V,l,null)}}cc(e,m,_,C,D,T,f,!1);return;case"select":me("invalid",e),s=T=m=null;for(f in l)if(l.hasOwnProperty(f)&&(_=l[f],_!=null))switch(f){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:De(e,n,f,_,l,null)}n=m,l=T,e.multiple=!!s,n!=null?yi(e,!!s,n,!1):l!=null&&yi(e,!!s,l,!0);return;case"textarea":me("invalid",e),m=f=s=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":f=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:De(e,n,T,_,l,null)}fc(e,s,f,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,n,C,s,l,null)}return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(s=0;s<Oo.length;s++)me(Oo[s],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,D,s,l,null)}return;default:if(os(n)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&Fr(e,n,V,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&De(e,n,_,s,l,null))}function Uy(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,_=null,C=null,D=null,V=null;for(k in l){var q=l[k];if(l.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=q;default:s.hasOwnProperty(k)||De(e,n,k,null,s,q)}}for(var w in s){var k=s[w];if(q=l[w],s.hasOwnProperty(w)&&(k!=null||q!=null))switch(w){case"type":m=k;break;case"name":f=k;break;case"checked":D=k;break;case"defaultChecked":V=k;break;case"value":T=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==q&&De(e,n,w,k,s,q)}}ns(e,T,_,C,D,V,m,f);return;case"select":k=T=_=w=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":k=C;default:s.hasOwnProperty(m)||De(e,n,m,null,s,C)}for(f in s)if(m=s[f],C=l[f],s.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":w=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==C&&De(e,n,f,m,s,C)}n=_,l=T,s=k,w!=null?yi(e,!!l,w,!1):!!s!=!!l&&(n!=null?yi(e,!!l,n,!0):yi(e,!!l,l?[]:"",!1));return;case"textarea":k=w=null;for(_ in l)if(f=l[_],l.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:De(e,n,_,null,s,f)}for(T in s)if(f=s[T],m=l[T],s.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":w=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&De(e,n,T,f,s,m)}dc(e,w,k);return;case"option":for(var Z in l)if(w=l[Z],l.hasOwnProperty(Z)&&w!=null&&!s.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:De(e,n,Z,null,s,w)}for(C in s)if(w=s[C],k=l[C],s.hasOwnProperty(C)&&w!==k&&(w!=null||k!=null))switch(C){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:De(e,n,C,w,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)w=l[ie],l.hasOwnProperty(ie)&&w!=null&&!s.hasOwnProperty(ie)&&De(e,n,ie,null,s,w);for(D in s)if(w=s[D],k=l[D],s.hasOwnProperty(D)&&w!==k&&(w!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,n));break;default:De(e,n,D,w,s,k)}return;default:if(os(n)){for(var we in l)w=l[we],l.hasOwnProperty(we)&&w!==void 0&&!s.hasOwnProperty(we)&&Fr(e,n,we,void 0,s,w);for(V in s)w=s[V],k=l[V],!s.hasOwnProperty(V)||w===k||w===void 0&&k===void 0||Fr(e,n,V,w,s,k);return}}for(var M in l)w=l[M],l.hasOwnProperty(M)&&w!=null&&!s.hasOwnProperty(M)&&De(e,n,M,null,s,w);for(q in s)w=s[q],k=l[q],!s.hasOwnProperty(q)||w===k||w==null&&k==null||De(e,n,q,w,s,k)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],m=f.transferSize,T=f.initiatorType,_=f.duration;if(m&&_&&gp(T)){for(T=0,_=f.responseEnd,s+=1;s<l.length;s++){var C=l[s],D=C.startTime;if(D>_)break;var V=C.transferSize,q=C.initiatorType;V&&gp(q)&&(C=C.responseEnd,T+=V*(C<_?1:(_-D)/(C-D)))}if(--s,n+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Jr=null;function ca(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kr=null;function Ly(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(Vy)}:Ep;function Vy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Sp(e,n){var l=n,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),Qi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Yo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Yo(l);for(var m=l.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[ro]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Yo(e.ownerDocument.body);l=f}while(l);Qi(n)}function xp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Qr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qr(l),es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Py(e,n,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ro])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function qy(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Lt(e.nextSibling),e===null))return null;return e}function _p(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function Zr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zy(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Lt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jr=null;function Ap(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Lt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Np(e,n,l){switch(n=ca(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);es(e)}var Gt=new Map,bp=new Set;function da(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=H.d;H.d={f:By,r:Oy,D:Fy,C:Yy,L:Jy,m:Xy,X:Qy,S:Ky,M:Zy};function By(){var e=mn.f(),n=na();return e||n}function Oy(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?Od(n):mn.r(e)}var Ji=typeof document>"u"?null:document;function Rp(e,n,l){var s=Ji;if(s&&typeof n=="string"&&n){var f=Rt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),bp.has(f)||(bp.add(f),e={rel:e,crossOrigin:l,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function Fy(e){mn.D(e),Rp("dns-prefetch",e,null)}function Yy(e,n){mn.C(e,n),Rp("preconnect",e,n)}function Jy(e,n,l){mn.L(e,n,l);var s=Ji;if(s&&e&&n){var f='link[rel="preload"][as="'+Rt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Rt(l.imageSizes)+'"]')):f+='[href="'+Rt(e)+'"]';var m=f;switch(n){case"style":m=Xi(e);break;case"script":m=Ki(e)}Gt.has(m)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Gt.set(m,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Jo(m))||n==="script"&&s.querySelector(Xo(m))||(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function Xy(e,n){mn.m(e,n);var l=Ji;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Rt(s)+'"][href="'+Rt(e)+'"]',m=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ki(e)}if(!Gt.has(m)&&(e=x({rel:"modulepreload",href:e},n),Gt.set(m,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xo(m)))return}s=l.createElement("link"),nt(s,"link",e),Qe(s),l.head.appendChild(s)}}}function Ky(e,n,l){mn.S(e,n,l);var s=Ji;if(s&&e){var f=hi(s).hoistableStyles,m=Xi(e);n=n||"default";var T=f.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Jo(m)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Gt.get(m))&&Wr(e,l);var C=T=s.createElement("link");Qe(C),nt(C,"link",e),C._p=new Promise(function(D,V){C.onload=D,C.onerror=V}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,fa(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},f.set(m,T)}}}function Qy(e,n){mn.X(e,n);var l=Ji;if(l&&e){var s=hi(l).hoistableScripts,f=Ki(e),m=s.get(f);m||(m=l.querySelector(Xo(f)),m||(e=x({src:e,async:!0},n),(n=Gt.get(f))&&eu(e,n),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Zy(e,n){mn.M(e,n);var l=Ji;if(l&&e){var s=hi(l).hoistableScripts,f=Ki(e),m=s.get(f);m||(m=l.querySelector(Xo(f)),m||(e=x({src:e,async:!0,type:"module"},n),(n=Gt.get(f))&&eu(e,n),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Mp(e,n,l,s){var f=(f=fe.current)?da(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xi(l.href),l=hi(f).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xi(l.href);var m=hi(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Jo(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),m||$y(f,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ki(l),l=hi(f).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xi(e){return'href="'+Rt(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),nt(n,"link",l),Qe(n),e.head.appendChild(n))}function Ki(e){return'[src="'+Rt(e)+'"]'}function Xo(e){return"script[async]"+e}function Dp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Rt(l.href)+'"]');if(s)return n.instance=s,Qe(s),s;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),nt(s,"style",f),fa(s,l.precedence,e),n.instance=s;case"stylesheet":f=Xi(l.href);var m=e.querySelector(Jo(f));if(m)return n.state.loading|=4,n.instance=m,Qe(m),m;s=Ip(l),(f=Gt.get(f))&&Wr(s,f),m=(e.ownerDocument||e).createElement("link"),Qe(m);var T=m;return T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(m,"link",s),n.state.loading|=4,fa(m,l.precedence,e),n.instance=m;case"script":return m=Ki(l.src),(f=e.querySelector(Xo(m)))?(n.instance=f,Qe(f),f):(s=l,(f=Gt.get(m))&&(s=x({},l),eu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),Qe(f),nt(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,fa(s,l.precedence,e));return n.instance}function fa(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,m=f,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Wr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pa=null;function wp(e,n,l){if(pa===null){var s=new Map,f=pa=new Map;f.set(l,s)}else f=pa,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[ro]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function Up(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function jy(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wy(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Xi(s.href),m=n.querySelector(Jo(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ma.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Qe(m);return}m=n.ownerDocument||n,s=Ip(s),(f=Gt.get(f))&&Wr(s,f),m=m.createElement("link"),Qe(m);var T=m;T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ma.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var tu=0;function ev(e,n){return e.stylesheets&&e.count===0&&ga(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&tu===0&&(tu=62500*ky());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>tu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function ma(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ga(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ha=null;function ga(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ha=new Map,n.forEach(tv,e),ha=null,ma.call(e))}function tv(e,n){if(!(n.state.loading&4)){var l=ha.get(e);if(l)var s=l.get(null);else{l=new Map,ha.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}f=n.instance,T=f.getAttribute("data-precedence"),m=l.get(T)||s,m===s&&l.set(null,f),l.set(T,f),this.count++,s=ma.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ko={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function nv(e,n,l,s,f,m,T,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.hiddenUpdates=Za(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Lp(e,n,l,s,f,m,T,_,C,D,V,q){return e=new nv(e,n,l,T,C,D,V,q,_),n=1,m===!0&&(n|=24),m=St(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Vs(m),e}function Gp(e){return e?(e=Ci,e):Ci}function Hp(e,n,l,s,f,m){f=Gp(f),s.context===null?s.context=f:s.pendingContext=f,s=Nn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=bn(e,s,n),l!==null&&(gt(l,e,n),No(l,e,n))}function Vp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function nu(e,n){Vp(e,n),(e=e.alternate)&&Vp(e,n)}function Pp(e){if(e.tag===13||e.tag===31){var n=$n(e,67108864);n!==null&&gt(n,e,67108864),nu(e,67108864)}}function qp(e){if(e.tag===13||e.tag===31){var n=Nt();n=$a(n);var l=$n(e,n);l!==null&&gt(l,e,n),nu(e,n)}}var ya=!0;function iv(e,n,l,s){var f=G.T;G.T=null;var m=H.p;try{H.p=2,iu(e,n,l,s)}finally{H.p=m,G.T=f}}function ov(e,n,l,s){var f=G.T;G.T=null;var m=H.p;try{H.p=8,iu(e,n,l,s)}finally{H.p=m,G.T=f}}function iu(e,n,l,s){if(ya){var f=ou(s);if(f===null)Or(e,n,s,va,l),Bp(e,s);else if(av(f,e,n,l,s))s.stopPropagation();else if(Bp(e,s),n&4&&-1<lv.indexOf(e)){for(;f!==null;){var m=mi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Jn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var C=1<<31-Et(T);_.entanglements[1]|=C,T&=~C}Qt(m),(Ne&6)===0&&(ea=yt()+500,Bo(0))}}break;case 31:case 13:_=$n(m,2),_!==null&&gt(_,m,2),na(),nu(m,2)}if(m=ou(s),m===null&&Or(e,n,s,va,l),m===f)break;f=m}f!==null&&s.stopPropagation()}else Or(e,n,s,null,l)}}function ou(e){return e=as(e),lu(e)}var va=null;function lu(e){if(va=null,e=pi(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return va=e,null}function zp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fg()){case Ku:return 2;case Qu:return 8;case sl:case Yg:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var au=!1,Vn=null,Pn=null,qn=null,Qo=new Map,Zo=new Map,zn=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function $o(e,n,l,s,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[f]},n!==null&&(n=mi(n),n!==null&&Pp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function av(e,n,l,s,f){switch(n){case"focusin":return Vn=$o(Vn,e,n,l,s,f),!0;case"dragenter":return Pn=$o(Pn,e,n,l,s,f),!0;case"mouseover":return qn=$o(qn,e,n,l,s,f),!0;case"pointerover":var m=f.pointerId;return Qo.set(m,$o(Qo.get(m)||null,e,n,l,s,f)),!0;case"gotpointercapture":return m=f.pointerId,Zo.set(m,$o(Zo.get(m)||null,e,n,l,s,f)),!0}return!1}function Op(e){var n=pi(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,nc(e.priority,function(){qp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,nc(e.priority,function(){qp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);ls=s,l.target.dispatchEvent(s),ls=null}else return n=mi(l),n!==null&&Pp(n),e.blockedOn=l,!1;n.shift()}return!0}function Fp(e,n,l){Ea(e)&&l.delete(n)}function sv(){au=!1,Vn!==null&&Ea(Vn)&&(Vn=null),Pn!==null&&Ea(Pn)&&(Pn=null),qn!==null&&Ea(qn)&&(qn=null),Qo.forEach(Fp),Zo.forEach(Fp)}function Ta(e,n){e.blockedOn===n&&(e.blockedOn=null,au||(au=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sv)))}var Sa=null;function Yp(e){Sa!==e&&(Sa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sa===e&&(Sa=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(lu(s||l)===null)continue;break}var m=mi(l);m!==null&&(e.splice(n,3),n-=3,or(m,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function Qi(e){function n(C){return Ta(C,e)}Vn!==null&&Ta(Vn,e),Pn!==null&&Ta(Pn,e),qn!==null&&Ta(qn,e),Qo.forEach(n),Zo.forEach(n);for(var l=0;l<zn.length;l++){var s=zn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<zn.length&&(l=zn[0],l.blockedOn===null);)Op(l),l.blockedOn===null&&zn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],m=l[s+1],T=f[ct]||null;if(typeof m=="function")T||Yp(l);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ct]||null)_=T.formAction;else if(lu(f)!==null)continue}else _=T.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Yp(l)}}}function Jp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function su(e){this._internalRoot=e}xa.prototype.render=su.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Nt();Hp(l,s,e,n,null,null)},xa.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hp(e.current,2,null,e,null,null),na(),n[fi]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<zn.length&&n!==0&&n<zn[l].priority;l++);zn.splice(l,0,e),l===0&&Op(e)}};var Xp=t.version;if(Xp!=="19.2.3")throw Error(a(527,Xp,"19.2.3"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var rv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{lo=_a.inject(rv),vt=_a}catch{}}return Wo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",f=Wd,m=ef,T=tf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Lp(e,1,!1,null,null,l,s,null,f,m,T,Jp),e[fi]=n.current,Br(e),new su(n)},Wo.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,f="",m=Wd,T=ef,_=tf,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=Lp(e,1,!0,n,l??null,s,f,C,m,T,_,Jp),n.context=Gp(null),l=n.current,s=Nt(),s=$a(s),f=Nn(s),f.callback=null,bn(l,f,s),l=s,n.current.lanes=l,so(n,l),Qt(n),e[fi]=n.current,Br(e),new xa(n)},Wo.version="19.2.3",Wo}var im;function Ev(){if(im)return cu.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cu.exports=vv(),cu.exports}var Tv=Ev();const Sv=zh(Tv),Bh="school_db_v1",om={parents:[],students:[],contracts:[]},xv=()=>{try{const i=localStorage.getItem(Bh);return i?JSON.parse(i):om}catch(i){return console.error("Error loading DB",i),om}},Oh=i=>{try{localStorage.setItem(Bh,JSON.stringify(i))}catch(t){console.error("Error saving DB",t)}},_v=i=>{if(!i||typeof i!="object")return!1;const t=Array.isArray(i.parents),o=Array.isArray(i.students),a=Array.isArray(i.contracts);return t&&o&&a},Uu=()=>Math.random().toString(36).substr(2,9),Fh=(i,t)=>i.parents.find(o=>o.ci===t),Av=(i,t)=>i.students.find(o=>o.ci===t),Yh=(i,t)=>i.students.filter(o=>o.idPadre===t),Cv=(i,t)=>{const o=i.contracts.find(d=>d.id===t);if(!o)return null;const a=Fh(i,o.idPadre),r=Av(i,o.idEstudiante);return{contract:o,parent:a,student:r}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),lm=i=>{const t=bv(i);return t.charAt(0).toUpperCase()+t.slice(1)},Jh=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),Rv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ye.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:d,iconNode:p,...g},v)=>ye.createElement("svg",{ref:v,...Mv,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:Jh("lucide",r),...!d&&!Rv(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,E])=>ye.createElement(h,E)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(i,t)=>{const o=ye.forwardRef(({className:a,...r},d)=>ye.createElement(Iv,{ref:d,iconNode:t,className:Jh(`lucide-${Nv(lm(i))}`,`lucide-${i}`,a),...r}));return o.displayName=lm(i),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],wv=_e("calculator",Dv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kv=_e("chart-pie",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gv=_e("circle-check-big",Lv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xh=_e("database",Hv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pv=_e("eye",Vv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],zv=_e("file-braces",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Ov=_e("file-code",Bv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],am=_e("file-down",Fv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],sm=_e("file-spreadsheet",Yv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],il=_e("file-text",Jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],gu=_e("graduation-cap",Xv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Qv=_e("layout-dashboard",Kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$v=_e("link",Zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wv=_e("loader-circle",jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tE=_e("menu",eE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],iE=_e("monitor",nE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lE=_e("moon",oE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ku=_e("plus",aE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yu=_e("printer",sE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lu=_e("save",rE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cE=_e("search",uE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fE=_e("send",dE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],mE=_e("share-2",pE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],gE=_e("smartphone",hE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vE=_e("sparkles",yE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TE=_e("star",EE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xE=_e("sun",SE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AE=_e("triangle-alert",_E);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],NE=_e("upload",CE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RE=_e("user-check",bE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ol=_e("users",ME);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ll=_e("x",IE),DE=["Inicial 1","Inicial 2","1ro de Primaria","2do de Primaria","3ro de Primaria","4to de Primaria","5to de Primaria","6to de Primaria","1ro de Secundaria","2do de Secundaria","3ro de Secundaria","4to de Secundaria","5to de Secundaria","6to de Secundaria"],wE=({db:i,updateDb:t})=>{const[o,a]=ye.useState(!1),[r,d]=ye.useState({esDistancia:!1,tipoBeca:"Ninguna"}),[p,g]=ye.useState(0),v=(S,A)=>{const R=S.target.value;/^\d*$/.test(R)&&d({...r,[A]:R})},h=S=>{const A=S.target.value.toUpperCase();A.length<=2&&/^[A-Z0-9]*$/.test(A)&&d({...r,complementoCI:A})},E=S=>{const A=S.target.value;if(d({...r,idPadre:A}),A){const R=Yh(i,A);g(R.length),R.length>=2?d(L=>({...L,idPadre:A,tipoBeca:"Descuento Hermanos"})):d(L=>({...L,idPadre:A,tipoBeca:"Ninguna"}))}else g(0)},x=()=>{if(!r.ci||!r.nombres||!r.primerApellido||!r.idPadre||!r.curso){alert("CI, Nombres, Apellido, Padre y Curso son obligatorios");return}if(i.students.some(R=>R.ci===r.ci)){alert("Ya existe un estudiante con este CI");return}if(!Fh(i,r.idPadre)){alert("El ID del Padre (CI) no existe en la base de datos.");return}const A={id:Uu(),ci:r.ci,complementoCI:r.complementoCI||"",rude:r.rude||"",nombres:r.nombres,primerApellido:r.primerApellido,segundoApellido:r.segundoApellido||"",curso:r.curso,celular:r.celular||"",idPadre:r.idPadre,esDistancia:r.esDistancia||!1,tipoBeca:r.tipoBeca||"Ninguna"};t({...i,students:[...i.students,A]}),a(!1),d({esDistancia:!1,tipoBeca:"Ninguna"}),g(0)};return y.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[y.jsx(gu,{className:"mr-2"})," Estudiantes"]}),y.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[y.jsx(ku,{size:18,className:"mr-1"})," Nuevo Estudiante"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CI / RUDE"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre Completo"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Curso"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),y.jsxs("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[i.students.map(S=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[y.jsxs("div",{children:[S.ci," ",S.complementoCI?`-${S.complementoCI}`:""]}),y.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["RUDE: ",S.rude]})]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[S.primerApellido," ",S.segundoApellido," ",S.nombres]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:S.curso}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y.jsxs("div",{className:"flex flex-col space-y-1",children:[y.jsxs("span",{className:"flex items-center text-blue-600 dark:text-blue-400 font-medium",children:[y.jsx($v,{size:14,className:"mr-1"})," Padre: ",S.idPadre]}),S.esDistancia&&y.jsxs("span",{className:"flex items-center text-purple-600 dark:text-purple-300 text-xs font-bold bg-purple-100 dark:bg-purple-900/50 px-2 py-0.5 rounded w-fit",children:[y.jsx(iE,{size:12,className:"mr-1"})," Virtual"]}),S.tipoBeca&&S.tipoBeca!=="Ninguna"&&y.jsxs("span",{className:"flex items-center text-yellow-600 dark:text-yellow-400 text-xs font-bold bg-yellow-100 dark:bg-yellow-900/50 px-2 py-0.5 rounded w-fit",children:[y.jsx(TE,{size:12,className:"mr-1"})," ",S.tipoBeca]})]})})]},S.id)),i.students.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No hay estudiantes registrados"})})]})]})}),o&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg overflow-y-auto max-h-[90vh] shadow-xl border dark:border-gray-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Registrar Estudiante"}),y.jsx("button",{onClick:()=>a(!1),children:y.jsx(ll,{className:"text-gray-500 dark:text-gray-400"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Vincular Padre (CI)"}),y.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.idPadre||"",onChange:E,children:[y.jsx("option",{value:"",children:"-- Seleccionar Padre --"}),i.parents.map(S=>y.jsxs("option",{value:S.ci,children:[S.ci," - ",S.primerApellido," ",S.nombres]},S.id))]}),p>0&&y.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Este padre ya tiene ",p," hijo(s) inscrito(s)."]})]}),y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CI (Slo Nmeros)"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.ci||"",onChange:S=>v(S,"ci"),placeholder:"Ej: 1234567"})]}),y.jsxs("div",{className:"w-24",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Comp."}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 uppercase text-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.complementoCI||"",onChange:h,placeholder:"1A"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"RUDE"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.rude||"",onChange:S=>d({...r,rude:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombres"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.nombres||"",onChange:S=>d({...r,nombres:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primer Apellido"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.primerApellido||"",onChange:S=>d({...r,primerApellido:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Segundo Apellido"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.segundoApellido||"",onChange:S=>d({...r,segundoApellido:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Curso"}),y.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.curso||"",onChange:S=>d({...r,curso:S.target.value}),children:[y.jsx("option",{value:"",children:"-- Seleccionar Curso --"}),DE.map(S=>y.jsx("option",{value:S,children:S},S))]})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular (Estudiante)"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular||"",onChange:S=>d({...r,celular:S.target.value})})]}),y.jsxs("div",{className:"col-span-2 border-t dark:border-gray-600 pt-4 mt-2",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("input",{type:"checkbox",id:"distancia",className:"w-4 h-4 text-blue-600 rounded bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",checked:r.esDistancia||!1,onChange:S=>d({...r,esDistancia:S.target.checked})}),y.jsx("label",{htmlFor:"distancia",className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estudiante a distancia (Virtual)"})]}),y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Beneficio / Beca"}),y.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.tipoBeca||"Ninguna",onChange:S=>d({...r,tipoBeca:S.target.value}),children:[y.jsx("option",{value:"Ninguna",children:"Ninguna"}),y.jsx("option",{value:"Descuento Hermanos",children:"Descuento Hermanos (3er hijo+)"}),y.jsx("option",{value:"Beca Social",children:"Beca Social (RM 001/2026)"}),y.jsx("option",{value:"Beca Excelencia",children:"Beca Excelencia"})]}),r.tipoBeca!=="Ninguna"&&y.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"* El descuento correspondiente se aplicar al generar el contrato."})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[y.jsx(Lu,{size:18,className:"mr-2"})," Guardar"]})})]})})]})},UE=({db:i,updateDb:t})=>{const[o,a]=ye.useState(!1),[r,d]=ye.useState({}),p=(h,E)=>{const x=h.target.value;/^\d*$/.test(x)&&d({...r,[E]:x})},g=h=>{const E=h.target.value.toUpperCase();E.length<=2&&/^[A-Z0-9]*$/.test(E)&&d({...r,complementoCI:E})},v=()=>{if(!r.ci||!r.nombres||!r.primerApellido||!r.celular){alert("CI, Nombres, Primer Apellido y Celular son obligatorios");return}if(r.celular.length<8){alert("El nmero de celular debe tener al menos 8 dgitos.");return}if(i.parents.some(E=>E.ci===r.ci)){alert("Ya existe un padre con este nmero de CI");return}const h={id:Uu(),ci:r.ci,complementoCI:r.complementoCI||"",nombres:r.nombres,primerApellido:r.primerApellido,segundoApellido:r.segundoApellido||"",celular:r.celular,celular2:r.celular2||"",direccion:r.direccion||""};t({...i,parents:[...i.parents,h]}),a(!1),d({})};return y.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[y.jsx(ol,{className:"mr-2"})," Padres de Familia"]}),y.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[y.jsx(ku,{size:18,className:"mr-1"})," Nuevo Padre"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CI"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre Completo"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Celular"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Direccin"})]})}),y.jsxs("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[i.parents.map(h=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[h.ci," ",h.complementoCI?`-${h.complementoCI}`:""]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[h.primerApellido," ",h.segundoApellido," ",h.nombres]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:h.celular}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:h.direccion})]},h.id)),i.parents.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No hay padres registrados"})})]})]})}),o&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg shadow-xl border dark:border-gray-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Registrar Padre"}),y.jsx("button",{onClick:()=>a(!1),children:y.jsx(ll,{className:"text-gray-500 dark:text-gray-400"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CI (Slo Nmeros)"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.ci||"",onChange:h=>p(h,"ci"),placeholder:"Ej: 1234567"})]}),y.jsxs("div",{className:"w-24",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Comp."}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 uppercase text-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.complementoCI||"",onChange:g,placeholder:"1A"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombres"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.nombres||"",onChange:h=>d({...r,nombres:h.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primer Apellido"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.primerApellido||"",onChange:h=>d({...r,primerApellido:h.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Segundo Apellido"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.segundoApellido||"",onChange:h=>d({...r,segundoApellido:h.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular (Mn 8 dgitos)"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular||"",onChange:h=>p(h,"celular"),maxLength:15})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular 2 (Opcional)"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular2||"",onChange:h=>p(h,"celular2"),maxLength:15})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Direccin"}),y.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.direccion||"",onChange:h=>d({...r,direccion:h.target.value})})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("button",{onClick:v,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[y.jsx(Lu,{size:18,className:"mr-2"})," Guardar"]})})]})})]})};var Ht=(i=>(i.GLOBAL="Global",i.SEMESTRAL="Semestral",i.TRIMESTRAL="Trimestral",i.MENSUAL="Mensual",i))(Ht||{});const kE=({db:i,contractId:t,onClose:o})=>{const a=Cv(i,t);if(!a||!a.contract||!a.parent||!a.student)return y.jsx("div",{className:"p-4 text-red-500",children:"Error: Datos de contrato incompletos."});const{contract:r,parent:d,student:p}=a,g=R=>R.toLocaleString("es-BO",{style:"currency",currency:"BOB"}),v=R=>R.toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}),h=(R,L)=>L?`${R}-${L}`:R,x=(()=>{const R=[],L=new Date(r.fechaFirma+"T12:00:00");if(r.tipoPago===Ht.GLOBAL)R.push({n:1,concepto:"Pago nico (Total)",vencimiento:v(L),monto:r.montoAnual});else{let U=10;r.tipoPago===Ht.SEMESTRAL?U=2:r.tipoPago===Ht.TRIMESTRAL&&(U=4);for(let z=0;z<U;z++){let F="",O=r.montoCuota;if(z===0)F=v(L);else{let W=new Date(L.getFullYear(),0,1);if(r.esProrrateo){const $=L.getMonth();W.setMonth($+z)}else W.setMonth(1+z);W.setDate(5),F=v(W)}if(z===U-1){const W=r.montoCuota*(U-1),$=r.montoAnual-W;Math.abs($-r.montoCuota)>1&&(O=$)}let J="";r.tipoPago===Ht.MENSUAL?J=z===0?"Matrcula":z===U-1?"Cuota Final":`Mensualidad ${z}`:J=`Cuota ${z+1}`,R.push({n:z+1,concepto:J,vencimiento:F,monto:O})}}return R})(),S=r.tipoPago===Ht.GLOBAL,A=()=>{var U;const R=window.open("","_blank","width=900,height=800");if(!R){alert("Por favor habilita las ventanas emergentes para imprimir.");return}const L=(U=document.getElementById("printable-content"))==null?void 0:U.innerHTML;R.document.write(`
      <html>
        <head>
          <title>Contrato ${r.numeroContrato}</title>
          <style>
             @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@300;400;700&display=swap');
             
             body { 
               font-family: 'Merriweather', serif; 
               font-size: 10.5px; 
               line-height: 1.4; 
               color: #000;
               margin: 0;
               padding: 20px;
               text-align: justify;
             }
             .document-container {
                max-width: 21cm;
                margin: 0 auto;
             }
             .page-break {
               page-break-before: always;
               display: block;
               margin-top: 40px;
             }
             h1 { font-size: 13px; font-weight: 700; text-align: center; margin-bottom: 15px; text-transform: uppercase; }
             h2 { font-size: 11px; font-weight: 700; margin-top: 12px; margin-bottom: 5px; text-transform: uppercase; }
             p { margin-bottom: 6px; }
             ul { margin-bottom: 6px; padding-left: 20px; list-style-type: disc;}
             li { margin-bottom: 3px; }
             strong { font-weight: 700; }
             
             table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 10px; }
             th, td { border: 1px solid #000; padding: 4px 6px; }
             th { background-color: #f0f0f0; text-align: center; font-weight: bold; }
             
             .signatures { margin-top: 40px; display: flex; justify-content: space-between; page-break-inside: avoid; }
             .sig-block { width: 45%; text-align: center; }
             .sig-line { border-top: 1px solid black; margin-bottom: 5px; font-weight: bold; padding-top: 5px; }
             
             /* Annex styles */
             .checkbox-box { display: inline-block; width: 15px; height: 15px; border: 1px solid black; margin-right: 5px; text-align: center; line-height: 15px; font-weight: bold;}
             .option-block { margin-bottom: 15px; padding-left: 10px; }
             .schedule-list { list-style-type: none; padding-left: 10px; }
             .schedule-item { margin-bottom: 2px; }

             @media print {
               body { padding: 0; margin: 0; }
               .document-container { width: 100%; max-width: none; }
               @page {
                 margin: 2cm;
                 size: auto;
               }
             }
          </style>
        </head>
        <body>
          <div class="document-container">
            ${L}
          </div>
          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),R.document.close()};return y.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-95 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl h-[90vh] flex flex-col transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[y.jsxs("h3",{className:"text-xl font-bold flex items-center text-gray-900 dark:text-white",children:[y.jsx(il,{className:"mr-2 text-blue-600 dark:text-blue-400"})," Vista Previa del Contrato"]}),y.jsx("button",{onClick:o,className:"text-gray-500 hover:text-red-500 dark:text-gray-400",children:y.jsx(ll,{size:24})})]}),y.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 border-b dark:border-gray-600 flex justify-between items-center",children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Texto actualizado segn normativa 2026."}),y.jsxs("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow flex items-center font-bold",children:[y.jsx(yu,{className:"mr-2",size:20})," Imprimir / Abrir PDF"]})]}),y.jsxs("div",{id:"printable-content",className:"hidden",children:[y.jsx("h1",{children:"CONTRATO DE PRESTACIN DE SERVICIOS EDUCATIVOS  GESTIN 2026"}),y.jsxs("p",{children:[y.jsx("strong",{children:"CONSTE"})," por el presente documento privado, que al solo reconocimiento de firmas y rbricas surtir los efectos de instrumento pblico conforme al ",y.jsx("strong",{children:"Art. 1297 del Cdigo Civil"}),", que entre las partes intervinientes se suscribe el presente ",y.jsx("strong",{children:"CONTRATO DE PRESTACIN DE SERVICIOS EDUCATIVOS"}),", celebrado al amparo del Principio de Autonoma de la Voluntad, ",y.jsx("strong",{children:"Art. 454"}),", y bajo las previsiones de los ",y.jsx("strong",{children:"Arts. 51, 302, 340, 450, 532, 494, 732, 1299 del Cdigo Civil Boliviano"}),", y de manera supletoria el ",y.jsx("strong",{children:"Cdigo de Comercio"})," en lo referente a la naturaleza onerosa de la prestacin."]}),y.jsx("h2",{children:"CLUSULA PRIMERA.- (DE LAS PARTES)"}),y.jsx("p",{children:"Intervienen en la suscripcin del presente contrato:"}),y.jsxs("p",{children:[y.jsx("strong",{children:'1.1. LA UNIDAD EDUCATIVA "PRNCIPE DE PAZ LS"'}),", institucin de servicio educativo, representada legalmente para este acto por su Directora, ",y.jsx("strong",{children:"Prof. Ivone Arminda Sapiencia Fernndez"}),", con C.I. 080131 L.P.; en adelante denominada simplemente como ",y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"}),"."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"1.2. EL SEOR(A):"})," ",d.nombres," ",d.primerApellido," ",d.segundoApellido,", con C.I. No. ",h(d.ci,d.complementoCI),", mayor de edad y hbil por derecho, en calidad de padre, madre, tutor(a) o apoderado legal; en adelante denominado simplemente como ",y.jsx("strong",{children:"EL CONTRATANTE"}),"."]}),y.jsx("div",{style:{margin:"10px 0"},children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{width:"40px"},children:"No."}),y.jsx("th",{style:{width:"100px"},children:"Cdigo/RUDE"}),y.jsx("th",{children:"Nombre del alumno"}),y.jsx("th",{style:{width:"120px"},children:"Curso"})]})}),y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("td",{style:{textAlign:"center"},children:"1"}),y.jsx("td",{style:{textAlign:"center"},children:p.rude||"S/N"}),y.jsxs("td",{children:[p.nombres," ",p.primerApellido," ",p.segundoApellido]}),y.jsx("td",{style:{textAlign:"center"},children:p.curso})]})})]})}),y.jsx("h2",{children:"CLUSULA SEGUNDA.- (NATURALEZA JURDICA Y OBJETO)"}),y.jsxs("p",{children:["El presente contrato es de naturaleza Civil-Prestacional, por el cual ",y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," se obliga a brindar servicios educativos integrales durante la ",y.jsx("strong",{children:"Gestin Escolar 2026"}),", en cumplimiento de la Ley 070 y la RM 0001/2026.",y.jsx("strong",{children:" EL CONTRATANTE"}),", en contraprestacin, asume la obligacin de pago dinerario, perfeccionando as el contrato bilateral y oneroso conforme al ",y.jsx("strong",{children:"Art. 452 del Cdigo Civil"}),"."]}),y.jsx("h2",{children:"CLUSULA TERCERA.- (OBLIGACIONES DE LA UNIDAD EDUCATIVA)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," asume las obligaciones de diligencia previstas en el ",y.jsx("strong",{children:"Cdigo Civil"}),", comprometindose a:"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"3.1."})," Impartir la enseanza conforme a los planes oficiales."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"3.2."})," Proporcionar infraestructura, seguridad y recursos pedaggicos idneos."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"3.3."})," Garantizar un ambiente seguro, libre de violencia y discriminacin."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"3.4."})," Garantizar la NO suspensin ni expulsin del estudiante por temas econmicos, sin perjuicio de las acciones civiles de cobro."]}),y.jsx("h2",{children:"CLUSULA CUARTA.- (OBLIGACIONES DEL CONTRATANTE)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"EL CONTRATANTE"})," declara su conformidad con el Reglamento Interno y asume las siguientes obligaciones con fuerza de ley:"]}),y.jsx("p",{children:y.jsx("strong",{children:"4.1. Acadmicas y Administrativas:"})}),y.jsxs("ul",{children:[y.jsx("li",{children:"Garantizar la asistencia puntual, el uso del uniforme y la provisin de materiales escolares."}),y.jsx("li",{children:"Asistir obligatoriamente a las reuniones convocadas y firmar los documentos de seguimiento pedaggico."})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"4.2. Salud y Psicopedagoga:"})," Presentar los ",y.jsx("strong",{children:"informes psicopedaggicos"})," del estudiante (si corresponde o si es requerido por Direccin) de manera impostergable ",y.jsx("strong",{children:"hasta la finalizacin del Primer Trimestre"}),"."]}),y.jsx("p",{children:y.jsx("strong",{children:"4.3. Prohibicin de Dispositivos Electrnicos:"})}),y.jsxs("ul",{children:[y.jsxs("li",{children:["Queda terminantemente ",y.jsx("strong",{children:"PROHIBIDO"})," que el estudiante porte o utilice celulares, tabletas o dispositivos electrnicos dentro de las aulas o instalaciones."]}),y.jsxs("li",{children:["Si por fuerza mayor el estudiante debe llevar un dispositivo, este ",y.jsx("strong",{children:"deber ser entregado en Direccin"})," al ingreso y recogido a la salida. ",y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," no se responsabiliza por prdidas, daos o hurtos de equipos que no hayan sido depositados en custodia bajo registro."]})]}),y.jsx("p",{children:y.jsx("strong",{children:"4.4. Beneficio de Beca Social:"})}),y.jsx("ul",{children:y.jsxs("li",{children:["En caso de beneficio de Beca, se aplicar el descuento correspondiente del ",y.jsxs("strong",{children:[p.tipoBeca!=="Ninguna"?r.descuento:"___","%"]}),". Como contraprestacin a dicho beneficio, el contratante se obliga a cumplir estrictamente las condiciones de apoyo institucional, bajo pena de revocacin del beneficio por incumplimiento de condicin."]})}),y.jsx("h2",{children:"CLUSULA QUINTA.- (RGIMEN ECONMICO Y FUERZA EJECUTIVA)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"5.1. Precio y Liquidez: EL CONTRATANTE"})," se obliga a pagar la suma anual de ",y.jsx("strong",{children:g(r.montoAnual)}),", monto que se reconoce como ",y.jsx("strong",{children:"suma lquida, exigible y de plazo vencido"})," segn el cronograma del Anexo."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"5.2. Congelamiento Temporal:"})," El monto de las cuotas se mantiene congelado hasta abril de 2026. Las partes aceptan la posibilidad de reajuste posterior a esta fecha. En caso de que as sea dispuesto la Unidad Educativa y el Contratante debern firmar una adenda al presente contrato consignando el nuevo monto."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"5.3. Modalidad de Pago:"}),' Los pagos se realizarn segn el "ANEXO DE MODALIDAD DE PAGO", que forma parte indivisible de este contrato. La totalidad debe estar saldada antes del 6 de noviembre de 2026.']}),y.jsx("h2",{children:"CLUSULA SEXTA.- (MORA, CLUSULA PENAL Y RESOLUCIN POR INSOLVENCIA)"}),y.jsx("p",{children:"Para efectos de seguridad jurdica, se establecen los siguientes mecanismos de proteccin al patrimonio de la institucin:"}),y.jsxs("p",{children:[y.jsx("strong",{children:"6.1. Mora Automtica:"})," El solo vencimiento de los plazos establecidos en el Anexo constituir a ",y.jsx("strong",{children:"EL CONTRATANTE en mora, sin necesidad de requerimiento judicial o extrajudicial alguno."}),"Intereses: La mora generar automticamente el inters convencional administrativo del 5% mensual sobre saldos, aceptado por las partes."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"6.2. Clusula Penal (Art. 532 C.C.):"})," Ante el incumplimiento en el pago que supere los ",y.jsx("strong",{children:"treinta (30) das"}),", se aplicar una multa administrativa por gestin de cobranza. Las partes acuerdan que esta penalidad es independiente de la obligacin principal y busca resarcir los gastos administrativos de recuperacin de cartera."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"6.3. Insolvencia Sobrevenida y Traslado:"})," En armona con el ",y.jsx("strong",{children:"Art. 77 de la RM 001/2026"})," (Prohibicin de Expulsin) y el Cdigo Civil:"]}),y.jsxs("ol",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Presuncin de Insolvencia:"})," La falta de pago de ",y.jsx("strong",{children:"dos (2) mensualidades consecutivas (60 das)"})," se considerar legalmente como insolvencia sobrevenida de ",y.jsx("strong",{children:"EL CONTRATANTE"}),"."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Efecto:"})," Ante esta situacin, ",y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," habilitar administrativamente el ",y.jsx("strong",{children:"traslado voluntario"})," del estudiante a una unidad del sistema fiscal, poniendo a disposicin la documentacin acadmica (Libretas/RUDE) para garantizar su derecho a la educacin, evitando as el agravamiento de la deuda (mitigacin de daos)."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Accin Ejecutiva:"})," La entrega de documentos ",y.jsx("strong",{children:"NO"})," extingue la obligacin econmica. ",y.jsx("strong",{children:"EL CONTRATANTE"})," reconoce que el presente contrato constituye ",y.jsx("strong",{children:"TTULO EJECUTIVO"})," suficiente para perseguir el cobro de la totalidad de la deuda, intereses y costas por la va judicial, afectando su patrimonio presente y futuro conforme a lo establecido por el ",y.jsx("strong",{children:"Art. 1335 C.C."})]})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"6.4. Excepcin (Compromiso de Pago):"})," El proceso de traslado podr suspenderse si ",y.jsx("strong",{children:"EL CONTRATANTE"})," suscribe un ",y.jsx("strong",{children:"Reconocimiento de Deuda y Compromiso de Pago"})," notariado o privado, renovando la obligacin."]}),y.jsx("h2",{children:"CLUSULA SPTIMA.- (MODALIDAD EDUCATIVA)"}),y.jsxs("p",{children:["La modalidad es presencial. El cambio a modalidad virtual por disposicin ministerial o emergencia sanitaria no constituye incumplimiento de ",y.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," ni faculta a ",y.jsx("strong",{children:"EL CONTRATANTE"})," a suspender pagos, ya que el servicio educativo contina prestndose por medios alternativos."]}),y.jsx("h2",{children:"CLUSULA OCTAVA.- (RESOLUCIN Y DAOS Y PERJUICIOS)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"8.1. Incumplimiento Culpable:"})," Si el contrato se resuelve por causa imputable a ",y.jsx("strong",{children:"EL CONTRATANTE"})," (retiro injustificado, expulsin conductual reglamentaria o mora prolongada), se aplicar el ",y.jsx("strong",{children:"Art. 568 del Cdigo Civil"}),", quedando ",y.jsx("strong",{children:"EL CONTRATANTE"})," obligado al pago del monto total del contrato por concepto de ",y.jsx("strong",{children:"Daos y Perjuicios"})," (Lucro Cesante y Dao Emergente) ocasionados a la planificacin presupuestaria anual de la institucin."]}),y.jsx("h2",{children:"CLUSULA NOVENA.- (DERECHOS DE IMAGEN)"}),y.jsxs("p",{children:["De conformidad con el ",y.jsx("strong",{children:"Art. 16 del Cdigo Civil, EL CONTRATANTE"})," autoriza expresamente el uso de la imagen del estudiante para fines institucionales y educativos."]}),y.jsx("h2",{children:"CLUSULA DCIMA.- (SOLUCIN DE CONTROVERSIAS Y DOMICILIO)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"10.1. Conciliacin Previa:"})," Las partes se obligan a agotar la va de la Conciliacin Extrajudicial."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"10.2. Jurisdiccin:"})," En caso de litigio, se someten a los Juzgados Pblicos en materia Civil y Comercial de la ciudad de La Paz."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"10.3. Domicilio Especial:"})," Para efectos de notificaciones judiciales y cobros, ",y.jsx("strong",{children:"EL CONTRATANTE"})," constituye domicilio especial en la direccin sealada en el introito, valiendo cualquier notificacin entregada en dicho lugar."]}),y.jsx("h2",{children:"CLUSULA DCIMA PRIMERA.- (ACEPTACIN)"}),y.jsxs("p",{children:[y.jsx("strong",{children:"LAS PARTES"})," declaran haber ledo, comprendido y aceptado todas las clusulas del presente contrato, reconociendo que el mismo tiene fuerza de ley entre partes, sin que medie dolo, violencia o se haya hecho incurrir en error y en seal de conformidad, firman en doble ejemplar en la ciudad de La Paz, a los ",y.jsx("strong",{children:new Date(r.fechaFirma).getDate()})," das del mes de ",y.jsx("strong",{children:"Enero"})," de 2026."]}),y.jsxs("div",{className:"signatures",children:[y.jsxs("div",{className:"sig-block",children:[y.jsxs("div",{className:"sig-line",children:[d.nombres," ",d.primerApellido]}),y.jsx("div",{children:h(d.ci,d.complementoCI)}),y.jsx("div",{children:"EL CONTRATANTE"})]}),y.jsxs("div",{className:"sig-block",children:[y.jsx("div",{className:"sig-line",children:"Prof. Ivone Arminda Sapiencia Fernndez"}),y.jsx("div",{children:"CI. 080131 LP"}),y.jsx("div",{children:"Directora"})]})]}),y.jsxs("div",{className:"page-break",children:[y.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[y.jsx("h1",{children:"ANEXO: RECONOCIMIENTO DE DEUDA Y PLAN DE PAGOS  GESTIN 2026"}),y.jsx("p",{style:{textAlign:"center",fontSize:"10px"},children:"(Documento integrante del Contrato de Servicios Educativos con Fuerza Ejecutiva)"})]}),y.jsx("p",{children:y.jsx("strong",{children:"I. GENERALIDADES DEL OBLIGADO"})}),y.jsxs("ul",{style:{listStyleType:"none",paddingLeft:"0"},children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Nombre del Contratante (Deudor):"})," ",d.nombres," ",d.primerApellido," ",d.segundoApellido]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"C.I.:"})," ",h(d.ci,d.complementoCI),"  ",y.jsx("strong",{children:"Domicilio Procesal:"})," ",d.direccion]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Estudiante (Beneficiario):"})," ",p.nombres," ",p.primerApellido," ",p.segundoApellido]})]}),y.jsx("p",{style:{marginTop:"15px"},children:y.jsx("strong",{children:"II. RECONOCIMIENTO DE OBLIGACIN (Art. 1297 Cdigo Civil)"})}),y.jsxs("p",{children:["Yo, ",y.jsx("strong",{children:"EL CONTRATANTE"}),", declaro y reconozco adeudar a la ",y.jsx("strong",{children:"UNIDAD EDUCATIVA PRNCIPE DE PAZ LS"})," la suma total anual de ",y.jsx("strong",{children:g(r.montoAnual)}),", monto que reconozco como suma lquida, exigible y de plazo vencido conforme al cronograma que elijo a continuacin."]}),y.jsx("p",{style:{marginTop:"15px"},children:y.jsx("strong",{children:"III. SELECCIN DE MODALIDAD (Marque una opcin)"})}),y.jsxs("div",{className:"option-block",children:[y.jsxs("div",{children:[y.jsx("span",{className:"checkbox-box",children:S?"X":""})," ",y.jsx("strong",{children:"OPCIN A: PAGO NICO (TOTAL)"})]}),y.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"25px",marginTop:"5px"},children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Monto:"})," ",g(r.montoAnual)]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Vencimiento Fatal:"})," ",v(new Date(x[0].vencimiento))]})]})]}),y.jsxs("div",{className:"option-block",children:[y.jsxs("div",{children:[y.jsx("span",{className:"checkbox-box",children:S?"":"X"})," ",y.jsxs("strong",{children:["OPCIN B: PLAN ",r.tipoPago.toUpperCase()," (",x.length," CUOTAS)"]})]}),y.jsx("ul",{style:{listStyleType:"disc",paddingLeft:"25px",marginTop:"5px"},children:y.jsxs("li",{children:[y.jsx("strong",{children:"Reconocimiento:"})," Acepto realizar ",x.length," pagos segn el siguiente detalle:"]})}),y.jsxs("div",{style:{marginLeft:"15px",marginTop:"5px",fontSize:"10px"},children:[y.jsx("strong",{children:"Cronograma de Vencimientos (Mora Automtica):"}),y.jsx("ul",{className:"schedule-list",children:x.map(R=>y.jsxs("li",{className:"schedule-item",children:[y.jsxs("strong",{children:[R.n,". ",R.concepto,":"]})," ",g(R.monto)," (",R.vencimiento,")."]},R.n))})]})]}),y.jsx("p",{style:{marginTop:"15px"},children:y.jsx("strong",{children:"IV. DECLARACIN JURADA DE SOLVENCIA Y EFECTOS"})}),y.jsxs("ol",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Mora y Ttulo Ejecutivo:"})," Declaro conocer que el incumplimiento de cualquiera de los plazos sealados constituye el presente documento en ",y.jsx("strong",{children:"TTULO EJECUTIVO"})," (Art. 378 y siguientes del Cdigo Procesal Civil), facultando a la Unidad Educativa a exigir el cobro coactivo de la totalidad de la deuda ms intereses y costas."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Aceptacin de Traslado:"})," Acepto voluntariamente que, si acumulo ",y.jsx("strong",{children:"60 das de mora"}),", se presume mi insolvencia sobrevenida y autorizo el traslado administrativo de mi hijo/a, renunciando a reclamos posteriores sobre la plaza escolar."]})]}),y.jsxs("p",{style:{marginTop:"20px"},children:["En seal de conformidad con la fuerza legal de este anexo, firmo a los ",new Date(r.fechaFirma).getDate()," das de Enero de 2026."]}),y.jsxs("div",{style:{marginTop:"60px"},children:[y.jsx("div",{className:"sig-line",style:{width:"60%",margin:"0 auto"}}),y.jsxs("div",{style:{textAlign:"center"},children:["FIRMA DEL CONTRATANTE C.I.: ",h(d.ci,d.complementoCI),y.jsx("br",{}),"(En calidad de Reconocimiento de Deuda)"]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-auto bg-gray-200 dark:bg-gray-900 p-8 flex justify-center",children:y.jsx("div",{className:"bg-white p-8 w-[21cm] min-h-[30cm] shadow-lg text-xs",children:y.jsxs("div",{className:"text-center text-gray-500 mt-40",children:[y.jsx(il,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("h3",{className:"text-xl font-bold text-gray-700",children:"Modo Vista Previa"}),y.jsxs("p",{children:["Haz clic en el botn superior ",y.jsx("strong",{children:'"Imprimir / Abrir PDF"'})," para generar el documento oficial en una nueva ventana."]})]})})})]})})},LE=({db:i,updateDb:t})=>{const[o,a]=ye.useState(!1),[r,d]=ye.useState(null),[p,g]=ye.useState(""),[v,h]=ye.useState(""),[E,x]=ye.useState([]),[S,A]=ye.useState(""),[R,L]=ye.useState(Ht.MENSUAL),[U,z]=ye.useState(0),[F,O]=ye.useState(0),[J,W]=ye.useState(new Date().toISOString().split("T")[0]),[$,Y]=ye.useState(!1),[ce,j]=ye.useState(!1),ue=ye.useMemo(()=>{if(!p)return i.parents;const H=p.toLowerCase();return i.parents.filter(Q=>Q.ci.includes(H)||Q.primerApellido.toLowerCase().includes(H)||Q.nombres.toLowerCase().includes(H))},[i.parents,p]);ye.useEffect(()=>{if(!J)return;new Date(J).getMonth()>=2?j(!0):(j(!1),Y(!1))},[J]);const Ae=H=>{const Q=H.target.value;h(Q),x(Q?Yh(i,Q):[]),A(""),O(0)},ke=H=>{const Q=H.target.value;A(Q);const de=E.find(Ce=>Ce.ci===Q);de&&(de.tipoBeca==="Descuento Hermanos"?O(10):de.tipoBeca==="Beca Social"?O(20):de.tipoBeca==="Beca Excelencia"?O(50):O(0))},Ee=(H,Q)=>H-H*(Q/100),Ve=(H,Q,de)=>{const Ce=Ee(H,Q);let b=1;switch(de){case Ht.GLOBAL:b=1;break;case Ht.SEMESTRAL:b=2;break;case Ht.TRIMESTRAL:b=4;break;case Ht.MENSUAL:b=10;break}return Ce/b},it=()=>{if(!v||!S||U<=0){alert("Seleccione padre, estudiante y monto vlido.");return}const H=Ee(U,F),Q={id:Uu(),numeroContrato:`CTR-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3)}`,idPadre:v,idEstudiante:S,tipoPago:R,montoAnual:H,descuento:F,montoCuota:Ve(U,F,R),fechaFirma:J,esProrrateo:$};t({...i,contracts:[...i.contracts,Q]}),a(!1),G()},G=()=>{g(""),h(""),A(""),x([]),z(0),O(0),Y(!1),j(!1)};return y.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[y.jsx(il,{className:"mr-2"})," Contratos"]}),y.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[y.jsx(ku,{size:18,className:"mr-1"})," Nuevo Contrato"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.contracts.map(H=>{const Q=i.students.find(de=>de.ci===H.idEstudiante);return y.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition bg-gray-50 dark:bg-gray-750 dark:bg-gray-700",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded",children:H.numeroContrato}),y.jsxs("h3",{className:"font-bold mt-2 text-gray-800 dark:text-gray-100",children:[Q==null?void 0:Q.primerApellido," ",Q==null?void 0:Q.nombres]})]}),y.jsx("button",{onClick:()=>d(H.id),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:y.jsx(Pv,{size:20})})]}),y.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[y.jsxs("p",{children:["Tipo: ",y.jsx("span",{className:"font-medium",children:H.tipoPago})]}),y.jsxs("p",{children:["Cuota: ",y.jsx("span",{className:"font-medium",children:H.montoCuota.toLocaleString("es-BO",{style:"currency",currency:"BOB"})})]}),H.descuento>0&&y.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-bold",children:["Descuento aplicado: ",H.descuento,"%"]}),H.esProrrateo&&y.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-bold border border-orange-200 bg-orange-50 px-1 rounded w-fit",children:"Prorrateado / Tardo"}),y.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Fecha: ",H.fechaFirma]})]})]},H.id)}),i.contracts.length===0&&y.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay contratos registrados."})]}),o&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg shadow-xl border dark:border-gray-700 overflow-y-auto max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Generar Contrato"}),y.jsx("button",{onClick:()=>a(!1),children:y.jsx(ll,{className:"text-gray-500 dark:text-gray-400"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buscar Padre (CI o Apellidos)"}),y.jsxs("div",{className:"relative mb-2",children:[y.jsx("input",{type:"text",className:"w-full border border-gray-300 dark:border-gray-600 rounded pl-8 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Filtrar lista...",value:p,onChange:H=>g(H.target.value)}),y.jsx(cE,{size:16,className:"absolute left-2.5 top-3 text-gray-400"})]}),y.jsxs("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:v,onChange:Ae,children:[y.jsx("option",{value:"",children:"-- Seleccionar Padre --"}),ue.map(H=>y.jsxs("option",{value:H.ci,children:[H.ci," - ",H.primerApellido," ",H.nombres]},H.id))]}),ue.length===0&&y.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No se encontraron padres."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seleccionar Estudiante"}),y.jsxs("select",{className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",value:S,onChange:ke,disabled:!v,children:[y.jsx("option",{value:"",children:"-- Seleccionar --"}),E.map(H=>y.jsxs("option",{value:H.ci,children:[H.rude," - ",H.primerApellido," ",H.nombres,H.tipoBeca!=="Ninguna"?` (${H.tipoBeca})`:""]},H.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha de Firma"}),y.jsx("input",{type:"date",className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:J,onChange:H=>W(H.target.value)})]}),ce&&y.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 rounded",children:[y.jsx("label",{className:"block text-sm font-bold text-orange-800 dark:text-orange-300 mb-2",children:"Tipo de Inscripcin (Marzo en adelante)"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",name:"prorrateo",checked:!$,onChange:()=>Y(!1),className:"mr-2"}),y.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:"Ao Completo"})]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",name:"prorrateo",checked:$,onChange:()=>Y(!0),className:"mr-2"}),y.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:"Prorrateo (Monto Diferenciado)"})]})]}),$&&y.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-400 mt-1",children:'* Ingrese el monto total calculado por los meses restantes en "Monto Base".'})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Pago"}),y.jsx("select",{className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:R,onChange:H=>L(H.target.value),children:Object.values(Ht).map(H=>y.jsx("option",{value:H,children:H},H))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Monto Base ",$?"Total":"Anual"," (Bs)"]}),y.jsx("input",{type:"number",className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:U,onChange:H=>z(Number(H.target.value))})]})]}),y.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 p-3 rounded border border-yellow-200 dark:border-yellow-700/50",children:[y.jsxs("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-400 uppercase mb-1 flex items-center",children:[y.jsx(wv,{size:12,className:"mr-1"})," Descuento (%)"]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"number",className:"w-20 border border-gray-300 dark:border-gray-600 p-1 rounded mr-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:F,onChange:H=>O(Number(H.target.value)),min:"0",max:"100"}),y.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Monto Final: ",y.jsxs("strong",{children:[Ee(U,F).toFixed(2)," Bs"]})]})]})]}),y.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded text-sm text-blue-800 dark:text-blue-300",children:["Cuota estimada: ",y.jsxs("strong",{children:[Ve(U,F,R).toFixed(2)," Bs."]})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("button",{onClick:it,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[y.jsx(Lu,{size:18,className:"mr-2"})," Generar Contrato"]})})]})}),r&&y.jsx(kE,{db:i,contractId:r,onClose:()=>d(null)})]})};var GE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HE,VE;function PE(){return{geminiUrl:HE,vertexUrl:VE}}function qE(i,t,o,a){var r,d;if(!(i!=null&&i.baseUrl)){const p=PE();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function K(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(o))for(let h=0;h<v.length;h++){const E=v[h];c(E,t.slice(d+1),o[h])}else for(const h of v)c(h,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];c(v[0],t.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function zE(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),d=a.split("."),p=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&d.length>g)for(let v=g;v<d.length;v++){const h=d[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}vu(i,r,d,0,p)}}function vu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const v of g[p])vu(v,t,o,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),v={};for(const h of g)v[h]=p[h];for(const[h,E]of Object.entries(v)){const x=[];for(const S of o.slice(a))S==="*"?x.push(h):x.push(S);c(p,x,E)}for(const h of g)delete p[h]}}else{const p=i;d in p&&vu(p[d],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function OE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],YE(p)),t}function FE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],JE(p)),t}function YE(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>XE(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function JE(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>KE(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function XE(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],eT(o)),t}function KE(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],tT(o)),t}function QE(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function ZE(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function $E(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],jE(p)),t}function jE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Kh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],WE(p)),t}function WE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function eT(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function tT(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rm||(rm={}));var um;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(um||(um={}));var cm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(cm||(cm={}));var On;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(On||(On={}));var dm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dm||(dm={}));var fm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(fm||(fm={}));var pm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pm||(pm={}));var mm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mm||(mm={}));var hm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(hm||(hm={}));var gm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(gm||(gm={}));var ym;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ym||(ym={}));var vm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(vm||(vm={}));var Em;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Em||(Em={}));var Tm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Sm||(Sm={}));var xm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(xm||(xm={}));var _m;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(_m||(_m={}));var Am;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Am||(Am={}));var Cm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Cm||(Cm={}));var Nm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Nm||(Nm={}));var bm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bm||(bm={}));var Da;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Da||(Da={}));var Rm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Rm||(Rm={}));var Mm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Mm||(Mm={}));var Im;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Im||(Im={}));var Eu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Eu||(Eu={}));var Dm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Dm||(Dm={}));var wm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(wm||(wm={}));var Um;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Um||(Um={}));var km;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(km||(km={}));var Lm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Lm||(Lm={}));var Gm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Gm||(Gm={}));var Hm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Hm||(Hm={}));var Vm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vm||(Vm={}));var Pm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pm||(Pm={}));var qm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qm||(qm={}));var zm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zm||(zm={}));var Bm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Bm||(Bm={}));var Om;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Om||(Om={}));var Fm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Fm||(Fm={}));var Ym;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Ym||(Ym={}));var Jm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jm||(Jm={}));var Xm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Xm||(Xm={}));var Km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Km||(Km={}));var Qm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Qm||(Qm={}));var Zm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zm||(Zm={}));var $m;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})($m||($m={}));var jm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(jm||(jm={}));var Wm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Wm||(Wm={}));var eh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(th||(th={}));var nh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(nh||(nh={}));var ih;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ih||(ih={}));var oh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(oh||(oh={}));var lh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lh||(lh={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class Tu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class el{get text(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",E=!1;const x=[];for(const S of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[A,R]of Object.entries(S))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(R!==null||R!==void 0)&&x.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;E=!0,h+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),E?h:void 0}get data(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const E=[];for(const x of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[S,A]of Object.entries(x))S!=="inlineData"&&(A!==null||A!==void 0)&&E.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return E.length>0&&console.warn(`there are non-data parts ${E} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(E=>E.functionCall).map(E=>E.functionCall).filter(E=>E!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,d,p,g,v,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const E=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((E==null?void 0:E.length)!==0)return(h=E==null?void 0:E[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,d,p,g,v,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const E=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((E==null?void 0:E.length)!==0)return(h=E==null?void 0:E[0])===null||h===void 0?void 0:h.output}}class ah{}class sh{}class nT{}class iT{}class oT{}class lT{}class rh{}class uh{}class ch{}class aT{}class wa{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new wa;let r;const d=t;return o?r=FE(d):r=OE(d),Object.assign(a,r),a}}class dh{}class fh{}class ph{}class mh{}class sT{}class rT{}class uT{}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Hu,d=$E(t);return Object.assign(a,d),a}}class cT{}class dT{}class fT{}class hh{}class pT{get text(){var t,o,a;let r="",d=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,a;let r="";const d=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class mT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Vu,d=Kh(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Qh(i,t){const o=xe(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Zh(i){return Array.isArray(i)?i.map(t=>Ua(t)):[Ua(i)]}function Ua(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $h(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jh(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Wh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>gh(t)):[gh(i)]}function Su(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function yh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function vh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return Su(i)?i:{role:"user",parts:Wh(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=lt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(yh(i)||vh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],o=[],a=Su(i[0]);for(const r of i){const d=Su(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(yh(r)||vh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Wh(o)}),t}function hT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(On).includes(o[0].toUpperCase())?o[0].toUpperCase():On.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(On).includes(a.toUpperCase())?a.toUpperCase():On.TYPE_UNSPECIFIED})}}function Wi(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&hT(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(On).includes(g.toUpperCase())?g.toUpperCase():On.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=Wi(g);else if(a.includes(p)){const v=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}v.push(Wi(h))}t[p]=v}else if(r.includes(p)){const v={};for(const[h,E]of Object.entries(g))v[h]=Wi(E);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function qu(i){return Wi(i)}function zu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Bu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function to(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wi(t.response));return i}function no(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function gT(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return gT(i,t,"cachedContents")}function eg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Fn(i){return Gu(i)}function yT(i){return i!=null&&typeof i=="object"&&"name"in i}function vT(i){return i!=null&&typeof i=="object"&&"video"in i}function ET(i){return i!=null&&typeof i=="object"&&"uri"in i}function tg(i){var t;let o;if(yT(i)&&(o=i.name),!(ET(i)&&(o=i.uri,o===void 0))&&!(vT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ng(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function ig(i){for(const t of["models","tunedModels","publisherModels"])if(TT(i,t))return i[t];return[]}function TT(i,t){return i!==null&&typeof i=="object"&&t in i}function ST(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function xT(i,t={}){const o=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=ST(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function og(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function _T(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function lg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function io(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ag(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>oS(p))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function CT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function NT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ma(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],ag(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&c(t,["model"],v);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],AT(lg(h))),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],ag(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(t,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const E=u(i,["model"]);E!=null&&c(t,["model"],E);const x=u(i,["inputConfig"]);x!=null&&c(t,["src"],bT(x));const S=u(i,["outputConfig"]);S!=null&&c(t,["dest"],CT(lg(S)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function bT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function RT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>iS(i,p))),c(o,["requests","requests"],d)}return o}function MT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function IT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function wT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function UT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],kT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const E=u(i,["safetyRatings"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>A)),c(t,["safetyRatings"],S)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function kT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function sg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>dS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function LT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function GT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],NT(_T(r))),o}function Eh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],RT(i,og(i,r)));const d=u(t,["config"]);return d!=null&&LT(d,o),o}function HT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],xe(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],MT(og(i,r)));const d=u(t,["config"]);return d!=null&&GT(d,o),o}function VT(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function PT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],JT(i,r));const d=u(t,["config"]);return d!=null&&VT(d,o),o}function qT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function zT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function BT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function OT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function FT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let d=Pu(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],YT(r,o)),zE(o,{"requests[].*":"requests[].request.*"})),o}function YT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function JT(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],FT(i,r)),o}function XT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function KT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function QT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ZT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],sg(lt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const R=u(t,["frequencyPenalty"]);R!=null&&c(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(Ve=>fS(Ve))),c(o,["safetySettings"],Ee)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let Ee=no(J);Array.isArray(Ee)&&(Ee=Ee.map(Ve=>mS(to(Ve)))),c(o,["tools"],Ee)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],pS(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],yn(i,$));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],zu(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const Ae=u(t,["imageConfig"]);Ae!=null&&c(a,["imageConfig"],nS(Ae));const ke=u(t,["enableEnhancedCivicAnswers"]);return ke!=null&&c(a,["enableEnhancedCivicAnswers"],ke),a}function $T(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>UT(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function jT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function WT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],io(i,a)),o}function eS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function tS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function nS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function iS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(v=>sg(v))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],ZT(i,p,u(o,["request"],{}))),o}function oS(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],$T(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function lS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function aS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function sS(i){const t={},o=u(i,["config"]);return o!=null&&lS(o,t),t}function rS(i){const t={},o=u(i,["config"]);return o!=null&&aS(o,t),t}function uS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ma(p))),c(t,["batchJobs"],d)}return t}function cS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>xu(p))),c(t,["batchJobs"],d)}return t}function dS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],XT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],KT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],IT(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function fS(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function pS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],QT(a)),t}function mS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],eS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],tS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(t,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class di{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Eh(this.apiClient,t),a=o._url,r=K("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,v=g.requests,h=[];for(const E of v){const x=Object.assign({},E);if(x.systemInstruction){const S=x.systemInstruction;delete x.systemInstruction;const A=x.request;A.systemInstruction=S,x.request=A}h.push(x)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=HT(this.apiClient,t);return g=K("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>xu(E))}else{const h=Eh(this.apiClient,t);return g=K("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>Ma(E))}}async createEmbeddingsInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(this.apiClient,t);return d=K("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>Ma(v))}}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=WT(this.apiClient,t);return g=K("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>xu(E))}else{const h=jT(this.apiClient,t);return g=K("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>Ma(E))}}async cancel(t){var o,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const v=wT(this.apiClient,t);p=K("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const v=DT(this.apiClient,t);p=K("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=rS(t);return g=K("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=cS(E),S=new hh;return Object.assign(S,x),S})}else{const h=sS(t);return g=K("batches",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=uS(E),S=new hh;return Object.assign(S,x),S})}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=zT(this.apiClient,t);return g=K("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>OT(E))}else{const h=qT(this.apiClient,t);return g=K("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>BT(E))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Th(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>PS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=Vt(p);Array.isArray(E)&&(E=E.map(x=>Th(x))),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Th(lt(g)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>zS(x))),c(t,["tools"],E)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],qS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function vS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Vt(p);Array.isArray(x)&&(x=x.map(S=>S)),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(S=>BS(S))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const E=u(i,["kmsKeyName"]);return t!==void 0&&E!=null&&c(t,["encryption_spec","kmsKeyName"],E),o}function ES(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Qh(i,a));const r=u(t,["config"]);return r!=null&&yS(r,o),o}function TS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Qh(i,a));const r=u(t,["config"]);return r!=null&&vS(r,o),o}function SS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function xS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function _S(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function AS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function CS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function NS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function RS(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function MS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function IS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function DS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function wS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function US(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function kS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function LS(i){const t={},o=u(i,["config"]);return o!=null&&US(o,t),t}function GS(i){const t={},o=u(i,["config"]);return o!=null&&kS(o,t),t}function HS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function VS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function PS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],CS(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],NS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],gS(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function qS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],bS(a)),t}function zS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],DS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],wS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(t,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function BS(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>RS(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function OS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function FS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function YS(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&OS(r,o),o}function JS(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&FS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=TS(this.apiClient,t);return g=K("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=ES(this.apiClient,t);return g=K("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=IS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=MS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=AS(E),S=new ph;return Object.assign(S,x),S})}else{const h=SS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=_S(E),S=new ph;return Object.assign(S,x),S})}}async update(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=JS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=YS(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=GS(t);return g=K("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=VS(E),S=new mh;return Object.assign(S,x),S})}else{const h=LS(t);return g=K("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=HS(E),S=new mh;return Object.assign(S,x),S})}}}function ka(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Sh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(i){return this instanceof oe?(this.v=i,this):new oe(i)}function Ot(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(R){return Promise.resolve(R).then(A,x)}}function g(A,R){a[A]&&(r[A]=function(L){return new Promise(function(U,z){d.push([A,L,U,z])>1||v(A,L)})},R&&(r[A]=R(r[A])))}function v(A,R){try{h(a[A](R))}catch(L){S(d[0][3],L)}}function h(A){A.value instanceof oe?Promise.resolve(A.value.v).then(E,x):S(d[0][2],A)}function E(A){v("next",A)}function x(A){v("throw",A)}function S(A,R){A(R),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Sh=="function"?Sh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(p){return new Promise(function(g,v){p=i[d](p),r(g,v,p.done,p.value)})}}function r(d,p,g,v){Promise.resolve(v).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:rg(o)}function rg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function QS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function xh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),d&&!rg(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class ZS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new $S(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class $S{constructor(t,o,a,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),QS(d)}async sendMessage(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const v=await r,h=(p=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,E=v.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];E!=null&&(S=(g=E.slice(x))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?xh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ot(this,arguments,function*(){var r,d,p,g,v,h;const E=[];try{for(var x=!0,S=Ft(t),A;A=yield oe(S.next()),r=A.done,!r;x=!0){g=A.value,x=!1;const R=g;if(KS(R)){const L=(h=(v=R.candidates)===null||v===void 0?void 0:v[0])===null||h===void 0?void 0:h.content;L!==void 0&&E.push(L)}yield yield oe(R)}}catch(R){d={error:R}}finally{try{!x&&!r&&(p=S.return)&&(yield oe(p.call(S)))}finally{if(d)throw d.error}}this.recordHistory(o,E)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...xh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ha extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ha.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jS(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function WS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ex(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],tg(o)),t}function tx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function nx(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],tg(o)),t}function ix(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function ox(i){const t={},o=u(i,["config"]);return o!=null&&ix(o,t),t}function lx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ax extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ox(t);return d=K("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>{const h=lx(v),E=new cT;return Object.assign(E,h),E})}}async createInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jS(t);return d=K("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=WS(v),E=new dT;return Object.assign(E,h),E})}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nx(t);return d=K("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ex(t);return d=K("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>{const h=tx(v),E=new fT;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function sx(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>_x(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function rx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ux(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cx(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function dx(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const E=u(i,["mediaResolution"]);E!=null&&c(t,["mediaResolution"],E);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const R=u(i,["responseModalities"]);R!=null&&c(t,["responseModalities"],R);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const F=u(i,["speechConfig"]);F!=null&&c(t,["speechConfig"],F);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function fx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function px(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function mx(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&c(t,["setup","systemInstruction"],sx(lt(R)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let $=no(L);Array.isArray($)&&($=$.map(Y=>Cx(to(Y)))),c(t,["setup","tools"],$)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],Ax(U));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function hx(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],dx(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&c(t,["setup","systemInstruction"],lt(R));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let Y=no(L);Array.isArray(Y)&&(Y=Y.map(ce=>Nx(to(ce)))),c(t,["setup","tools"],Y)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const W=u(i,["proactivity"]);t!==void 0&&W!=null&&c(t,["setup","proactivity"],W);const $=u(i,["explicitVadSignal"]);return t!==void 0&&$!=null&&c(t,["setup","explicitVadSignal"],$),o}function gx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],xe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],mx(r,o)),o}function yx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],xe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],hx(r,o)),o}function vx(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function Ex(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function Tx(i){const t={},o=u(i,["media"]);if(o!=null){let h=Zh(o);Array.isArray(h)&&(h=h.map(E=>Ia(E))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ia(jh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Ia($h(d)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function Sx(i){const t={},o=u(i,["media"]);if(o!=null){let h=Zh(o);Array.isArray(h)&&(h=h.map(E=>E)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],jh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],$h(d));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function xx(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],bx(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&c(t,["sessionResumptionUpdate"],v);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(t,["voiceActivityDetectionSignal"],h);const E=u(i,["voiceActivity"]);return E!=null&&c(t,["voiceActivity"],Rx(E)),t}function _x(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],rx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],ux(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],Ia(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Ax(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Cx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],fx(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],px(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(t,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Nx(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>cx(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function bx(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(R=>R)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(R=>R)),c(t,["cacheTokensDetails"],A)}const E=u(i,["candidatesTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(R=>R)),c(t,["responseTokensDetails"],A)}const x=u(i,["toolUsePromptTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(R=>R)),c(t,["toolUsePromptTokensDetails"],A)}const S=u(i,["trafficType"]);return S!=null&&c(t,["trafficType"],S),t}function Rx(i){const t={},o=u(i,["type"]);return o!=null&&c(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ix(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],Dx(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const E=u(i,["safetyRatings"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>A)),c(t,["safetyRatings"],S)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function Dx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function wx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let d=Vt(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function Ux(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function kx(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],Lx(a)),t}function Lx(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Va(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>F_(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Gx(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function Hx(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Vx(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>fg(g))),c(t,["tools"],p)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],M_(d)),o}function Px(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&Hx(d),o}function qx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&Vx(d,o),o}function zx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function Bx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function Ox(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],xe(i,a)),o}function Fx(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],xe(i,a)),o}function Yx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Jx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Xx(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&c(t,["parameters","outputOptions","mimeType"],R);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(i,["editMode"]);t!==void 0&&F!=null&&c(t,["parameters","editMode"],F);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function Kx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>Z_(v))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&Xx(p,o),o}function Qx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function Zx(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function $x(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function jx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let g=Pu(i,r);Array.isArray(g)&&(g=g.map(v=>v)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&Zx(d,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],xe(i,p)),o}function Wx(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Pu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&$x(d,o),o}function e_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function t_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>kx(p))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function n_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function i_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function o_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function l_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function a_(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function s_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Va(lt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const R=u(t,["frequencyPenalty"]);R!=null&&c(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(Ve=>$_(Ve))),c(o,["safetySettings"],Ee)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let Ee=no(J);Array.isArray(Ee)&&(Ee=Ee.map(Ve=>oA(to(Ve)))),c(o,["tools"],Ee)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],iA(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],yn(i,$));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],zu(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const Ae=u(t,["imageConfig"]);Ae!=null&&c(a,["imageConfig"],k_(Ae));const ke=u(t,["enableEnhancedCivicAnswers"]);return ke!=null&&c(a,["enableEnhancedCivicAnswers"],ke),a}function r_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lt(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const R=u(t,["frequencyPenalty"]);R!=null&&c(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const F=u(t,["responseJsonSchema"]);F!=null&&c(a,["responseJsonSchema"],F);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const J=u(t,["modelSelectionConfig"]);J!=null&&c(a,["modelConfig"],J);const W=u(t,["safetySettings"]);if(o!==void 0&&W!=null){let G=W;Array.isArray(G)&&(G=G.map(H=>H)),c(o,["safetySettings"],G)}const $=u(t,["tools"]);if(o!==void 0&&$!=null){let G=no($);Array.isArray(G)&&(G=G.map(H=>fg(to(H)))),c(o,["tools"],G)}const Y=u(t,["toolConfig"]);o!==void 0&&Y!=null&&c(o,["toolConfig"],Y);const ce=u(t,["labels"]);o!==void 0&&ce!=null&&c(o,["labels"],ce);const j=u(t,["cachedContent"]);o!==void 0&&j!=null&&c(o,["cachedContent"],yn(i,j));const ue=u(t,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const Ae=u(t,["mediaResolution"]);Ae!=null&&c(a,["mediaResolution"],Ae);const ke=u(t,["speechConfig"]);ke!=null&&c(a,["speechConfig"],zu(ke));const Ee=u(t,["audioTimestamp"]);Ee!=null&&c(a,["audioTimestamp"],Ee);const Ve=u(t,["thinkingConfig"]);Ve!=null&&c(a,["thinkingConfig"],Ve);const it=u(t,["imageConfig"]);if(it!=null&&c(a,["imageConfig"],L_(it)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function _h(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],s_(i,d,o)),o}function Ah(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],r_(i,d,o)),o}function Ch(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>Ix(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Nh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(E=>E)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function u_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const v=u(i,["includeSafetyAttributes"]);t!==void 0&&v!=null&&c(t,["parameters","includeSafetyAttributes"],v);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const E=u(i,["language"]);t!==void 0&&E!=null&&c(t,["parameters","language"],E);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function c_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&c(t,["parameters","outputOptions","mimeType"],R);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(i,["imageSize"]);t!==void 0&&F!=null&&c(t,["parameters","sampleImageSize"],F);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function d_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&u_(d,o),o}function f_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&c_(d,o),o}function p_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>C_(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],cg(r)),t}function m_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Pa(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],dg(r)),t}function h_(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(i,["negativePrompt"]);t!==void 0&&v!=null&&c(t,["parameters","negativePrompt"],v);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=u(i,["lastFrame"]);t!==void 0&&E!=null&&c(t,["instances[0]","lastFrame"],qa(E));const x=u(i,["referenceImages"]);if(t!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(A=>yA(A))),c(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function g_(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(i,["aspectRatio"]);t!==void 0&&v!=null&&c(t,["parameters","aspectRatio"],v);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","negativePrompt"],S);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const R=u(i,["generateAudio"]);t!==void 0&&R!=null&&c(t,["parameters","generateAudio"],R);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],Yt(L));const U=u(i,["referenceImages"]);if(t!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map(J=>vA(J))),c(t,["instances[0]","referenceImages"],O)}const z=u(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],gA(z));const F=u(i,["compressionQuality"]);return t!==void 0&&F!=null&&c(t,["parameters","compressionQuality"],F),o}function y_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],S_(p)),t}function v_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],x_(p)),t}function E_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],qa(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],pg(p));const g=u(t,["source"]);g!=null&&__(g,o);const v=u(t,["config"]);return v!=null&&h_(v,o),o}function T_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Yt(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],mg(p));const g=u(t,["source"]);g!=null&&A_(g,o);const v=u(t,["config"]);return v!=null&&g_(v,o),o}function S_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>b_(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function x_(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>R_(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function __(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],qa(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],pg(d)),o}function A_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yt(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],mg(d)),o}function C_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],G_(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],cg(r)),t}function Pa(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],ug(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],dg(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function N_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],ug(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function b_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],mA(o)),t}function R_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],hA(o)),t}function M_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const E=u(i,["mediaResolution"]);E!=null&&c(t,["mediaResolution"],E);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const R=u(i,["responseModalities"]);R!=null&&c(t,["responseModalities"],R);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const F=u(i,["speechConfig"]);F!=null&&c(t,["speechConfig"],F);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function I_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],xe(i,a)),o}function D_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],xe(i,a)),o}function w_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function U_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function k_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function L_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&c(t,["imageOutputOptions","mimeType"],d);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function G_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Fn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ug(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function qa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Fn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Yt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function H_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],ng(i,g)),a}function V_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],ng(i,g)),a}function P_(i,t){const o={},a=u(t,["config"]);return a!=null&&H_(i,a,o),o}function q_(i,t){const o={},a=u(t,["config"]);return a!=null&&V_(i,a,o),o}function z_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=ig(r);Array.isArray(d)&&(d=d.map(p=>_u(p))),c(t,["models"],d)}return t}function B_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=ig(r);Array.isArray(d)&&(d=d.map(p=>Au(p))),c(t,["models"],d)}return t}function O_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function _u(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],lA(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const v=u(i,["outputTokenLimit"]);v!=null&&c(t,["outputTokenLimit"],v);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const E=u(i,["temperature"]);E!=null&&c(t,["temperature"],E);const x=u(i,["maxTemperature"]);x!=null&&c(t,["maxTemperature"],x);const S=u(i,["topP"]);S!=null&&c(t,["topP"],S);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const R=u(i,["thinking"]);return R!=null&&c(t,["thinking"],R),t}function Au(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const p=u(i,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>n_(S))),c(t,["endpoints"],x)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const v=u(i,["_self"]);v!=null&&c(t,["tunedModelInfo"],aA(v));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const E=u(i,["checkpoints"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["checkpoints"],x)}return t}function F_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],i_(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],o_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],Mx(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Y_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Yt(o)),t}function J_(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),o}function X_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["source"]);r!=null&&Q_(r,o);const d=u(t,["config"]);return d!=null&&J_(d,o),o}function K_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Pa(r))),c(t,["generatedImages"],a)}return t}function Q_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Yt(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Y_(g))),c(t,["instances[0]","productImages"],p)}return o}function Z_(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Yt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],O_(d));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],Gx(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const v=u(i,["subjectImageConfig"]);return v!=null&&c(t,["subjectImageConfig"],v),t}function cg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function dg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function $_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function j_(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Yt(o)),t}function W_(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const v=u(i,["labels"]);return t!==void 0&&v!=null&&c(t,["labels"],v),o}function eA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["source"]);r!=null&&nA(r,o);const d=u(t,["config"]);return d!=null&&W_(d,o),o}function tA(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>N_(r))),c(t,["generatedMasks"],a)}return t}function nA(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yt(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],j_(d)),o}function iA(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],l_(a)),t}function oA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],w_(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],U_(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(t,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function fg(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>a_(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function lA(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function aA(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function sA(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function rA(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function uA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],xe(i,a));const r=u(t,["config"]);return r!=null&&sA(r,o),o}function cA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["config"]);return r!=null&&rA(r,o),o}function dA(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const v=u(i,["outputCompressionQuality"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","compressionQuality"],v);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const E=u(i,["imagePreservationFactor"]);t!==void 0&&E!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],E);const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&c(t,["parameters","sampleCount"],S);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),o}function fA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],xe(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Yt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&dA(p,o),o}function pA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function mA(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Fn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function hA(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function gA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Yt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function yA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],qa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function vA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Yt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function pg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function mg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function TA(i){const t={},o=u(i,["config"]);return o!=null&&EA(o,t),t}function SA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function xA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&SA(a,t),t}function _A(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function AA(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function CA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],bA(p)),t}function NA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&AA(r,t),t}function bA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function RA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function MA(i){const t={},o=u(i,["config"]);return o!=null&&RA(o,t),t}function IA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function hg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function DA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&hg(a,t),t}function wA(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA="Content-Type",kA="X-Server-Timeout",LA="User-Agent",Cu="x-goog-api-client",GA="1.37.0",HA=`google-genai-sdk/${GA}`,VA="v1beta1",PA="v1beta";class qA{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:VA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:PA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&zA(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),new Tu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ot(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:E}=yield oe(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=d.decode(E,{stream:!0});try{const R=JSON.parse(x);if("error"in R){const L=JSON.parse(JSON.stringify(R.error)),U=L.status,z=L.code,F=`got status: ${U}. ${JSON.stringify(R)}`;if(z>=400&&z<600)throw new Ha({message:F,status:z})}}catch(R){if(R.name==="ApiError")throw R}p+=x;let S=-1,A=0;for(;;){S=-1,A=0;for(const U of v){const z=p.indexOf(U);z!==-1&&(S===-1||z<S)&&(S=z,A=U.length)}if(S===-1)break;const R=p.substring(0,S);p=p.substring(S+A);const L=R.trim();if(L.startsWith(g)){const U=L.substring(g.length).trim();try{const z=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield oe(new Tu(z))}catch(z){throw new Error(`exception parsing stream chunk ${U}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=HA+" "+this.clientOptions.userAgentExtra;return t[LA]=o,t[Cu]=o,t[UA]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(kA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},h=this.getFileName(t),E=K("upload/v1beta/files",v._url),x=await this.fetchUploadUrl(E,r.sizeBytes,r.mimeType,h,v,o==null?void 0:o.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,o,a){var r;const d=this.clientOptions.uploader,p=await d.stat(o),g=String(p.size),v=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,E=this.getFileName(o),x={};a!=null&&hg(a,x);const S=await this.fetchUploadUrl(h,g,v,E,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,d,p){var g;let v={};p?v=p:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const E=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(E===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return E}}async function bh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Ha({message:r,status:o}):new Error(r)}}function zA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const h=p[v],E=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&E&&typeof E=="object"&&!Array.isArray(E)?g[v]=a(E,h):(E&&h&&typeof E!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof E}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA="mcp_used/unknown";let OA=!1;function gg(i){for(const t of i)if(FA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return OA}function yg(i){var t;const o=(t=i[Cu])!==null&&t!==void 0?t:"";i[Cu]=(o+` ${BA}`).trimStart()}function FA(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function YA(i){return Ot(this,arguments,function*(o,a=100){let r,d=0;for(;d<a;){const p=yield oe(o.listTools({cursor:r}));for(const g of p.tools)yield yield oe(g),d++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ou{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ou(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const E of this.mcpClients)try{for(var g=!0,v=(o=void 0,Ft(YA(E))),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;p.push(x);const S=x.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=E}}catch(x){o={error:x}}finally{try{!g&&!t&&(a=v.return)&&await a.call(v)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),xT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JA(i,t,o){const a=new mT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class XA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=ZA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const E=new Promise(O=>{h=O}),x=t.callbacks,S=function(){h({})},A=this.apiClient,R={onopen:S,onmessage:O=>{JA(A,x.onmessage,O)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(O){}},L=this.webSocketFactory.create(v,QA(p),R);L.connect(),await E;const F={setup:{model:xe(this.apiClient,t.model)}};return L.send(JSON.stringify(F)),new KA(L,this.apiClient)}}class KA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Ex(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=vx(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function QA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function ZA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jA(i,t,o){const a=new pT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const p=xx(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class WA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new XA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let E;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&gg(t.config.tools)&&yg(x);const S=iC(x);if(this.apiClient.isVertexAI())E=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,E);else{const j=this.apiClient.getApiKey();let ue="BidiGenerateContent",Ae="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",Ae="access_token"),E=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${Ae}=${j}`}let A=()=>{};const R=new Promise(j=>{A=j}),L=t.callbacks,U=function(){var j;(j=L==null?void 0:L.onopen)===null||j===void 0||j.call(L),A({})},z=this.apiClient,F={onopen:U,onmessage:j=>{jA(z,L.onmessage,j)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(j){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(j){}},O=this.webSocketFactory.create(E,nC(S),F);O.connect(),await R;let J=xe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const j=this.apiClient.getProject(),ue=this.apiClient.getLocation();J=`projects/${j}/locations/${ue}/`+J}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Da.AUDIO]}:t.config.responseModalities=[Da.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const j of $)if(this.isCallableTool(j)){const ue=j;Y.push(await ue.tool())}else Y.push(j);Y.length>0&&(t.config.tools=Y);const ce={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=yx(this.apiClient,ce):W=gx(this.apiClient,ce),delete W.config,O.send(JSON.stringify(W)),new tC(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const eC={turnComplete:!0};class tC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>Va(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error($A)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},eC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Sx(t)}:o={realtimeInput:Tx(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function nC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function iC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rh=10;function Mh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(eo(p)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function eo(i){return"callTool"in i&&typeof i.callTool=="function"}function oC(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>eo(r)))!==null&&a!==void 0?a:!1}function Ih(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(eo(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function Dh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC extends gn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,d,p,g;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!oC(o)||Mh(o.config))return await this.generateContentInternal(v);const h=Ih(o);if(h.length>0){const L=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let E,x;const S=Vt(v.contents),A=(d=(r=(a=v.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Rh;let R=0;for(;R<A&&(E=await this.generateContentInternal(v),!(!E.functionCalls||E.functionCalls.length===0));){const L=E.candidates[0].content,U=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(eo(z)){const O=await z.callTool(E.functionCalls);U.push(...O)}R++,x={role:"user",parts:U},v.contents=Vt(v.contents),v.contents.push(L),v.contents.push(x),Dh(v.config)&&(S.push(L),S.push(x))}return Dh(v.config)&&(E.automaticFunctionCallingHistory=S),E},this.generateContentStream=async o=>{var a,r,d,p,g;if(this.maybeMoveToResponseJsonSchem(o),Mh(o.config)){const x=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(x)}const v=Ih(o);if(v.length>0){const x=v.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,E=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!E)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let d;const p=[];if(a!=null&&a.generatedImages)for(const v of a.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:p.push(v);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new di(hn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,d,p,g,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((v=(g=o.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async v=>eo(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&gg(t.config.tools)){const v=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),yg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const d=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(eo(p)){const g=p,v=await g.tool();for(const h of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var o,a,r;const d=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Rh;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(h,E,x){return Ot(this,arguments,function*(){for(var S,A,R,L,U,z;g<d;){p&&(g++,p=!1);const W=yield oe(h.processParamsMaybeAddMcpUsage(x)),$=yield oe(h.generateContentStreamInternal(W)),Y=[],ce=[];try{for(var F=!0,O=(A=void 0,Ft($)),J;J=yield oe(O.next()),S=J.done,!S;F=!0){L=J.value,F=!1;const j=L;if(yield yield oe(j),j.candidates&&(!((U=j.candidates[0])===null||U===void 0)&&U.content)){ce.push(j.candidates[0].content);for(const ue of(z=j.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<d&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(E.has(ue.functionCall.name)){const Ae=yield oe(E.get(ue.functionCall.name).callTool([ue.functionCall]));Y.push(...Ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${E.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(j){A={error:j}}finally{try{!F&&!S&&(R=O.return)&&(yield oe(R.call(O)))}finally{if(A)throw A.error}}if(Y.length>0){p=!0;const j=new el;j.candidates=[{content:{role:"user",parts:Y}}],yield yield oe(j);const ue=[];ue.push(...ce),ue.push({role:"user",parts:Y});const Ae=Vt(x.contents).concat(ue);x.contents=Ae}else break}})})(this,v,t)}async generateContentInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=K("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Nh(E),S=new el;return Object.assign(S,x),S})}else{const h=_h(this.apiClient,t);return g=K("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Ch(E),S=new el;return Object.assign(S,x),S})}}async generateContentStreamInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=K("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return Ot(this,arguments,function*(){var S,A,R,L;try{for(var U=!0,z=Ft(x),F;F=yield oe(z.next()),S=F.done,!S;U=!0){L=F.value,U=!1;const O=L,J=Nh(yield oe(O.json()));J.sdkHttpResponse={headers:O.headers};const W=new el;Object.assign(W,J),yield yield oe(W)}}catch(O){A={error:O}}finally{try{!U&&!S&&(R=z.return)&&(yield oe(R.call(z)))}finally{if(A)throw A.error}}})})}else{const h=_h(this.apiClient,t);return g=K("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return Ot(this,arguments,function*(){var S,A,R,L;try{for(var U=!0,z=Ft(x),F;F=yield oe(z.next()),S=F.done,!S;U=!0){L=F.value,U=!1;const O=L,J=Ch(yield oe(O.json()));J.sdkHttpResponse={headers:O.headers};const W=new el;Object.assign(W,J),yield yield oe(W)}}catch(O){A={error:O}}finally{try{!U&&!S&&(R=z.return)&&(yield oe(R.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Wx(this.apiClient,t);return g=K("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=t_(E),S=new ah;return Object.assign(S,x),S})}else{const h=jx(this.apiClient,t);return g=K("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=e_(E),S=new ah;return Object.assign(S,x),S})}}async generateImagesInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=f_(this.apiClient,t);return g=K("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=m_(E),S=new sh;return Object.assign(S,x),S})}else{const h=d_(this.apiClient,t);return g=K("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=p_(E),S=new sh;return Object.assign(S,x),S})}}async editImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Kx(this.apiClient,t);return d=K("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>{const h=Qx(v),E=new nT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=fA(this.apiClient,t);return d=K("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>{const h=pA(v),E=new iT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=X_(this.apiClient,t);return d=K("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=K_(v),E=new oT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=eA(this.apiClient,t);return d=K("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=tA(v),E=new lT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=D_(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>Au(E))}else{const h=I_(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>_u(E))}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=q_(this.apiClient,t);return g=K("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=B_(E),S=new rh;return Object.assign(S,x),S})}else{const h=P_(this.apiClient,t);return g=K("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=z_(E),S=new rh;return Object.assign(S,x),S})}}async update(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=cA(this.apiClient,t);return g=K("{model}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>Au(E))}else{const h=uA(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>_u(E))}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Fx(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Jx(E),S=new uh;return Object.assign(S,x),S})}else{const h=Ox(this.apiClient,t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Yx(E),S=new uh;return Object.assign(S,x),S})}}async countTokens(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=qx(this.apiClient,t);return g=K("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Bx(E),S=new ch;return Object.assign(S,x),S})}else{const h=Px(this.apiClient,t);return g=K("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=zx(E),S=new ch;return Object.assign(S,x),S})}}async computeTokens(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=wx(this.apiClient,t);return d=K("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>{const h=Ux(v),E=new aT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=T_(this.apiClient,t);return g=K("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>{const x=v_(E),S=new wa;return Object.assign(S,x),S})}else{const h=E_(this.apiClient,t);return g=K("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>{const x=y_(E),S=new wa;return Object.assign(S,x),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aC extends gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=ZE(t);return g=K("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p}else{const h=QE(t);return g=K("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=BE(t);return d=K("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>yC(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function uC(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],gC(i,g));const v=u(t,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),a}function cC(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],uC(i,a,o)),o}function dC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fC(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function mC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function hC(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&c(t,["setup","systemInstruction"],rC(lt(R)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let $=no(L);Array.isArray($)&&($=$.map(Y=>EC(to(Y)))),c(t,["setup","tools"],$)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],vC(U));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function gC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],xe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],hC(r,o)),o}function yC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],dC(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],fC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],sC(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function vC(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function EC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],pC(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],mC(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(t,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function SC(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=TC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class xC extends gn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=cC(this.apiClient,t);d=K("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=SC(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function AC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&_C(a,t),t}function CC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function NC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function bC(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&NC(a,t),t}function RC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MC extends gn{constructor(t){super(),this.apiClient=t,this.list=async o=>new di(hn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CC(t);return d=K("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AC(t);r=K("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bC(t);return d=K("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=RC(v),E=new sT;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends gn{constructor(t,o=new MC(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new di(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TA(t);return d=K("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_A(t);return d=K("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xA(t);r=K("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MA(t);return d=K("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=IA(v),E=new rT;return Object.assign(E,h),E})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DA(t);return d=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=wA(v),E=new uT;return Object.assign(E,h),E})}}async importFile(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NA(t);return d=K("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=CA(v),E=new Hu;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return vg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const DC=()=>vg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const bu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ut extends Pt{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new za({message:a,cause:bu(o)});const d=o;return t===400?new Tg(t,d,a,r):t===401?new Sg(t,d,a,r):t===403?new xg(t,d,a,r):t===404?new _g(t,d,a,r):t===409?new Ag(t,d,a,r):t===422?new Cg(t,d,a,r):t===429?new Ng(t,d,a,r):t>=500?new bg(t,d,a,r):new ut(t,d,a,r)}}class Ru extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class za extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Eg extends za{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Tg extends ut{}class Sg extends ut{}class xg extends ut{}class _g extends ut{}class Ag extends ut{}class Cg extends ut{}class Ng extends ut{}class bg extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wC=/^[a-z][a-z0-9+.-]*:/i,UC=i=>wC.test(i);let Mu=i=>(Mu=Array.isArray,Mu(i));const kC=Mu;let LC=kC;const wh=LC;function GC(i){if(!i)return!0;for(const t in i)return!1;return!0}function HC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const VC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},PC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BC=()=>{var i,t,o,a,r;const d=zC();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":kh(Deno.build.os),"X-Stainless-Arch":Uh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":kh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Uh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=OC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function OC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${d}.${p}`}}}return null}const Uh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",kh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Aa;const FC=()=>Aa??(Aa=BC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Rg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function JC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Rg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Mg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XC(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mu(i,t,o){return Ig(),new File(i,t??"unknown_file",o)}function QC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const ZC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",$C=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Dg(i),jC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function WC(i,t,o){if(Ig(),i=await i,$C(i))return i instanceof File?i:mu([await i.arrayBuffer()],i.name);if(jC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),mu(await Iu(r),t,o)}const a=await Iu(i);if(t||(t=QC(i)),!(o!=null&&o.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return mu(a,t,o)}async function Iu(i){var t,o,a,r,d;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Dg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(ZC(i))try{for(var g=!0,v=Ft(i),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;p.push(...await Iu(E))}}catch(E){o={error:E}}finally{try{!g&&!t&&(a=v.return)&&await a.call(v)}finally{if(o)throw o.error}}else{const E=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${E?`; constructor: ${E}`:""}${eN(i)}`)}return p}function eN(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wg{constructor(t){this._client=t}}wg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ug(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lh=Object.freeze(Object.create(null)),tN=(i=Ug)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const d=[],p=o.reduce((E,x,S)=>{var A,R,L;/[?#]/.test(x)&&(r=!0);const U=a[S];let z=(r?encodeURIComponent:i)(""+U);return S!==a.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((R=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:Lh))!==null&&R!==void 0?R:Lh))===null||L===void 0?void 0:L.toString))&&(z=U+"",d.push({start:E.length+x.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),E+x+(S===a.length?"":z)},""),g=p.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=v.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((E,x)=>E.start-x.start),d.length>0){let E=0;const x=d.reduce((S,A)=>{const R=" ".repeat(A.start-E),L="^".repeat(A.length);return E=A.start+A.length,S+R+L},"");throw new Pt(`Path parameters result in path with invalid segments:
${d.map(S=>S.error).join(`
`)}
${p}
${x}`)}return p}),Ca=tN(Ug);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kg extends wg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,d=ka(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ca`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ca`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ca`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const d=o??{},{api_version:p=this._client.apiVersion}=d,g=ka(d,["api_version"]);return this._client.get(Ca`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}kg._key=Object.freeze(["interactions"]);class Lg extends kg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Na;function Fu(i){let t;return(Na??(t=new globalThis.TextEncoder,Na=t.encode.bind(t)))(i)}let ba;function Gh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fu(t):t;this.buffer=nN([this.buffer,o]);const a=[];let r;for(;(r=iN(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Gh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Gh(this.buffer.subarray(0,d));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ba.NEWLINE_CHARS=new Set([`
`,"\r"]);Ba.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iN(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function oN(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const La={off:0,error:200,warn:300,info:400,debug:500},Hh=(i,t,o)=>{if(i){if(HC(La,i))return i;rt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(La))}`)}};function nl(){}function Ra(i,t,o){return!t||La[i]>La[o]?nl:t[i].bind(t)}const lN={error:nl,warn:nl,info:nl,debug:nl};let Vh=new WeakMap;function rt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return lN;const r=Vh.get(o);if(r&&r[0]===a)return r[1];const d={error:Ra("error",o,a),warn:Ra("warn",o,a),info:Ra("info",o,a),debug:Ra("debug",o,a)};return Vh.set(o,[a,d]),d}const ci=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const d=a?rt(a):console;function p(){return Ot(this,arguments,function*(){var v,h,E,x;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,R=Ft(aN(t,o)),L;L=yield oe(R.next()),v=L.done,!v;A=!0){x=L.value,A=!1;const U=x;if(!S)if(U.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield oe(JSON.parse(U.data))}catch(z){throw d.error("Could not parse message into JSON:",U.data),d.error("From chunk:",U.raw),z}}}catch(U){h={error:U}}finally{try{!A&&!v&&(E=R.return)&&(yield oe(E.call(R)))}finally{if(h)throw h.error}}S=!0}catch(U){if(Nu(U))return yield oe(void 0);throw U}finally{S||o.abort()}})}return new ji(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function d(){return Ot(this,arguments,function*(){var v,h,E,x;const S=new Ba,A=Mg(t);try{for(var R=!0,L=Ft(A),U;U=yield oe(L.next()),v=U.done,!v;R=!0){x=U.value,R=!1;const z=x;for(const F of S.decode(z))yield yield oe(F)}}catch(z){h={error:z}}finally{try{!R&&!v&&(E=L.return)&&(yield oe(E.call(L)))}finally{if(h)throw h.error}}for(const z of S.flush())yield yield oe(z)})}function p(){return Ot(this,arguments,function*(){var v,h,E,x;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,R=Ft(d()),L;L=yield oe(R.next()),v=L.done,!v;A=!0){x=L.value,A=!1;const U=x;S||U&&(yield yield oe(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!A&&!v&&(E=R.return)&&(yield oe(E.call(R)))}finally{if(h)throw h.error}}S=!0}catch(U){if(Nu(U))return yield oe(void 0);throw U}finally{S||o.abort()}})}return new ji(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const p=a.next();t.push(p),o.push(p)}return d.shift()}});return[new ji(()=>r(t),this.controller,this.client),new ji(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Rg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await o.next();if(d)return a.close();const p=Fu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function aN(i,t){return Ot(this,arguments,function*(){var a,r,d,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new rN,v=new Ba,h=Mg(i.body);try{for(var E=!0,x=Ft(sN(h)),S;S=yield oe(x.next()),a=S.done,!a;E=!0){p=S.value,E=!1;const A=p;for(const R of v.decode(A)){const L=g.decode(R);L&&(yield yield oe(L))}}}catch(A){r={error:A}}finally{try{!E&&!a&&(d=x.return)&&(yield oe(d.call(x)))}finally{if(r)throw r.error}}for(const A of v.flush()){const R=g.decode(A);R&&(yield yield oe(R))}})}function sN(i){return Ot(this,arguments,function*(){var o,a,r,d;let p=new Uint8Array;try{for(var g=!0,v=Ft(i),h;h=yield oe(v.next()),o=h.done,!o;g=!0){d=h.value,g=!1;const E=d;if(E==null)continue;const x=E instanceof ArrayBuffer?new Uint8Array(E):typeof E=="string"?Fu(E):E;let S=new Uint8Array(p.length+x.length);S.set(p),S.set(x,p.length),p=S;let A;for(;(A=oN(p))!==-1;)yield yield oe(p.slice(0,A)),p=p.slice(A)}}catch(E){a={error:E}}finally{try{!g&&!o&&(r=v.return)&&(yield oe(r.call(v)))}finally{if(a)throw a.error}}p.length>0&&(yield yield oe(p))})}class rN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=uN(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function uN(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cN(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,p=await(async()=>{var g;if(t.options.stream)return rt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ji.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const v=o.headers.get("content-type"),h=(g=v==null?void 0:v.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return rt(i).debug(`[${a}] response parsed`,ci({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-d})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yu extends Promise{constructor(t,o,a=cN){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Yu(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=Symbol("brand.privateNullableHeaders");function*dN(i){if(!i)return;if(Gg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():wh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=wh(a[1])?a[1]:[a[1]];let p=!1;for(const g of d)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const tl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[d,p]of dN(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),p===null?(t.delete(d),o.add(g)):(t.append(d,p),o.delete(g))}}return{[Gg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hu=i=>{var t,o,a,r,d,p;if(typeof globalThis.process<"u")return(a=(o=(t=GE)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hg;class Oa{constructor(t){var o,a,r,d,p,g,v,{baseURL:h=hu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(o=hu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:x="v1beta"}=t,S=ka(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:E,apiVersion:x},S),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:Oa.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const R="warn";this.logLevel=R,this.logLevel=(p=(d=Hh(A.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Hh(hu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:R,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=A.fetch)!==null&&v!==void 0?v:YC(),this.encoder=KC,this._options=A,this.apiKey=E,this.apiVersion=x,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=tl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return tl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return tl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${DC()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=UC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return GC(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Yu(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,d,p;const g=await t,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=v),await this.prepareOptions(g);const{req:h,url:E,timeout:x}=await this.buildRequest(g,{retryCount:v-o});await this.prepareRequest(h,{url:E,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,R=Date.now();if(rt(this).debug(`[${S}] sending request`,ci({retryOfRequestLogID:a,method:g.method,url:E,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Ru;const L=new AbortController,U=await this.fetchWithTimeout(E,h,x,L).catch(bu),z=Date.now();if(U instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Ru;const J=Nu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return rt(this).info(`[${S}] connection ${J?"timed out":"failed"} - ${O}`),rt(this).debug(`[${S}] connection ${J?"timed out":"failed"} (${O})`,ci({retryOfRequestLogID:a,url:E,durationMs:z-R,message:U.message})),this.retryRequest(g,o,a??S);throw rt(this).info(`[${S}] connection ${J?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${S}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ci({retryOfRequestLogID:a,url:E,durationMs:z-R,message:U.message})),J?new Eg:new za({cause:U})}const F=`[${S}${A}] ${h.method} ${E} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${z-R}ms`;if(!U.ok){const O=await this.shouldRetry(U);if(o&&O){const j=`retrying, ${o} attempts remaining`;return await XC(U.body),rt(this).info(`${F} - ${j}`),rt(this).debug(`[${S}] response error (${j})`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:z-R})),this.retryRequest(g,o,a??S,U.headers)}const J=O?"error; no more retries left":"error; not retryable";rt(this).info(`${F} - ${J}`);const W=await U.text().catch(j=>bu(j).message),$=PC(W),Y=$?void 0:W;throw rt(this).debug(`[${S}] response error (${J})`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:Y,durationMs:Date.now()-R})),this.makeStatusError(U.status,$,Y,U.headers)}return rt(this).info(F),rt(this).debug(`[${S}] response start`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:z-R})),{response:U,options:g,controller:L,requestLogID:S,retryOfRequestLogID:a,startTime:R}}async fetchWithTimeout(t,o,a,r){const d=o||{},{signal:p,method:g}=d,v=ka(d,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),E=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},E?{duplex:"half"}:{}),{method:"GET"}),v);g&&(x.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var d;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const v=r==null?void 0:r.get("retry-after");if(v&&!p){const h=parseFloat(v);Number.isNaN(h)?p=Date.parse(v)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await qC(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,p=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,d;const p=Object.assign({},t),{method:g,path:v,query:h,defaultBaseURL:E}=p,x=this.buildURL(v,h,E);"timeout"in p&&VC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:A}=this.buildBody({options:p}),R=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:R},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=p.fetchOptions)!==null&&d!==void 0?d:{}),url:x,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=tl([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),FC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=tl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:JC(t)}:this.encoder({body:t,headers:a})}}Oa.DEFAULT_TIMEOUT=6e4;class $e extends Oa{constructor(){super(...arguments),this.interactions=new Lg(this)}}Hg=$e;$e.GeminiNextGenAPIClient=Hg;$e.GeminiNextGenAPIClientError=Pt;$e.APIError=ut;$e.APIConnectionError=za;$e.APIConnectionTimeoutError=Eg;$e.APIUserAbortError=Ru;$e.NotFoundError=_g;$e.ConflictError=Ag;$e.RateLimitError=Ng;$e.BadRequestError=Tg;$e.AuthenticationError=Sg;$e.InternalServerError=bg;$e.PermissionDeniedError=xg;$e.UnprocessableEntityError=Cg;$e.toFile=WC;$e.Interactions=Lg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function pN(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function mN(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function hN(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function gN(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function yN(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Ph(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Ph(A))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let E=u(o,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(E==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=u(i,["beta"]);return t!==void 0&&S!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function vN(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&MN(d);const p=u(i,["config"]);return p!=null&&gN(p,o),o}function EN(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&IN(d,o,t);const p=u(i,["config"]);return p!=null&&yN(p,o,t),o}function TN(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function SN(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function xN(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function _N(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function AN(i,t){const o={},a=u(i,["config"]);return a!=null&&xN(a,o),o}function CN(i,t){const o={},a=u(i,["config"]);return a!=null&&_N(a,o),o}function NN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Vg(g))),c(o,["tuningJobs"],p)}return o}function bN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Du(g))),c(o,["tuningJobs"],p)}return o}function RN(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function MN(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function IN(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Vg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],eg(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const E=u(i,["description"]);E!=null&&c(o,["description"],E);const x=u(i,["baseModel"]);x!=null&&c(o,["baseModel"],x);const S=u(i,["_self"]);return S!=null&&c(o,["tunedModel"],RN(S)),o}function Du(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],eg(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const E=u(i,["error"]);E!=null&&c(o,["error"],E);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const A=u(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const R=u(i,["preTunedModel"]);R!=null&&c(o,["preTunedModel"],R);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(o,["supervisedTuningSpec"],L);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const z=u(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const F=u(i,["encryptionSpec"]);F!=null&&c(o,["encryptionSpec"],F);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const J=u(i,["customBaseModel"]);J!=null&&c(o,["customBaseModel"],J);const W=u(i,["experiment"]);W!=null&&c(o,["experiment"],W);const $=u(i,["labels"]);$!=null&&c(o,["labels"],$);const Y=u(i,["outputUri"]);Y!=null&&c(o,["outputUri"],Y);const ce=u(i,["pipelineJob"]);ce!=null&&c(o,["pipelineJob"],ce);const j=u(i,["serviceAccount"]);j!=null&&c(o,["serviceAccount"],j);const ue=u(i,["tunedModelDisplayName"]);ue!=null&&c(o,["tunedModelDisplayName"],ue);const Ae=u(i,["veoTuningSpec"]);return Ae!=null&&c(o,["veoTuningSpec"],Ae),o}function DN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Ph(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:Eu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=SN(t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>Du(E))}else{const h=TN(t);return g=K("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>Vg(E))}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=CN(t);return g=K("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=bN(E),S=new dh;return Object.assign(S,x),S})}else{const h=AN(t);return g=K("tunedModels",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=NN(E),S=new dh;return Object.assign(S,x),S})}}async cancel(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=pN(t);return g=K("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=hN(E),S=new fh;return Object.assign(S,x),S})}else{const h=fN(t);return g=K("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=mN(E),S=new fh;return Object.assign(S,x),S})}}async tuneInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=EN(t,t);return d=K("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>Du(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vN(t);return d=K("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:v.headers},E})),r.then(v=>DN(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UN{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kN=1024*1024*8,LN=3,GN=1e3,HN=2,Ga="x-goog-upload-status";async function VN(i,t,o){var a;const r=await Pg(i,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function PN(i,t,o){var a;const r=await Pg(i,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Kh(d),g=new Vu;return Object.assign(g,p),g}async function Pg(i,t,o){var a,r;let d=0,p=0,g=new Tu(new Response),v="upload";for(d=i.size;p<d;){const h=Math.min(kN,d-p),E=i.slice(p,p+h);p+h>=d&&(v+=", finalize");let x=0,S=GN;for(;x<LN&&(g=await o.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ga]));)x++,await zN(S),S=S*HN;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ga])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function qN(i){return{size:i.size,type:i.type}}function zN(i){return new Promise(t=>setTimeout(t,i))}class BN{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await VN(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await PN(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ON{create(t,o,a){return new FN(t,o,a)}}class FN{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh="x-goog-api-key";class YN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(qh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(qh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JN="gl-node/";class XN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=qE(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new YN(this.apiKey);this.apiClient=new qA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:JN+"web",uploader:new BN,downloader:new UN}),this.models=new lC(this.apiClient),this.live=new WA(this.apiClient,r,new ON),this.batches=new hS(this.apiClient),this.chats=new ZS(this.models,this.apiClient),this.caches=new XS(this.apiClient),this.files=new ax(this.apiClient),this.operations=new aC(this.apiClient),this.authTokens=new xC(this.apiClient),this.tunings=new wN(this.apiClient),this.fileSearchStores=new IC(this.apiClient)}}const KN=()=>{const i="PLACEHOLDER_API_KEY";return new XN({apiKey:i})},QN=async(i,t)=>{try{const o=KN(),a=`
      Acta como un experto en SQL y administracin de datos escolares.
      Tienes acceso a una base de datos en formato JSON con la siguiente estructura:
      
      Parents (Padres): ${JSON.stringify(i.parents.map(d=>({ci:d.ci,nombre:`${d.nombres} ${d.primerApellido}`})))}
      Students (Estudiantes): ${JSON.stringify(i.students.map(d=>({ci:d.ci,nombre:`${d.nombres} ${d.primerApellido}`,curso:d.curso,idPadre:d.idPadre})))}
      Contracts (Contratos): ${JSON.stringify(i.contracts.map(d=>({num:d.numeroContrato,tipo:d.tipoPago,monto:d.montoAnual,padre:d.idPadre,estudiante:d.idEstudiante})))}

      Responde a la siguiente pregunta del usuario de forma concisa. Si te piden una consulta, explica qu datos se relacionan.
      Si te piden buscar algo especfico (ej: "Quin es el padre de Juan"), bscalo en los datos proporcionados y responde directamente.
      
      Pregunta del usuario: "${t}"
    `;return(await o.models.generateContent({model:"gemini-3-flash-preview",contents:a})).text||"No se pudo generar una respuesta."}catch(o){return console.error("Gemini Error:",o),"Error al conectar con el asistente de IA. Verifica tu API Key."}},ZN=({db:i})=>{const[t,o]=ye.useState(""),[a,r]=ye.useState(""),[d,p]=ye.useState(!1),g=async v=>{if(v.preventDefault(),!t.trim())return;p(!0),r("");const h=await QN(i,t);r(h),p(!1)};return y.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-lg shadow-lg p-6 text-white mb-6",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(vE,{className:"mr-2 text-yellow-300"}),y.jsx("h2",{className:"text-lg font-bold",children:"Asistente Inteligente (Gemini)"})]}),y.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:'Pregunta en lenguaje natural sobre la base de datos. Ej: "Qu estudiantes pagan mensualidad?", "Quin es el padre de Juan?"'}),y.jsxs("form",{onSubmit:g,className:"relative",children:[y.jsx("input",{type:"text",value:t,onChange:v=>o(v.target.value),placeholder:"Escribe tu consulta aqu...",className:"w-full p-3 pr-12 rounded-lg text-gray-900 focus:ring-2 focus:ring-yellow-400 focus:outline-none"}),y.jsx("button",{type:"submit",disabled:d,className:"absolute right-2 top-2 p-1 text-indigo-600 hover:text-indigo-800 disabled:opacity-50",children:d?y.jsx(Wv,{className:"animate-spin"}):y.jsx(fE,{size:20})})]}),a&&y.jsxs("div",{className:"mt-4 bg-white/10 p-4 rounded-lg border border-white/20",children:[y.jsx("h4",{className:"text-xs uppercase tracking-wider text-indigo-200 mb-1",children:"Respuesta:"}),y.jsx("p",{className:"whitespace-pre-wrap",children:a})]})]})},$N=i=>{const t=new Date().toISOString().replace("T"," ").substring(0,19);let o=`-- Database Export for Gestor Escolar Pro
`;return o+=`-- Generated: ${t}
`,o+=`-- DBAdmin User Export

`,o+=`CREATE TABLE IF NOT EXISTS padres (
`,o+=`  id VARCHAR(36) PRIMARY KEY,
`,o+=`  ci VARCHAR(20) NOT NULL UNIQUE,
`,o+=`  primer_apellido VARCHAR(100) NOT NULL,
`,o+=`  segundo_apellido VARCHAR(100),
`,o+=`  nombres VARCHAR(100) NOT NULL,
`,o+=`  celular VARCHAR(20),
`,o+=`  celular2 VARCHAR(20),
`,o+=`  direccion TEXT
`,o+=`);

`,o+=`CREATE TABLE IF NOT EXISTS estudiantes (
`,o+=`  id VARCHAR(36) PRIMARY KEY,
`,o+=`  ci VARCHAR(20) NOT NULL UNIQUE,
`,o+=`  rude VARCHAR(50),
`,o+=`  primer_apellido VARCHAR(100) NOT NULL,
`,o+=`  segundo_apellido VARCHAR(100),
`,o+=`  nombres VARCHAR(100) NOT NULL,
`,o+=`  curso VARCHAR(50),
`,o+=`  celular VARCHAR(20),
`,o+=`  id_padre VARCHAR(20) NOT NULL,
`,o+=`  es_distancia BOOLEAN DEFAULT FALSE,
`,o+=`  tipo_beca VARCHAR(50),
`,o+=`  FOREIGN KEY (id_padre) REFERENCES padres(ci)
`,o+=`);

`,o+=`CREATE TABLE IF NOT EXISTS contratos (
`,o+=`  id VARCHAR(36) PRIMARY KEY,
`,o+=`  numero_contrato VARCHAR(50) NOT NULL,
`,o+=`  id_padre VARCHAR(20) NOT NULL,
`,o+=`  id_estudiante VARCHAR(20) NOT NULL,
`,o+=`  tipo_pago VARCHAR(50),
`,o+=`  monto_anual DECIMAL(10, 2),
`,o+=`  descuento DECIMAL(5, 2) DEFAULT 0,
`,o+=`  monto_cuota DECIMAL(10, 2),
`,o+=`  fecha_firma DATE,
`,o+=`  FOREIGN KEY (id_padre) REFERENCES padres(ci),
`,o+=`  FOREIGN KEY (id_estudiante) REFERENCES estudiantes(ci)
`,o+=`);

`,i.parents.length>0&&(o+=`INSERT INTO padres (id, ci, primer_apellido, segundo_apellido, nombres, celular, celular2, direccion) VALUES
`,o+=i.parents.map(a=>`('${a.id}', '${a.ci}', '${a.primerApellido}', '${a.segundoApellido}', '${a.nombres}', '${a.celular}', '${a.celular2||""}', '${a.direccion}')`).join(`,
`)+`;

`),i.students.length>0&&(o+=`INSERT INTO estudiantes (id, ci, rude, primer_apellido, segundo_apellido, nombres, curso, celular, id_padre, es_distancia, tipo_beca) VALUES
`,o+=i.students.map(a=>{const r=a.esDistancia?1:0;return`('${a.id}', '${a.ci}', '${a.rude}', '${a.primerApellido}', '${a.segundoApellido}', '${a.nombres}', '${a.curso}', '${a.celular||""}', '${a.idPadre}', ${r}, '${a.tipoBeca||"Ninguna"}')`}).join(`,
`)+`;

`),i.contracts.length>0&&(o+=`INSERT INTO contratos (id, numero_contrato, id_padre, id_estudiante, tipo_pago, monto_anual, descuento, monto_cuota, fecha_firma) VALUES
`,o+=i.contracts.map(a=>`('${a.id}', '${a.numeroContrato}', '${a.idPadre}', '${a.idEstudiante}', '${a.tipoPago}', ${a.montoAnual}, ${a.descuento||0}, ${a.montoCuota}, '${a.fechaFirma}')`).join(`,
`)+`;
`),o},jN=({db:i})=>{const t=ye.useRef(null),o=()=>new Date().toISOString().split("T")[0],a=async()=>{const p=$N(i),g=`respaldo_ue_${o()}.sql`,v=new File([p],g,{type:"text/plain"});if(navigator.canShare&&navigator.canShare({files:[v]}))try{await navigator.share({files:[v],title:"Respaldo Base de Datos",text:"Adjunto envo el archivo de respaldo SQL de la base de datos."});return}catch(x){console.log("User cancelled share or failed",x)}const h=window.URL.createObjectURL(v),E=document.createElement("a");E.href=h,E.download=g,document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(h),document.body.removeChild(E),alert(`El archivo se ha descargado en tu dispositivo.

Ahora se abrir WhatsApp. Por favor, adjunta el archivo descargado manualmente en el chat.`),window.open(`https://wa.me/?text=Adjunto%20envo%20el%20respaldo%20SQL%20de%20la%20fecha%20${o()}.%20Por%20favor%20guardar.`,"_blank")},r=()=>{var p;(p=t.current)==null||p.click()},d=p=>{var h;const g=(h=p.target.files)==null?void 0:h[0];if(!g)return;const v=new FileReader;v.onload=E=>{var x;try{const S=JSON.parse((x=E.target)==null?void 0:x.result);_v(S)?window.confirm("Ests seguro de reemplazar TODA la base de datos actual con este archivo? Esta accin no se puede deshacer.")&&(Oh(S),alert("Base de datos actualizada correctamente. La pgina se recargar."),window.location.reload()):alert("El archivo seleccionado no tiene una estructura de base de datos vlida.")}catch{alert("Error al leer el archivo JSON.")}},v.readAsText(g),t.current&&(t.current.value="")};return y.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 border-b dark:border-gray-700 pb-4",children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center text-gray-800 dark:text-white mb-2 md:mb-0",children:[y.jsx(Xh,{className:"mr-2"})," Administracin de Datos"]}),y.jsxs("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-3 py-1 rounded-full text-xs md:text-sm font-medium flex items-center w-fit",children:[y.jsx(Gv,{size:14,className:"mr-1"})," Acceso Abierto"]})]}),y.jsxs("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[y.jsxs("h3",{className:"font-bold text-blue-900 dark:text-blue-300 flex items-center mb-2",children:[y.jsx(gE,{size:20,className:"mr-2"})," Trabajo Colaborativo (Sin Servidor)"]}),y.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 text-justify",children:["Esta aplicacin funciona localmente en tu dispositivo. Para compartir datos con otros colegas o guardarlos en la nube, utiliza el botn de abajo. Esto generar un archivo SQL y abrir ",y.jsx("strong",{children:"WhatsApp"})," para que lo enves.",y.jsx("br",{}),y.jsx("br",{}),'Para cargar datos recibidos, usa el botn "Importar/Restaurar".']})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm flex flex-col",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(Ov,{className:"text-green-600 dark:text-green-400 mr-2",size:24}),y.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:"Exportar y Enviar"})]}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Genera el respaldo SQL completo y comprtelo va WhatsApp o gurdalo en tu mvil."}),y.jsxs("div",{className:"mt-auto",children:[y.jsxs("button",{onClick:a,className:"w-full bg-green-600 hover:bg-green-700 text-white px-6 py-4 rounded-lg flex items-center justify-center shadow-lg transition font-bold text-lg",children:[y.jsx(mE,{className:"mr-2",size:24})," Enviar por WhatsApp"]}),y.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Formatos: SQL compatible con MySQL"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm flex flex-col",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(NE,{className:"text-indigo-600 dark:text-indigo-400 mr-2",size:24}),y.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:"Restaurar Datos"})]}),y.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:["Si cambiaste de dispositivo o recibiste un archivo ",y.jsx("code",{children:"db.json"})," de respaldo, crgalo aqu."]}),y.jsxs("div",{className:"mt-auto",children:[y.jsx("input",{type:"file",ref:t,onChange:d,accept:".json",className:"hidden"}),y.jsxs("button",{onClick:r,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-lg flex items-center justify-center shadow-lg transition font-bold text-lg",children:[y.jsx(zv,{className:"mr-2",size:24})," Importar Respaldo"]}),y.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Solo archivos .json vlidos"})]})]})]}),y.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-100 dark:border-yellow-800",children:[y.jsxs("h3",{className:"font-bold text-sm mb-2 text-yellow-900 dark:text-yellow-400 flex items-center",children:[y.jsx(AE,{size:16,className:"mr-2"})," Resumen de Datos Locales"]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[y.jsxs("div",{className:"bg-white dark:bg-gray-600 p-2 rounded",children:[y.jsx("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:i.parents.length}),y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Padres"})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-600 p-2 rounded",children:[y.jsx("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:i.students.length}),y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Estudiantes"})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-600 p-2 rounded",children:[y.jsx("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:i.contracts.length}),y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Contratos"})]})]})]})]})},WN=({db:i})=>{const[t,o]=ye.useState("none"),a=(g,v)=>{const h=new Blob([g],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(h),x=document.createElement("a");x.setAttribute("href",E),x.setAttribute("download",v),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},r=()=>{const g=`CI,RUDE,Apellidos,Nombres,Curso,Padre(CI),Modalidad,Beca
`,v=i.students.map(h=>`"${h.ci}","${h.rude}","${h.primerApellido} ${h.segundoApellido}","${h.nombres}","${h.curso}","${h.idPadre}","${h.esDistancia?"Virtual":"Presencial"}","${h.tipoBeca}"`).join(`
`);a(g+v,"Reporte_Estudiantes.csv")},d=()=>{const g=`CI,Apellidos,Nombres,Celular,Hijos Inscritos
`,v=i.parents.map(h=>{const E=i.students.filter(x=>x.idPadre===h.ci).length;return`"${h.ci}","${h.primerApellido} ${h.segundoApellido}","${h.nombres}","${h.celular}","${E}"`}).join(`
`);a(g+v,"Reporte_Padres.csv")},p=()=>{window.print()};return y.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md min-h-screen transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8 no-print",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Mdulo de Reportes"}),t!=="none"&&y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center hover:bg-blue-700",children:[y.jsx(yu,{className:"mr-2",size:18})," Imprimir / Guardar PDF"]}),y.jsx("button",{onClick:()=>o("none"),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cerrar Vista Previa"})]})]}),y.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-6 ${t!=="none"?"hidden":""}`,children:[y.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-blue-50 dark:bg-blue-900/20",children:[y.jsxs("div",{className:"flex items-center mb-4 text-blue-800 dark:text-blue-300",children:[y.jsx(RE,{size:32,className:"mr-3"}),y.jsx("h3",{className:"font-bold text-lg",children:"Lista de Estudiantes"})]}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Detalle completo de inscritos, curso, modalidad y becas."}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:r,className:"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center hover:bg-green-700 text-sm",children:[y.jsx(sm,{size:16,className:"mr-2"})," Excel"]}),y.jsxs("button",{onClick:()=>o("students"),className:"flex-1 bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[y.jsx(am,{size:16,className:"mr-2"})," PDF"]})]})]}),y.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-purple-50 dark:bg-purple-900/20",children:[y.jsxs("div",{className:"flex items-center mb-4 text-purple-800 dark:text-purple-300",children:[y.jsx(ol,{size:32,className:"mr-3"}),y.jsx("h3",{className:"font-bold text-lg",children:"Lista de Padres"})]}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Padres de familia con conteo de hijos inscritos."}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:d,className:"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center hover:bg-green-700 text-sm",children:[y.jsx(sm,{size:16,className:"mr-2"})," Excel"]}),y.jsxs("button",{onClick:()=>o("parents"),className:"flex-1 bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[y.jsx(am,{size:16,className:"mr-2"})," PDF"]})]})]}),y.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-orange-50 dark:bg-orange-900/20",children:[y.jsxs("div",{className:"flex items-center mb-4 text-orange-800 dark:text-orange-300",children:[y.jsx(ol,{size:32,className:"mr-3"}),y.jsx("h3",{className:"font-bold text-lg",children:"Cartillas de Registro"})]}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Fichas individuales por familia para archivo fsico."}),y.jsx("div",{className:"flex gap-2",children:y.jsxs("button",{onClick:()=>o("cards"),className:"w-full bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[y.jsx(yu,{size:16,className:"mr-2"})," Generar PDF"]})})]})]}),t!=="none"&&y.jsxs("div",{id:"printable-area",className:"bg-white p-8",children:[t==="students"&&y.jsxs("div",{className:"print-section",children:[y.jsx("h1",{className:"text-center font-bold text-xl mb-4 text-black",children:"REPORTE GENERAL DE ESTUDIANTES INSCRITOS - GESTIN 2026"}),y.jsxs("table",{className:"w-full border-collapse border border-gray-400 text-xs text-black",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100",children:[y.jsx("th",{className:"border p-2",children:"RUDE"}),y.jsx("th",{className:"border p-2",children:"CI"}),y.jsx("th",{className:"border p-2",children:"Apellidos y Nombres"}),y.jsx("th",{className:"border p-2",children:"Curso"}),y.jsx("th",{className:"border p-2",children:"Modalidad"}),y.jsx("th",{className:"border p-2",children:"Beca"})]})}),y.jsx("tbody",{children:i.students.map(g=>y.jsxs("tr",{children:[y.jsx("td",{className:"border p-2 text-center",children:g.rude}),y.jsx("td",{className:"border p-2 text-center",children:g.ci}),y.jsxs("td",{className:"border p-2",children:[g.primerApellido," ",g.segundoApellido," ",g.nombres]}),y.jsx("td",{className:"border p-2 text-center",children:g.curso}),y.jsx("td",{className:"border p-2 text-center",children:g.esDistancia?"Virtual":"Presencial"}),y.jsx("td",{className:"border p-2 text-center",children:g.tipoBeca})]},g.id))})]})]}),t==="parents"&&y.jsxs("div",{className:"print-section",children:[y.jsx("h1",{className:"text-center font-bold text-xl mb-4 text-black",children:"NOMINA DE PADRES DE FAMILIA"}),y.jsxs("table",{className:"w-full border-collapse border border-gray-400 text-xs text-black",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100",children:[y.jsx("th",{className:"border p-2",children:"CI"}),y.jsx("th",{className:"border p-2",children:"Apellidos y Nombres"}),y.jsx("th",{className:"border p-2",children:"Celular"}),y.jsx("th",{className:"border p-2",children:"Direccin"}),y.jsx("th",{className:"border p-2",children:"Hijos"})]})}),y.jsx("tbody",{children:i.parents.map(g=>{const v=i.students.filter(h=>h.idPadre===g.ci).length;return y.jsxs("tr",{children:[y.jsx("td",{className:"border p-2 text-center",children:g.ci}),y.jsxs("td",{className:"border p-2",children:[g.primerApellido," ",g.segundoApellido," ",g.nombres]}),y.jsx("td",{className:"border p-2 text-center",children:g.celular}),y.jsx("td",{className:"border p-2",children:g.direccion}),y.jsx("td",{className:"border p-2 text-center font-bold",children:v})]},g.id)})})]})]}),t==="cards"&&y.jsx("div",{className:"print-section text-black",children:i.parents.map((g,v)=>{const h=i.students.filter(E=>E.idPadre===g.ci);return h.length===0?null:y.jsxs("div",{className:`mb-8 border-2 border-black p-8 ${v>0?"page-break":""}`,children:[y.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-4",children:[y.jsx("h2",{className:"font-bold text-2xl",children:"CARTILLA DE REGISTRO FAMILIAR"}),y.jsx("p",{children:"Gestin 2026"})]}),y.jsxs("div",{className:"mb-6 bg-gray-50 p-4 border border-gray-300",children:[y.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2",children:"DATOS DEL TUTOR"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Nombre:"})," ",g.primerApellido," ",g.segundoApellido," ",g.nombres]}),y.jsxs("p",{children:[y.jsx("strong",{children:"CI:"})," ",g.ci]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Celular:"})," ",g.celular," / ",g.celular2]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Direccin:"})," ",g.direccion]})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2",children:"HIJOS INSCRITOS"}),y.jsxs("table",{className:"w-full text-sm border border-black",children:[y.jsx("thead",{className:"bg-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"border p-2 text-left",children:"Nombre Completo"}),y.jsx("th",{className:"border p-2 text-center",children:"Curso"}),y.jsx("th",{className:"border p-2 text-center",children:"RUDE"}),y.jsx("th",{className:"border p-2 text-center",children:"Modalidad"})]})}),y.jsx("tbody",{children:h.map(E=>y.jsxs("tr",{children:[y.jsxs("td",{className:"border p-2",children:[E.primerApellido," ",E.nombres]}),y.jsx("td",{className:"border p-2 text-center",children:E.curso}),y.jsx("td",{className:"border p-2 text-center",children:E.rude}),y.jsx("td",{className:"border p-2 text-center",children:E.esDistancia?"Virtual":"Presencial"})]},E.id))})]})]}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-dashed border-gray-400 flex justify-between",children:[y.jsxs("div",{className:"text-center w-48",children:[y.jsx("div",{className:"h-20 border border-gray-300 mb-2"}),y.jsx("p",{className:"text-xs",children:"Firma Padre/Tutor"})]}),y.jsxs("div",{className:"text-center w-48",children:[y.jsx("div",{className:"h-20 mb-2"}),y.jsx("p",{className:"text-xs border-t border-black pt-2",children:"Sello Unidad Educativa"})]})]})]},g.id)})})]})]})},eb=()=>{var A;const[i,t]=ye.useState({parents:[],students:[],contracts:[]}),[o,a]=ye.useState("dashboard"),[r,d]=ye.useState(!1),[p,g]=ye.useState("light");ye.useEffect(()=>{const R=xv();t(R),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&g("dark")},[]),ye.useEffect(()=>{p==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[p]);const v=()=>{g(R=>R==="light"?"dark":"light")},h=R=>{t(R),Oh(R)},E=[{id:"dashboard",label:"Inicio",icon:Qv},{id:"parents",label:"Padres",icon:ol},{id:"students",label:"Estudiantes",icon:gu},{id:"contracts",label:"Contratos",icon:il},{id:"reports",label:"Reportes",icon:kv},{id:"db_admin",label:"Base de Datos",icon:Xh}],x=R=>{a(R),d(!1)},S=()=>{switch(o){case"parents":return y.jsx(UE,{db:i,updateDb:h});case"students":return y.jsx(wE,{db:i,updateDb:h});case"contracts":return y.jsx(LE,{db:i,updateDb:h});case"reports":return y.jsx(WN,{db:i});case"db_admin":return y.jsx(jN,{db:i});default:return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-blue-500 transition-colors",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Estudiantes"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.students.length})]}),y.jsx(gu,{className:"text-blue-200 dark:text-blue-900",size:40})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-green-500 transition-colors",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Padres Registrados"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.parents.length})]}),y.jsx(ol,{className:"text-green-200 dark:text-green-900",size:40})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-purple-500 transition-colors",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contratos Activos"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.contracts.length})]}),y.jsx(il,{className:"text-purple-200 dark:text-purple-900",size:40})]})})]}),y.jsx(ZN,{db:i}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm transition-colors",children:[y.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Acceso Rpido"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:()=>a("parents"),className:"p-4 border dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-700 text-left transition-colors",children:[y.jsx("span",{className:"font-bold block text-blue-600 dark:text-blue-400",children:"Registrar Nuevo Padre"}),y.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paso 1 del proceso de inscripcin"})]}),y.jsxs("button",{onClick:()=>a("students"),className:"p-4 border dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-700 text-left transition-colors",children:[y.jsx("span",{className:"font-bold block text-green-600 dark:text-green-400",children:"Inscribir Estudiante"}),y.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paso 2: Vincular al padre"})]})]})]})]})}};return y.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex overflow-hidden transition-colors duration-200",children:[r&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>d(!1)}),y.jsxs("aside",{className:`
            fixed md:static inset-y-0 left-0 z-30 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 
            transform transition-transform duration-300 ease-in-out flex flex-col
            ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `,children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex flex-col items-center relative",children:[y.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 md:hidden text-gray-500",children:y.jsx(ll,{size:24})}),y.jsx("div",{className:"w-16 h-16 mb-3 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center overflow-hidden border-2 border-yellow-400 shadow-md",children:y.jsx("img",{src:"./logo.png",alt:"Logo",className:"w-full h-full object-cover",onError:R=>{R.target.src="https://via.placeholder.com/150?text=LOGO"}})}),y.jsxs("h1",{className:"font-bold text-gray-800 dark:text-white text-lg text-center leading-tight",children:["Gestor Escolar",y.jsx("br",{}),y.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Prncipe de Paz LS"})]})]}),y.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:E.map(R=>{const L=R.icon;return y.jsxs("button",{onClick:()=>x(R.id),className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${o===R.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[y.jsx(L,{size:20,className:"mr-3 shrink-0"}),y.jsx("span",{className:"font-medium",children:R.label})]},R.id)})}),y.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 text-xs text-gray-400 text-center",children:" 2026 Sistema Acadmico v1.2"})]}),y.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden w-full",children:[y.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center px-4 md:px-6 justify-between shrink-0 transition-colors",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("button",{onClick:()=>d(!r),className:"md:hidden mr-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:y.jsx(tE,{size:28})}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white md:hidden",children:(A=E.find(R=>R.id===o))==null?void 0:A.label})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",title:p==="light"?"Activar Modo Oscuro":"Activar Modo Claro",children:p==="light"?y.jsx(lE,{size:20}):y.jsx(xE,{size:20})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"text-right hidden md:block",children:y.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200 block",children:"Administrador"})}),y.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold border border-blue-200 dark:border-blue-700",children:"A"})]})]})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-6 relative",children:S()})]})]})},qg=document.getElementById("root");if(!qg)throw new Error("Could not find root element to mount to");const tb=Sv.createRoot(qg);tb.render(y.jsx(pv.StrictMode,{children:y.jsx(eb,{})}));
