(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ru={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function cv(){if(Kp)return $l;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:d}}return $l.Fragment=t,$l.jsx=l,$l.jsxs=l,$l}var Qp;function dv(){return Qp||(Qp=1,ru.exports=cv()),ru.exports}var v=dv(),uu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function fv(){if(Zp)return se;Zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function H(b,q,K){this.props=b,this.context=q,this.refs=U,this.updater=K||M}H.prototype.isReactComponent={},H.prototype.setState=function(b,q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,q,"setState")},H.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function O(){}O.prototype=H.prototype;function B(b,q,K){this.props=b,this.context=q,this.refs=U,this.updater=K||M}var X=B.prototype=new O;X.constructor=B,L(X,H.prototype),X.isPureReactComponent=!0;var $=Array.isArray;function Z(){}var F={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ee(b,q,K){var W=K.ref;return{$$typeof:i,type:b,key:q,ref:W!==void 0?W:null,props:K}}function Y(b,q){return ee(b.type,q,b.props)}function le(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function Te(b){var q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(K){return q[K]})}var de=/\/+/g;function Oe(b,q){return typeof b=="object"&&b!==null&&b.key!=null?Te(""+b.key):q.toString(36)}function ut(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Z,Z):(b.status="pending",b.then(function(q){b.status==="pending"&&(b.status="fulfilled",b.value=q)},function(q){b.status==="pending"&&(b.status="rejected",b.reason=q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,q,K,W,re){var pe=typeof b;(pe==="undefined"||pe==="boolean")&&(b=null);var Ne=!1;if(b===null)Ne=!0;else switch(pe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(b.$$typeof){case i:case t:Ne=!0;break;case E:return Ne=b._init,G(Ne(b._payload),q,K,W,re)}}if(Ne)return re=re(b),Ne=W===""?"."+Oe(b,0):W,$(re)?(K="",Ne!=null&&(K=Ne.replace(de,"$&/")+"/"),G(re,q,K,"",function(ll){return ll})):re!=null&&(le(re)&&(re=Y(re,K+(re.key==null||b&&b.key===re.key?"":(""+re.key).replace(de,"$&/")+"/")+Ne)),q.push(re)),1;Ne=0;var ot=W===""?".":W+":";if($(b))for(var ze=0;ze<b.length;ze++)W=b[ze],pe=ot+Oe(W,ze),Ne+=G(W,q,K,pe,re);else if(ze=A(b),typeof ze=="function")for(b=ze.call(b),ze=0;!(W=b.next()).done;)W=W.value,pe=ot+Oe(W,ze++),Ne+=G(W,q,K,pe,re);else if(pe==="object"){if(typeof b.then=="function")return G(ut(b),q,K,W,re);throw q=String(b),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(b,q,K){if(b==null)return b;var W=[],re=0;return G(b,W,"","",function(pe){return q.call(K,pe,re++)}),W}function oe(b){if(b._status===-1){var q=b._result;q=q(),q.then(function(K){(b._status===0||b._status===-1)&&(b._status=1,b._result=K)},function(K){(b._status===0||b._status===-1)&&(b._status=2,b._result=K)}),b._status===-1&&(b._status=0,b._result=q)}if(b._status===1)return b._result.default;throw b._result}var Me=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ue={map:J,forEach:function(b,q,K){J(b,function(){q.apply(this,arguments)},K)},count:function(b){var q=0;return J(b,function(){q++}),q},toArray:function(b){return J(b,function(q){return q})||[]},only:function(b){if(!le(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return se.Activity=x,se.Children=Ue,se.Component=H,se.Fragment=l,se.Profiler=r,se.PureComponent=B,se.StrictMode=a,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return F.H.useMemoCache(b)}},se.cache=function(b){return function(){return b.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(b,q,K){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var W=L({},b.props),re=b.key;if(q!=null)for(pe in q.key!==void 0&&(re=""+q.key),q)!fe.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(W[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)W.children=K;else if(1<pe){for(var Ne=Array(pe),ot=0;ot<pe;ot++)Ne[ot]=arguments[ot+2];W.children=Ne}return ee(b.type,re,W)},se.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},se.createElement=function(b,q,K){var W,re={},pe=null;if(q!=null)for(W in q.key!==void 0&&(pe=""+q.key),q)fe.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=q[W]);var Ne=arguments.length-2;if(Ne===1)re.children=K;else if(1<Ne){for(var ot=Array(Ne),ze=0;ze<Ne;ze++)ot[ze]=arguments[ze+2];re.children=ot}if(b&&b.defaultProps)for(W in Ne=b.defaultProps,Ne)re[W]===void 0&&(re[W]=Ne[W]);return ee(b,pe,re)},se.createRef=function(){return{current:null}},se.forwardRef=function(b){return{$$typeof:g,render:b}},se.isValidElement=le,se.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:oe}},se.memo=function(b,q){return{$$typeof:h,type:b,compare:q===void 0?null:q}},se.startTransition=function(b){var q=F.T,K={};F.T=K;try{var W=b(),re=F.S;re!==null&&re(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,Me)}catch(pe){Me(pe)}finally{q!==null&&K.types!==null&&(q.types=K.types),F.T=q}},se.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},se.use=function(b){return F.H.use(b)},se.useActionState=function(b,q,K){return F.H.useActionState(b,q,K)},se.useCallback=function(b,q){return F.H.useCallback(b,q)},se.useContext=function(b){return F.H.useContext(b)},se.useDebugValue=function(){},se.useDeferredValue=function(b,q){return F.H.useDeferredValue(b,q)},se.useEffect=function(b,q){return F.H.useEffect(b,q)},se.useEffectEvent=function(b){return F.H.useEffectEvent(b)},se.useId=function(){return F.H.useId()},se.useImperativeHandle=function(b,q,K){return F.H.useImperativeHandle(b,q,K)},se.useInsertionEffect=function(b,q){return F.H.useInsertionEffect(b,q)},se.useLayoutEffect=function(b,q){return F.H.useLayoutEffect(b,q)},se.useMemo=function(b,q){return F.H.useMemo(b,q)},se.useOptimistic=function(b,q){return F.H.useOptimistic(b,q)},se.useReducer=function(b,q,K){return F.H.useReducer(b,q,K)},se.useRef=function(b){return F.H.useRef(b)},se.useState=function(b){return F.H.useState(b)},se.useSyncExternalStore=function(b,q,K){return F.H.useSyncExternalStore(b,q,K)},se.useTransition=function(){return F.H.useTransition()},se.version="19.2.3",se}var $p;function Du(){return $p||($p=1,uu.exports=fv()),uu.exports}var Ee=Du();const pv=qh(Ee);var cu={exports:{}},jl={},du={exports:{}},fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function mv(){return jp||(jp=1,(function(i){function t(G,J){var oe=G.length;G.push(J);e:for(;0<oe;){var Me=oe-1>>>1,Ue=G[Me];if(0<r(Ue,J))G[Me]=J,G[oe]=Ue,oe=Me;else break e}}function l(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var J=G[0],oe=G.pop();if(oe!==J){G[0]=oe;e:for(var Me=0,Ue=G.length,b=Ue>>>1;Me<b;){var q=2*(Me+1)-1,K=G[q],W=q+1,re=G[W];if(0>r(K,oe))W<Ue&&0>r(re,K)?(G[Me]=re,G[W]=oe,Me=W):(G[Me]=K,G[q]=oe,Me=q);else if(W<Ue&&0>r(re,oe))G[Me]=re,G[W]=oe,Me=W;else break e}}return J}function r(G,J){var oe=G.sortIndex-J.sortIndex;return oe!==0?oe:G.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],E=1,x=null,S=3,A=!1,M=!1,L=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var J=l(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=G)a(h),J.sortIndex=J.expirationTime,t(y,J);else break;J=l(h)}}function $(G){if(L=!1,X(G),!M)if(l(y)!==null)M=!0,Z||(Z=!0,Te());else{var J=l(h);J!==null&&ut($,J.startTime-G)}}var Z=!1,F=-1,fe=5,ee=-1;function Y(){return U?!0:!(i.unstable_now()-ee<fe)}function le(){if(U=!1,Z){var G=i.unstable_now();ee=G;var J=!0;try{e:{M=!1,L&&(L=!1,O(F),F=-1),A=!0;var oe=S;try{t:{for(X(G),x=l(y);x!==null&&!(x.expirationTime>G&&Y());){var Me=x.callback;if(typeof Me=="function"){x.callback=null,S=x.priorityLevel;var Ue=Me(x.expirationTime<=G);if(G=i.unstable_now(),typeof Ue=="function"){x.callback=Ue,X(G),J=!0;break t}x===l(y)&&a(y),X(G)}else a(y);x=l(y)}if(x!==null)J=!0;else{var b=l(h);b!==null&&ut($,b.startTime-G),J=!1}}break e}finally{x=null,S=oe,A=!1}J=void 0}}finally{J?Te():Z=!1}}}var Te;if(typeof B=="function")Te=function(){B(le)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Oe=de.port2;de.port1.onmessage=le,Te=function(){Oe.postMessage(null)}}else Te=function(){H(le,0)};function ut(G,J){F=H(function(){G(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(G){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var oe=S;S=J;try{return G()}finally{S=oe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=S;S=G;try{return J()}finally{S=oe}},i.unstable_scheduleCallback=function(G,J,oe){var Me=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,G){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=oe+Ue,G={id:E++,callback:J,priorityLevel:G,startTime:oe,expirationTime:Ue,sortIndex:-1},oe>Me?(G.sortIndex=oe,t(h,G),l(y)===null&&G===l(h)&&(L?(O(F),F=-1):L=!0,ut($,oe-Me))):(G.sortIndex=Ue,t(y,G),M||A||(M=!0,Z||(Z=!0,Te()))),G},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(G){var J=S;return function(){var oe=S;S=J;try{return G.apply(this,arguments)}finally{S=oe}}}})(fu)),fu}var Wp;function hv(){return Wp||(Wp=1,du.exports=mv()),du.exports}var pu={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function gv(){if(em)return it;em=1;var i=Du();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:h,implementation:E}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,it.createPortal=function(y,h){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,E)},it.flushSync=function(y){var h=p.T,E=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=E,a.d.f()}},it.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},it.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},it.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var E=h.as,x=g(E,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;E==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:A}):E==="script"&&a.d.X(y,{crossOrigin:x,integrity:S,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},it.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var E=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},it.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var E=h.as,x=g(E,h.crossOrigin);a.d.L(y,E,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},it.preloadModule=function(y,h){if(typeof y=="string")if(h){var E=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},it.requestFormReset=function(y){a.d.r(y)},it.unstable_batchedUpdates=function(y,h){return y(h)},it.useFormState=function(y,h,E){return p.H.useFormState(y,h,E)},it.useFormStatus=function(){return p.H.useHostTransitionStatus()},it.version="19.2.3",it}var tm;function yv(){if(tm)return pu.exports;tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=gv(),pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function vv(){if(nm)return jl;nm=1;var i=hv(),t=Du(),l=yv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(s=f.return,s!==null){o=s;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return y(f),e;if(m===s)return y(f),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=f,s=m;else{for(var T=!1,_=f.child;_;){if(_===o){T=!0,o=f,s=m;break}if(_===s){T=!0,s=f,o=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===o){T=!0,o=m,s=f;break}if(_===s){T=!0,s=m,o=f;break}_=_.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case B:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:Oe(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return Oe(e(n))}catch{}}return null}var ut=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],Ue=-1;function b(e){return{current:e}}function q(e){0>Ue||(e.current=Me[Ue],Me[Ue]=null,Ue--)}function K(e,n){Ue++,Me[Ue]=e.current,e.current=n}var W=b(null),re=b(null),pe=b(null),Ne=b(null);function ot(e,n){switch(K(pe,n),K(re,e),K(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yp(n),e=vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(W),K(W,e)}function ze(){q(W),q(re),q(pe)}function ll(e){e.memoizedState!==null&&K(Ne,e);var n=W.current,o=vp(n,e.type);n!==o&&(K(re,e),K(W,o))}function oo(e){re.current===e&&(q(W),q(re)),Ne.current===e&&(q(Ne),Xl._currentValue=oe)}var Fa,Ju;function Yn(e){if(Fa===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Fa=n&&n[1]||"",Ju=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+e+Ju}var Ya=!1;function Ja(e,n){if(!e||Ya)return"";Ya=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(k){var D=k}Reflect.construct(e,[],z)}else{try{z.call()}catch(k){D=k}e.call(z.prototype)}}else{try{throw Error()}catch(k){D=k}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var C=T.split(`
`),w=_.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===w.length)for(s=C.length-1,f=w.length-1;1<=s&&0<=f&&C[s]!==w[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==w[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==w[f]){var V=`
`+C[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=f);break}}}finally{Ya=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Yn(o):""}function qg(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ja(e.type,!1);case 11:return Ja(e.type.render,!1);case 1:return Ja(e.type,!0);case 31:return Yn("Activity");default:return""}}function Xu(e){try{var n="",o=null;do n+=qg(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Xa=Object.prototype.hasOwnProperty,Ka=i.unstable_scheduleCallback,Qa=i.unstable_cancelCallback,Bg=i.unstable_shouldYield,Og=i.unstable_requestPaint,yt=i.unstable_now,Fg=i.unstable_getCurrentPriorityLevel,Ku=i.unstable_ImmediatePriority,Qu=i.unstable_UserBlockingPriority,ao=i.unstable_NormalPriority,Yg=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,Jg=i.log,Xg=i.unstable_setDisableYieldValue,ol=null,vt=null;function vn(e){if(typeof Jg=="function"&&Xg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ol,e)}catch{}}var Et=Math.clz32?Math.clz32:Zg,Kg=Math.log,Qg=Math.LN2;function Zg(e){return e>>>=0,e===0?32:31-(Kg(e)/Qg|0)|0}var so=256,ro=262144,uo=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function co(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?f=Jn(s):(T&=_,T!==0?f=Jn(T):o||(o=_&~e,o!==0&&(f=Jn(o))))):(_=s&~m,_!==0?f=Jn(_):T!==0?f=Jn(T):o||(o=s&~e,o!==0&&(f=Jn(o)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:f}function al(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $g(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var e=uo;return uo<<=1,(uo&62914560)===0&&(uo=4194304),e}function Za(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function sl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jg(e,n,o,s,f,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,w=e.hiddenUpdates;for(o=T&~o;0<o;){var V=31-Et(o),z=1<<V;_[V]=0,C[V]=-1;var D=w[V];if(D!==null)for(w[V]=null,V=0;V<D.length;V++){var k=D[V];k!==null&&(k.lane&=-536870913)}o&=~z}s!==0&&ju(e,s,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function ju(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Wu(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),f=1<<s;f&n|e[s]&n&&(e[s]|=n),o&=~f}}function ec(e,n){var o=n&-n;return o=(o&42)!==0?1:$a(o),(o&(e.suspendedLanes|n))!==0?0:o}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:qp(e.type))}function nc(e,n){var o=J.p;try{return J.p=e,n()}finally{J.p=o}}var En=Math.random().toString(36).slice(2),je="__reactFiber$"+En,ct="__reactProps$"+En,fi="__reactContainer$"+En,Wa="__reactEvents$"+En,Wg="__reactListeners$"+En,e0="__reactHandles$"+En,ic="__reactResources$"+En,rl="__reactMarker$"+En;function es(e){delete e[je],delete e[ct],delete e[Wa],delete e[Wg],delete e[e0]}function pi(e){var n=e[je];if(n)return n;for(var o=e.parentNode;o;){if(n=o[fi]||o[je]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Cp(e);e!==null;){if(o=e[je])return o;e=Cp(e)}return n}e=o,o=e.parentNode}return null}function mi(e){if(e=e[je]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ul(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[rl]=!0}var lc=new Set,oc={};function Xn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(oc[e]=n,e=0;e<n.length;e++)lc.add(n[e])}var t0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function n0(e){return Xa.call(sc,e)?!0:Xa.call(ac,e)?!1:t0.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function fo(e,n,o){if(n0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function po(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Zt(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function i0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=i0(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l0=/[\n"\\]/g;function Rt(e){return e.replace(l0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ns(e,n,o,s,f,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?is(e,T,bt(n)):o!=null?is(e,T,bt(o)):s!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+bt(_):e.removeAttribute("name")}function cc(e,n,o,s,f,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ts(e);return}o=o!=null?""+bt(o):"",n=n!=null?""+bt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ts(e)}function is(e,n,o){n==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function yi(e,n,o,s){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&s&&(e[o].defaultSelected=!0)}else{for(o=""+bt(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function dc(e,n,o){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+bt(o):""}function fc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ut(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=bt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),ts(e)}function vi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var o0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||o0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function mc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&o[f]!==s&&pc(e,f,s)}else for(var m in n)n.hasOwnProperty(m)&&pc(e,m,n[m])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return s0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var os=null;function as(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function hc(e){var n=mi(e);if(n&&(e=n.stateNode)){var o=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(ns(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var f=s[ct]||null;if(!f)throw Error(a(90));ns(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&uc(s)}break e;case"textarea":dc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&yi(e,!!o.multiple,n,!1)}}}var ss=!1;function gc(e,n,o){if(ss)return e(n,o);ss=!0;try{var s=e(n);return s}finally{if(ss=!1,(Ei!==null||Ti!==null)&&(na(),Ei&&(n=Ei,e=Ti,Ti=Ei=null,hc(n),e)))for(n=0;n<e.length;n++)hc(e[n])}}function cl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[ct]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(jt)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){rs=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{rs=!1}var Tn=null,us=null,go=null;function yc(){if(go)return go;var e,n=us,o=n.length,s,f="value"in Tn?Tn.value:Tn.textContent,m=f.length;for(e=0;e<o&&n[e]===f[e];e++);var T=o-e;for(s=1;s<=T&&n[o-s]===f[m-s];s++);return go=f.slice(e,1<s?1-s:void 0)}function yo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function vc(){return!1}function dt(e){function n(o,s,f,m,T){this._reactName=o,this._targetInst=f,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vo:vc,this.isPropagationStopped=vc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),n}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=dt(Kn),fl=x({},Kn,{view:0,detail:0}),r0=dt(fl),cs,ds,pl,To=x({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(cs=e.screenX-pl.screenX,ds=e.screenY-pl.screenY):ds=cs=0,pl=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),Ec=dt(To),u0=x({},To,{dataTransfer:0}),c0=dt(u0),d0=x({},fl,{relatedTarget:0}),fs=dt(d0),f0=x({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),p0=dt(f0),m0=x({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=dt(m0),g0=x({},Kn,{data:0}),Tc=dt(g0),y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=E0[e])?!!n[e]:!1}function ps(){return T0}var S0=x({},fl,{key:function(e){if(e.key){var n=y0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x0=dt(S0),_0=x({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=dt(_0),A0=x({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),C0=dt(A0),N0=x({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=dt(N0),R0=x({},To,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=dt(R0),I0=x({},Kn,{newState:0,oldState:0}),w0=dt(I0),D0=[9,13,27,32],ms=jt&&"CompositionEvent"in window,ml=null;jt&&"documentMode"in document&&(ml=document.documentMode);var U0=jt&&"TextEvent"in window&&!ml,xc=jt&&(!ms||ml&&8<ml&&11>=ml),_c=" ",Ac=!1;function Cc(e,n){switch(e){case"keyup":return D0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function k0(e,n){switch(e){case"compositionend":return Nc(n);case"keypress":return n.which!==32?null:(Ac=!0,_c);case"textInput":return e=n.data,e===_c&&Ac?null:e;default:return null}}function L0(e,n){if(Si)return e==="compositionend"||!ms&&Cc(e,n)?(e=yc(),go=us=Tn=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!G0[e.type]:n==="textarea"}function Rc(e,n,o,s){Ei?Ti?Ti.push(s):Ti=[s]:Ei=s,n=ua(n,"onChange"),0<n.length&&(o=new Eo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var hl=null,gl=null;function H0(e){dp(e,0)}function So(e){var n=ul(e);if(uc(n))return e}function Mc(e,n){if(e==="change")return n}var Ic=!1;if(jt){var hs;if(jt){var gs="oninput"in document;if(!gs){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),gs=typeof wc.oninput=="function"}hs=gs}else hs=!1;Ic=hs&&(!document.documentMode||9<document.documentMode)}function Dc(){hl&&(hl.detachEvent("onpropertychange",Uc),gl=hl=null)}function Uc(e){if(e.propertyName==="value"&&So(gl)){var n=[];Rc(n,gl,e,as(e)),gc(H0,n)}}function V0(e,n,o){e==="focusin"?(Dc(),hl=n,gl=o,hl.attachEvent("onpropertychange",Uc)):e==="focusout"&&Dc()}function P0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(gl)}function z0(e,n){if(e==="click")return So(n)}function q0(e,n){if(e==="input"||e==="change")return So(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:B0;function yl(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var f=o[s];if(!Xa.call(n,f)||!Tt(e[f],n[f]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var o=kc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kc(o)}}function Gc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=mo(e.document)}return n}function ys(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O0=jt&&"documentMode"in document&&11>=document.documentMode,xi=null,vs=null,vl=null,Es=!1;function Vc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Es||xi==null||xi!==mo(s)||(s=xi,"selectionStart"in s&&ys(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vl&&yl(vl,s)||(vl=s,s=ua(vs,"onSelect"),0<s.length&&(n=new Eo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=xi)))}function Qn(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var _i={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},Ts={},Pc={};jt&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Zn(e){if(Ts[e])return Ts[e];if(!_i[e])return e;var n=_i[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Pc)return Ts[e]=n[o];return e}var zc=Zn("animationend"),qc=Zn("animationiteration"),Bc=Zn("animationstart"),F0=Zn("transitionrun"),Y0=Zn("transitionstart"),J0=Zn("transitioncancel"),Oc=Zn("transitionend"),Fc=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function zt(e,n){Fc.set(e,n),Xn(n,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Ai=0,xs=0;function _o(){for(var e=Ai,n=xs=Ai=0;n<e;){var o=Mt[n];Mt[n++]=null;var s=Mt[n];Mt[n++]=null;var f=Mt[n];Mt[n++]=null;var m=Mt[n];if(Mt[n++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}m!==0&&Yc(o,f,m)}}function Ao(e,n,o,s){Mt[Ai++]=e,Mt[Ai++]=n,Mt[Ai++]=o,Mt[Ai++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _s(e,n,o,s){return Ao(e,n,o,s),Co(e)}function $n(e,n){return Ao(e,null,null,n),Co(e)}function Yc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var f=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Et(o),e=m.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=o|536870912),m):null}function Co(e){if(50<zl)throw zl=0,Dr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function X0(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,n,o,s){return new X0(e,n,o,s)}function As(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var o=e.alternate;return o===null?(o=St(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Jc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function No(e,n,o,s,f,m){var T=0;if(s=e,typeof e=="function")As(e)&&(T=1);else if(typeof e=="string")T=jy(e,o,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=St(31,o,n,f),e.elementType=ee,e.lanes=m,e;case L:return jn(o.children,f,m,n);case U:T=8,f|=24;break;case H:return e=St(12,o,n,f|2),e.elementType=H,e.lanes=m,e;case $:return e=St(13,o,n,f),e.elementType=$,e.lanes=m,e;case Z:return e=St(19,o,n,f),e.elementType=Z,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:T=10;break e;case O:T=9;break e;case X:T=11;break e;case F:T=14;break e;case fe:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=St(T,o,n,f),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,o,s){return e=St(7,e,s,n),e.lanes=o,e}function Cs(e,n,o){return e=St(6,e,null,n),e.lanes=o,e}function Xc(e){var n=St(18,null,null,0);return n.stateNode=e,n}function Ns(e,n,o){return n=St(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kc=new WeakMap;function It(e,n){if(typeof e=="object"&&e!==null){var o=Kc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Xu(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:Xu(n)}}var Ni=[],bi=0,bo=null,El=0,wt=[],Dt=0,Sn=null,Jt=1,Xt="";function en(e,n){Ni[bi++]=El,Ni[bi++]=bo,bo=e,El=n}function Qc(e,n,o){wt[Dt++]=Jt,wt[Dt++]=Xt,wt[Dt++]=Sn,Sn=e;var s=Jt;e=Xt;var f=32-Et(s)-1;s&=~(1<<f),o+=1;var m=32-Et(n)+f;if(30<m){var T=f-f%5;m=(s&(1<<T)-1).toString(32),s>>=T,f-=T,Jt=1<<32-Et(n)+f|o<<f|s,Xt=m+e}else Jt=1<<m|o<<f|s,Xt=e}function bs(e){e.return!==null&&(en(e,1),Qc(e,1,0))}function Rs(e){for(;e===bo;)bo=Ni[--bi],Ni[bi]=null,El=Ni[--bi],Ni[bi]=null;for(;e===Sn;)Sn=wt[--Dt],wt[Dt]=null,Xt=wt[--Dt],wt[Dt]=null,Jt=wt[--Dt],wt[Dt]=null}function Zc(e,n){wt[Dt++]=Jt,wt[Dt++]=Xt,wt[Dt++]=Sn,Jt=n.id,Xt=n.overflow,Sn=e}var We=null,Le=null,ve=!1,xn=null,Ut=!1,Ms=Error(a(519));function _n(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(It(n,e)),Ms}function $c(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[je]=e,n[ct]=s,o){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(o=0;o<Bl.length;o++)he(Bl[o],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),fc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||hp(n.textContent,o)?(s.popover!=null&&(he("beforetoggle",n),he("toggle",n)),s.onScroll!=null&&he("scroll",n),s.onScrollEnd!=null&&he("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||_n(e,!0)}function jc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:We=We.return}}function Ri(e){if(e!==We)return!1;if(!ve)return jc(e),ve=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Xr(e.type,e.memoizedProps)),o=!o),o&&Le&&_n(e),jc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else n===27?(n=Le,Hn(e.type)?(e=jr,jr=null,Le=e):Le=n):Le=We?Lt(e.stateNode.nextSibling):null;return!0}function Wn(){Le=We=null,ve=!1}function Is(){var e=xn;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),xn=null),e}function Tl(e){xn===null?xn=[e]:xn.push(e)}var ws=b(null),ei=null,tn=null;function An(e,n,o){K(ws,n._currentValue),n._currentValue=o}function nn(e){e._currentValue=ws.current,q(ws)}function Ds(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Us(e,n,o,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=f;for(var C=0;C<n.length;C++)if(_.context===n[C]){m.lanes|=o,_=m.alternate,_!==null&&(_.lanes|=o),Ds(m.return,o,e),s||(T=null);break e}m=_.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Ds(T,o,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Mi(e,n,o,s){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=f.type;Tt(f.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(f===Ne.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}f=f.return}e!==null&&Us(n,e,o,s),n.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ti(e){ei=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return Wc(ei,e)}function Mo(e,n){return ei===null&&ti(e),Wc(e,n)}function Wc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return o}var K0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Q0=i.unstable_scheduleCallback,Z0=i.unstable_NormalPriority,Fe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new K0,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&Q0(Z0,function(){e.controller.abort()})}var xl=null,Ls=0,Ii=0,wi=null;function $0(e,n){if(xl===null){var o=xl=[];Ls=0,Ii=Vr(),wi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Ls++,n.then(ed,ed),n}function ed(){if(--Ls===0&&xl!==null){wi!==null&&(wi.status="fulfilled");var e=xl;xl=null,Ii=0,wi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function j0(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),s}var td=G.S;G.S=function(e,n){Pf=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$0(e,n),td!==null&&td(e,n)};var ni=b(null);function Gs(){var e=ni.current;return e!==null?e:ke.pooledCache}function Io(e,n){n===null?K(ni,ni.current):K(ni,n.pool)}function nd(){var e=Gs();return e===null?null:{parent:Fe._currentValue,pool:e}}var Di=Error(a(460)),Hs=Error(a(474)),wo=Error(a(542)),Do={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ld(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then($t,$t),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e}throw li=n,Di}}function ii(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(li=o,Di):o}}var li=null;function od(){if(li===null)throw Error(a(459));var e=li;return li=null,e}function ad(e){if(e===Di||e===wo)throw Error(a(483))}var Ui=null,_l=0;function Uo(e){var n=_l;return _l+=1,Ui===null&&(Ui=[]),ld(Ui,e,n)}function Al(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ko(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sd(e){function n(R,N){if(e){var I=R.deletions;I===null?(R.deletions=[N],R.flags|=16):I.push(N)}}function o(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=Wt(R,N),R.index=0,R.sibling=null,R}function m(R,N,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<N?(R.flags|=67108866,N):I):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function T(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,N,I,P){return N===null||N.tag!==6?(N=Cs(I,R.mode,P),N.return=R,N):(N=f(N,I),N.return=R,N)}function C(R,N,I,P){var ne=I.type;return ne===L?V(R,N,I.props.children,P,I.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&ii(ne)===N.type)?(N=f(N,I.props),Al(N,I),N.return=R,N):(N=No(I.type,I.key,I.props,null,R.mode,P),Al(N,I),N.return=R,N)}function w(R,N,I,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Ns(I,R.mode,P),N.return=R,N):(N=f(N,I.children||[]),N.return=R,N)}function V(R,N,I,P,ne){return N===null||N.tag!==7?(N=jn(I,R.mode,P,ne),N.return=R,N):(N=f(N,I),N.return=R,N)}function z(R,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Cs(""+N,R.mode,I),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return I=No(N.type,N.key,N.props,null,R.mode,I),Al(I,N),I.return=R,I;case M:return N=Ns(N,R.mode,I),N.return=R,N;case fe:return N=ii(N),z(R,N,I)}if(ut(N)||Te(N))return N=jn(N,R.mode,I,null),N.return=R,N;if(typeof N.then=="function")return z(R,Uo(N),I);if(N.$$typeof===B)return z(R,Mo(R,N),I);ko(R,N)}return null}function D(R,N,I,P){var ne=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ne!==null?null:_(R,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===ne?C(R,N,I,P):null;case M:return I.key===ne?w(R,N,I,P):null;case fe:return I=ii(I),D(R,N,I,P)}if(ut(I)||Te(I))return ne!==null?null:V(R,N,I,P,null);if(typeof I.then=="function")return D(R,N,Uo(I),P);if(I.$$typeof===B)return D(R,N,Mo(R,I),P);ko(R,I)}return null}function k(R,N,I,P,ne){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(I)||null,_(N,R,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return R=R.get(P.key===null?I:P.key)||null,C(N,R,P,ne);case M:return R=R.get(P.key===null?I:P.key)||null,w(N,R,P,ne);case fe:return P=ii(P),k(R,N,I,P,ne)}if(ut(P)||Te(P))return R=R.get(I)||null,V(N,R,P,ne,null);if(typeof P.then=="function")return k(R,N,I,Uo(P),ne);if(P.$$typeof===B)return k(R,N,I,Mo(N,P),ne);ko(N,P)}return null}function j(R,N,I,P){for(var ne=null,Se=null,te=N,ce=N=0,ye=null;te!==null&&ce<I.length;ce++){te.index>ce?(ye=te,te=null):ye=te.sibling;var xe=D(R,te,I[ce],P);if(xe===null){te===null&&(te=ye);break}e&&te&&xe.alternate===null&&n(R,te),N=m(xe,N,ce),Se===null?ne=xe:Se.sibling=xe,Se=xe,te=ye}if(ce===I.length)return o(R,te),ve&&en(R,ce),ne;if(te===null){for(;ce<I.length;ce++)te=z(R,I[ce],P),te!==null&&(N=m(te,N,ce),Se===null?ne=te:Se.sibling=te,Se=te);return ve&&en(R,ce),ne}for(te=s(te);ce<I.length;ce++)ye=k(te,R,ce,I[ce],P),ye!==null&&(e&&ye.alternate!==null&&te.delete(ye.key===null?ce:ye.key),N=m(ye,N,ce),Se===null?ne=ye:Se.sibling=ye,Se=ye);return e&&te.forEach(function(Bn){return n(R,Bn)}),ve&&en(R,ce),ne}function ie(R,N,I,P){if(I==null)throw Error(a(151));for(var ne=null,Se=null,te=N,ce=N=0,ye=null,xe=I.next();te!==null&&!xe.done;ce++,xe=I.next()){te.index>ce?(ye=te,te=null):ye=te.sibling;var Bn=D(R,te,xe.value,P);if(Bn===null){te===null&&(te=ye);break}e&&te&&Bn.alternate===null&&n(R,te),N=m(Bn,N,ce),Se===null?ne=Bn:Se.sibling=Bn,Se=Bn,te=ye}if(xe.done)return o(R,te),ve&&en(R,ce),ne;if(te===null){for(;!xe.done;ce++,xe=I.next())xe=z(R,xe.value,P),xe!==null&&(N=m(xe,N,ce),Se===null?ne=xe:Se.sibling=xe,Se=xe);return ve&&en(R,ce),ne}for(te=s(te);!xe.done;ce++,xe=I.next())xe=k(te,R,ce,xe.value,P),xe!==null&&(e&&xe.alternate!==null&&te.delete(xe.key===null?ce:xe.key),N=m(xe,N,ce),Se===null?ne=xe:Se.sibling=xe,Se=xe);return e&&te.forEach(function(uv){return n(R,uv)}),ve&&en(R,ce),ne}function De(R,N,I,P){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var ne=I.key;N!==null;){if(N.key===ne){if(ne=I.type,ne===L){if(N.tag===7){o(R,N.sibling),P=f(N,I.props.children),P.return=R,R=P;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&ii(ne)===N.type){o(R,N.sibling),P=f(N,I.props),Al(P,I),P.return=R,R=P;break e}o(R,N);break}else n(R,N);N=N.sibling}I.type===L?(P=jn(I.props.children,R.mode,P,I.key),P.return=R,R=P):(P=No(I.type,I.key,I.props,null,R.mode,P),Al(P,I),P.return=R,R=P)}return T(R);case M:e:{for(ne=I.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){o(R,N.sibling),P=f(N,I.children||[]),P.return=R,R=P;break e}else{o(R,N);break}else n(R,N);N=N.sibling}P=Ns(I,R.mode,P),P.return=R,R=P}return T(R);case fe:return I=ii(I),De(R,N,I,P)}if(ut(I))return j(R,N,I,P);if(Te(I)){if(ne=Te(I),typeof ne!="function")throw Error(a(150));return I=ne.call(I),ie(R,N,I,P)}if(typeof I.then=="function")return De(R,N,Uo(I),P);if(I.$$typeof===B)return De(R,N,Mo(R,I),P);ko(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(o(R,N.sibling),P=f(N,I),P.return=R,R=P):(o(R,N),P=Cs(I,R.mode,P),P.return=R,R=P),T(R)):o(R,N)}return function(R,N,I,P){try{_l=0;var ne=De(R,N,I,P);return Ui=null,ne}catch(te){if(te===Di||te===wo)throw te;var Se=St(29,te,null,R.mode);return Se.lanes=P,Se.return=R,Se}finally{}}}var oi=sd(!0),rd=sd(!1),Cn=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Co(e),Yc(e,null,o),n}return Ao(e,s,n,o),Co(e)}function Cl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Wu(e,o)}}function zs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=n:m=m.next=n}else f=m=n;o={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var qs=!1;function Nl(){if(qs){var e=wi;if(e!==null)throw e}}function bl(e,n,o,s){qs=!1;var f=e.updateQueue;Cn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var C=_,w=C.next;C.next=null,T===null?m=w:T.next=w,T=C;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==T&&(_===null?V.firstBaseUpdate=w:_.next=w,V.lastBaseUpdate=C))}if(m!==null){var z=f.baseState;T=0,V=w=C=null,_=m;do{var D=_.lane&-536870913,k=D!==_.lane;if(k?(ge&D)===D:(s&D)===D){D!==0&&D===Ii&&(qs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var j=e,ie=_;D=n;var De=o;switch(ie.tag){case 1:if(j=ie.payload,typeof j=="function"){z=j.call(De,z,D);break e}z=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=ie.payload,D=typeof j=="function"?j.call(De,z,D):j,D==null)break e;z=x({},z,D);break e;case 2:Cn=!0}}D=_.callback,D!==null&&(e.flags|=64,k&&(e.flags|=8192),k=f.callbacks,k===null?f.callbacks=[D]:k.push(D))}else k={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(w=V=k,C=z):V=V.next=k,T|=D;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;k=_,_=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);V===null&&(C=z),f.baseState=C,f.firstBaseUpdate=w,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),Dn|=T,e.lanes=T,e.memoizedState=z}}function ud(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cd(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ud(o[e],n)}var ki=b(null),Lo=b(0);function dd(e,n){e=fn,K(Lo,e),K(ki,n),fn=e|n.baseLanes}function Bs(){K(Lo,fn),K(ki,ki.current)}function Os(){fn=Lo.current,q(ki),q(Lo)}var xt=b(null),kt=null;function Rn(e){var n=e.alternate;K(qe,qe.current&1),K(xt,e),kt===null&&(n===null||ki.current!==null||n.memoizedState!==null)&&(kt=e)}function Fs(e){K(qe,qe.current),K(xt,e),kt===null&&(kt=e)}function fd(e){e.tag===22?(K(qe,qe.current),K(xt,e),kt===null&&(kt=e)):Mn()}function Mn(){K(qe,qe.current),K(xt,xt.current)}function _t(e){q(xt),kt===e&&(kt=null),q(qe)}var qe=b(0);function Go(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zr(o)||$r(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ue=null,Ie=null,Ye=null,Ho=!1,Li=!1,ai=!1,Vo=0,Rl=0,Gi=null,W0=0;function Ve(){throw Error(a(321))}function Ys(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Tt(e[o],n[o]))return!1;return!0}function Js(e,n,o,s,f,m){return ln=m,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Qd:sr,ai=!1,m=o(s,f),ai=!1,Li&&(m=md(n,o,s,f)),pd(e),m}function pd(e){G.H=wl;var n=Ie!==null&&Ie.next!==null;if(ln=0,Ye=Ie=ue=null,Ho=!1,Rl=0,Gi=null,n)throw Error(a(300));e===null||Je||(e=e.dependencies,e!==null&&Ro(e)&&(Je=!0))}function md(e,n,o,s){ue=e;var f=0;do{if(Li&&(Gi=null),Rl=0,Li=!1,25<=f)throw Error(a(301));if(f+=1,Ye=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=Zd,m=n(o,s)}while(Li);return m}function ey(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ml(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(ue.flags|=1024),n}function Xs(){var e=Vo!==0;return Vo=0,e}function Ks(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Qs(e){if(Ho){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ho=!1}ln=0,Ye=Ie=ue=null,Li=!1,Rl=Vo=0,Gi=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ue.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Be(){if(Ie===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Ye===null?ue.memoizedState:Ye.next;if(n!==null)Ye=n,Ie=e;else{if(e===null)throw ue.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ye===null?ue.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var n=Rl;return Rl+=1,Gi===null&&(Gi=[]),e=ld(Gi,e,n),n=ue,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Qd:sr),e}function zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===B)return et(e)}throw Error(a(438,String(e)))}function Zs(e){var n=null,o=ue.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Po(),ue.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=Y;return n.index++,o}function on(e,n){return typeof n=="function"?n(e):n}function qo(e){var n=Be();return $s(n,Ie,e)}function $s(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var f=e.baseQueue,m=s.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,s.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var _=T=null,C=null,w=n,V=!1;do{var z=w.lane&-536870913;if(z!==w.lane?(ge&z)===z:(ln&z)===z){var D=w.revertLane;if(D===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),z===Ii&&(V=!0);else if((ln&D)===D){w=w.next,D===Ii&&(V=!0);continue}else z={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(_=C=z,T=m):C=C.next=z,ue.lanes|=D,Dn|=D;z=w.action,ai&&o(m,z),m=w.hasEagerState?w.eagerState:o(m,z)}else D={lane:z,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(_=C=D,T=m):C=C.next=D,ue.lanes|=z,Dn|=z;w=w.next}while(w!==null&&w!==n);if(C===null?T=m:C.next=_,!Tt(m,e.memoizedState)&&(Je=!0,V&&(o=wi,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=C,s.lastRenderedState=m}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var n=Be(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,f=o.pending,m=n.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Tt(m,n.memoizedState)||(Je=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function hd(e,n,o){var s=ue,f=Be(),m=ve;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var T=!Tt((Ie||f).memoizedState,o);if(T&&(f.memoizedState=o,Je=!0),f=f.queue,tr(vd.bind(null,s,f,e),[e]),f.getSnapshot!==n||T||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,Hi(9,{destroy:void 0},yd.bind(null,s,f,o,n),null),ke===null)throw Error(a(349));m||(ln&127)!==0||gd(s,n,o)}return o}function gd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ue.updateQueue,n===null?(n=Po(),ue.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function yd(e,n,o,s){n.value=o,n.getSnapshot=s,Ed(n)&&Td(e)}function vd(e,n,o){return o(function(){Ed(n)&&Td(e)})}function Ed(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Tt(e,o)}catch{return!0}}function Td(e){var n=$n(e,2);n!==null&&gt(n,e,2)}function Ws(e){var n=at();if(typeof e=="function"){var o=e;if(e=o(),ai){vn(!0);try{o()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function Sd(e,n,o,s){return e.baseState=o,$s(e,Ie,typeof s=="function"?s:on)}function ty(e,n,o,s,f){if(Fo(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,xd(n,m)):(m.next=o.next,n.pending=o.next=m)}}function xd(e,n){var o=n.action,s=n.payload,f=e.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var _=o(f,s),C=G.S;C!==null&&C(T,_),_d(e,n,_)}catch(w){er(e,n,w)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=o(f,s),_d(e,n,m)}catch(w){er(e,n,w)}}function _d(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Ad(e,n,s)},function(s){return er(e,n,s)}):Ad(e,n,o)}function Ad(e,n,o){n.status="fulfilled",n.value=o,Cd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,xd(e,o)))}function er(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Cd(n),n=n.next;while(n!==s)}e.action=null}function Cd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Nd(e,n){return n}function bd(e,n){if(ve){var o=ke.formState;if(o!==null){e:{var s=ue;if(ve){if(Le){t:{for(var f=Le,m=Ut;f.nodeType!==8;){if(!m){f=null;break t}if(f=Lt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Le=Lt(f.nextSibling),s=f.data==="F!";break e}}_n(s)}s=!1}s&&(n=o[0])}}return o=at(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:n},o.queue=s,o=Jd.bind(null,ue,s),s.dispatch=o,s=Ws(!1),m=ar.bind(null,ue,!1,s.queue),s=at(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,o=ty.bind(null,ue,f,m,o),f.dispatch=o,s.memoizedState=e,[n,o,!1]}function Rd(e){var n=Be();return Md(n,Ie,e)}function Md(e,n,o){if(n=$s(e,n,Nd)[0],e=qo(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ml(n)}catch(T){throw T===Di?wo:T}else s=n;n=Be();var f=n.queue,m=f.dispatch;return o!==n.memoizedState&&(ue.flags|=2048,Hi(9,{destroy:void 0},ny.bind(null,f,o),null)),[s,m,e]}function ny(e,n){e.action=n}function Id(e){var n=Be(),o=Ie;if(o!==null)return Md(n,o,e);Be(),n=n.memoizedState,o=Be();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Hi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ue.updateQueue,n===null&&(n=Po(),ue.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function wd(){return Be().memoizedState}function Bo(e,n,o,s){var f=at();ue.flags|=e,f.memoizedState=Hi(1|n,{destroy:void 0},o,s===void 0?null:s)}function Oo(e,n,o,s){var f=Be();s=s===void 0?null:s;var m=f.memoizedState.inst;Ie!==null&&s!==null&&Ys(s,Ie.memoizedState.deps)?f.memoizedState=Hi(n,m,o,s):(ue.flags|=e,f.memoizedState=Hi(1|n,m,o,s))}function Dd(e,n){Bo(8390656,8,e,n)}function tr(e,n){Oo(2048,8,e,n)}function iy(e){ue.flags|=4;var n=ue.updateQueue;if(n===null)n=Po(),ue.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Ud(e){var n=Be().memoizedState;return iy({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kd(e,n){return Oo(4,2,e,n)}function Ld(e,n){return Oo(4,4,e,n)}function Gd(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hd(e,n,o){o=o!=null?o.concat([e]):null,Oo(4,4,Gd.bind(null,n,e),o)}function nr(){}function Vd(e,n){var o=Be();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Ys(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Pd(e,n){var o=Be();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Ys(n,s[1]))return s[0];if(s=e(),ai){vn(!0);try{e()}finally{vn(!1)}}return o.memoizedState=[s,n],s}function ir(e,n,o){return o===void 0||(ln&1073741824)!==0&&(ge&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=qf(),ue.lanes|=e,Dn|=e,o)}function zd(e,n,o,s){return Tt(o,n)?o:ki.current!==null?(e=ir(e,o,s),Tt(e,n)||(Je=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(ge&261930)===0?(Je=!0,e.memoizedState=o):(e=qf(),ue.lanes|=e,Dn|=e,n)}function qd(e,n,o,s,f){var m=J.p;J.p=m!==0&&8>m?m:8;var T=G.T,_={};G.T=_,ar(e,!1,n,o);try{var C=f(),w=G.S;if(w!==null&&w(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=j0(C,s);Il(e,n,V,Nt(e))}else Il(e,n,s,Nt(e))}catch(z){Il(e,n,{then:function(){},status:"rejected",reason:z},Nt())}finally{J.p=m,T!==null&&_.types!==null&&(T.types=_.types),G.T=T}}function ly(){}function lr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var f=Bd(e).queue;qd(e,f,n,oe,o===null?ly:function(){return Od(e),o(s)})}function Bd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:oe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Od(e){var n=Bd(e);n.next===null&&(n=e.alternate.memoizedState),Il(e,n.next.queue,{},Nt())}function or(){return et(Xl)}function Fd(){return Be().memoizedState}function Yd(){return Be().memoizedState}function oy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Nt();e=Nn(o);var s=bn(n,e,o);s!==null&&(gt(s,n,o),Cl(s,n,o)),n={cache:ks()},e.payload=n;return}n=n.return}}function ay(e,n,o){var s=Nt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fo(e)?Xd(n,o):(o=_s(e,n,o,s),o!==null&&(gt(o,e,s),Kd(o,n,s)))}function Jd(e,n,o){var s=Nt();Il(e,n,o,s)}function Il(e,n,o,s){var f={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))Xd(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,o);if(f.hasEagerState=!0,f.eagerState=_,Tt(_,T))return Ao(e,n,f,0),ke===null&&_o(),!1}catch{}finally{}if(o=_s(e,n,f,s),o!==null)return gt(o,e,s),Kd(o,n,s),!0}return!1}function ar(e,n,o,s){if(s={lane:2,revertLane:Vr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(n)throw Error(a(479))}else n=_s(e,o,s,2),n!==null&&gt(n,e,2)}function Fo(e){var n=e.alternate;return e===ue||n!==null&&n===ue}function Xd(e,n){Li=Ho=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Kd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Wu(e,o)}}var wl={readContext:et,use:zo,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};wl.useEffectEvent=Ve;var Qd={readContext:et,use:zo,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:et,useEffect:Dd,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Bo(4194308,4,Gd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Bo(4194308,4,e,n)},useInsertionEffect:function(e,n){Bo(4,2,e,n)},useMemo:function(e,n){var o=at();n=n===void 0?null:n;var s=e();if(ai){vn(!0);try{e()}finally{vn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=at();if(o!==void 0){var f=o(n);if(ai){vn(!0);try{o(n)}finally{vn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=ay.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=Ws(e);var n=e.queue,o=Jd.bind(null,ue,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:nr,useDeferredValue:function(e,n){var o=at();return ir(o,e,n)},useTransition:function(){var e=Ws(!1);return e=qd.bind(null,ue,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ue,f=at();if(ve){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),ke===null)throw Error(a(349));(ge&127)!==0||gd(s,n,o)}f.memoizedState=o;var m={value:o,getSnapshot:n};return f.queue=m,Dd(vd.bind(null,s,m,e),[e]),s.flags|=2048,Hi(9,{destroy:void 0},yd.bind(null,s,m,o,n),null),o},useId:function(){var e=at(),n=ke.identifierPrefix;if(ve){var o=Xt,s=Jt;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Vo++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=W0++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:or,useFormState:bd,useActionState:bd,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=ar.bind(null,ue,!0,o),o.dispatch=n,[e,n]},useMemoCache:Zs,useCacheRefresh:function(){return at().memoizedState=oy.bind(null,ue)},useEffectEvent:function(e){var n=at(),o={impl:e};return n.memoizedState=o,function(){if((Ae&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},sr={readContext:et,use:zo,useCallback:Vd,useContext:et,useEffect:tr,useImperativeHandle:Hd,useInsertionEffect:kd,useLayoutEffect:Ld,useMemo:Pd,useReducer:qo,useRef:wd,useState:function(){return qo(on)},useDebugValue:nr,useDeferredValue:function(e,n){var o=Be();return zd(o,Ie.memoizedState,e,n)},useTransition:function(){var e=qo(on)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:or,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,n){var o=Be();return Sd(o,Ie,e,n)},useMemoCache:Zs,useCacheRefresh:Yd};sr.useEffectEvent=Ud;var Zd={readContext:et,use:zo,useCallback:Vd,useContext:et,useEffect:tr,useImperativeHandle:Hd,useInsertionEffect:kd,useLayoutEffect:Ld,useMemo:Pd,useReducer:js,useRef:wd,useState:function(){return js(on)},useDebugValue:nr,useDeferredValue:function(e,n){var o=Be();return Ie===null?ir(o,e,n):zd(o,Ie.memoizedState,e,n)},useTransition:function(){var e=js(on)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:or,useFormState:Id,useActionState:Id,useOptimistic:function(e,n){var o=Be();return Ie!==null?Sd(o,Ie,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Zs,useCacheRefresh:Yd};Zd.useEffectEvent=Ud;function rr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:x({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ur={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Nt(),f=Nn(s);f.payload=n,o!=null&&(f.callback=o),n=bn(e,f,s),n!==null&&(gt(n,e,s),Cl(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Nt(),f=Nn(s);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=bn(e,f,s),n!==null&&(gt(n,e,s),Cl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Nt(),s=Nn(o);s.tag=2,n!=null&&(s.callback=n),n=bn(e,s,o),n!==null&&(gt(n,e,o),Cl(n,e,o))}};function $d(e,n,o,s,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!yl(o,s)||!yl(f,m):!0}function jd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&ur.enqueueReplaceState(n,n.state,null)}function si(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=x({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Wd(e){xo(e)}function ef(e){console.error(e)}function tf(e){xo(e)}function Yo(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function nf(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cr(e,n,o){return o=Nn(o),o.tag=3,o.payload={element:null},o.callback=function(){Yo(e,n)},o}function lf(e){return e=Nn(e),e.tag=3,e}function of(e,n,o,s){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;e.payload=function(){return f(m)},e.callback=function(){nf(n,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){nf(n,o,s),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function sy(e,n,o,s,f){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Mi(n,o,f,!0),o=xt.current,o!==null){switch(o.tag){case 31:case 13:return kt===null?ia():o.alternate===null&&Pe===0&&(Pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,s===Do?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Lr(e,s,f)),!1;case 22:return o.flags|=65536,s===Do?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Lr(e,s,f)),!1}throw Error(a(435,o.tag))}return Lr(e,s,f),ia(),!1}if(ve)return n=xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Ms&&(e=Error(a(422),{cause:s}),Tl(It(e,o)))):(s!==Ms&&(n=Error(a(423),{cause:s}),Tl(It(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=It(s,o),f=cr(e.stateNode,s,f),zs(e,f),Pe!==4&&(Pe=2)),!1;var m=Error(a(520),{cause:s});if(m=It(m,o),Pl===null?Pl=[m]:Pl.push(m),Pe!==4&&(Pe=2),n===null)return!0;s=It(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=cr(o.stateNode,s,e),zs(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=lf(f),of(f,e,o,s),zs(o,f),!1}o=o.return}while(o!==null);return!1}var dr=Error(a(461)),Je=!1;function tt(e,n,o,s){n.child=e===null?rd(n,null,o,s):oi(n,e.child,o,s)}function af(e,n,o,s,f){o=o.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return ti(n),s=Js(e,n,o,T,m,f),_=Xs(),e!==null&&!Je?(Ks(e,n,f),an(e,n,f)):(ve&&_&&bs(n),n.flags|=1,tt(e,n,s,f),n.child)}function sf(e,n,o,s,f){if(e===null){var m=o.type;return typeof m=="function"&&!As(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,rf(e,n,m,s,f)):(e=No(o.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Er(e,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(T,s)&&e.ref===n.ref)return an(e,n,f)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function rf(e,n,o,s,f){if(e!==null){var m=e.memoizedProps;if(yl(m,s)&&e.ref===n.ref)if(Je=!1,n.pendingProps=s=m,Er(e,f))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,an(e,n,f)}return fr(e,n,o,s,f)}function uf(e,n,o,s){var f=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~m}else s=0,n.child=null;return cf(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Io(n,m!==null?m.cachePool:null),m!==null?dd(n,m):Bs(),fd(n);else return s=n.lanes=536870912,cf(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(Io(n,m.cachePool),dd(n,m),Mn(),n.memoizedState=null):(e!==null&&Io(n,null),Bs(),Mn());return tt(e,n,f,o),n.child}function Dl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cf(e,n,o,s,f){var m=Gs();return m=m===null?null:{parent:Fe._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Io(n,null),Bs(),fd(n),e!==null&&Mi(e,n,s,!0),n.childLanes=f,null}function Jo(e,n){return n=Ko({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function df(e,n,o){return oi(n,e.child,null,o),e=Jo(n,n.pendingProps),e.flags|=2,_t(n),n.memoizedState=null,e}function ry(e,n,o){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ve){if(s.mode==="hidden")return e=Jo(n,s),n.lanes=536870912,Dl(null,e);if(Fs(n),(e=Le)?(e=_p(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},o=Xc(e),o.return=n,n.child=o,We=n,Le=null)):e=null,e===null)throw _n(n);return n.lanes=536870912,null}return Jo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Fs(n),f)if(n.flags&256)n.flags&=-257,n=df(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Je||Mi(e,n,o,!1),f=(o&e.childLanes)!==0,Je||f){if(s=ke,s!==null&&(T=ec(s,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,$n(e,T),gt(s,e,T),dr;ia(),n=df(e,n,o)}else e=m.treeContext,Le=Lt(T.nextSibling),We=n,ve=!0,xn=null,Ut=!1,e!==null&&Zc(n,e),n=Jo(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xo(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function fr(e,n,o,s,f){return ti(n),o=Js(e,n,o,s,void 0,f),s=Xs(),e!==null&&!Je?(Ks(e,n,f),an(e,n,f)):(ve&&s&&bs(n),n.flags|=1,tt(e,n,o,f),n.child)}function ff(e,n,o,s,f,m){return ti(n),n.updateQueue=null,o=md(n,s,o,f),pd(e),s=Xs(),e!==null&&!Je?(Ks(e,n,m),an(e,n,m)):(ve&&s&&bs(n),n.flags|=1,tt(e,n,o,m),n.child)}function pf(e,n,o,s,f){if(ti(n),n.stateNode===null){var m=Ci,T=o.contextType;typeof T=="object"&&T!==null&&(m=et(T)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ur,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Vs(n),T=o.contextType,m.context=typeof T=="object"&&T!==null?et(T):Ci,m.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rr(n,o,T,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ur.enqueueReplaceState(m,m.state,null),bl(n,s,m,f),Nl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,C=si(o,_);m.props=C;var w=m.context,V=o.contextType;T=Ci,typeof V=="object"&&V!==null&&(T=et(V));var z=o.getDerivedStateFromProps;V=typeof z=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||w!==T)&&jd(n,m,s,T),Cn=!1;var D=n.memoizedState;m.state=D,bl(n,s,m,f),Nl(),w=n.memoizedState,_||D!==w||Cn?(typeof z=="function"&&(rr(n,o,z,s),w=n.memoizedState),(C=Cn||$d(n,o,C,s,D,w,T))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=w),m.props=s,m.state=w,m.context=T,s=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Ps(e,n),T=n.memoizedProps,V=si(o,T),m.props=V,z=n.pendingProps,D=m.context,w=o.contextType,C=Ci,typeof w=="object"&&w!==null&&(C=et(w)),_=o.getDerivedStateFromProps,(w=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==z||D!==C)&&jd(n,m,s,C),Cn=!1,D=n.memoizedState,m.state=D,bl(n,s,m,f),Nl();var k=n.memoizedState;T!==z||D!==k||Cn||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof _=="function"&&(rr(n,o,_,s),k=n.memoizedState),(V=Cn||$d(n,o,V,s,D,k,C)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(w||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,k,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,k,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=k),m.props=s,m.state=k,m.context=C,s=V):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Xo(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=oi(n,e.child,null,f),n.child=oi(n,null,o,f)):tt(e,n,o,f),n.memoizedState=m.state,e=n.child):e=an(e,n,f),e}function mf(e,n,o,s){return Wn(),n.flags|=256,tt(e,n,o,s),n.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:nd()}}function hr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Ct),e}function hf(e,n,o){var s=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(ve){if(f?Rn(n):Mn(),(e=Le)?(e=_p(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},o=Xc(e),o.return=n,n.child=o,We=n,Le=null)):e=null,e===null)throw _n(n);return $r(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(Mn(),f=n.mode,_=Ko({mode:"hidden",children:_},f),s=jn(s,f,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=mr(o),s.childLanes=hr(e,T,o),n.memoizedState=pr,Dl(null,s)):(Rn(n),gr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)n.flags&256?(Rn(n),n.flags&=-257,n=yr(e,n,o)):n.memoizedState!==null?(Mn(),n.child=e.child,n.flags|=128,n=null):(Mn(),_=s.fallback,f=n.mode,s=Ko({mode:"visible",children:s.children},f),_=jn(_,f,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,oi(n,e.child,null,o),s=n.child,s.memoizedState=mr(o),s.childLanes=hr(e,T,o),n.memoizedState=pr,n=Dl(null,s));else if(Rn(n),$r(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var w=T.dgst;T=w,s=Error(a(419)),s.stack="",s.digest=T,Tl({value:s,source:null,stack:null}),n=yr(e,n,o)}else if(Je||Mi(e,n,o,!1),T=(o&e.childLanes)!==0,Je||T){if(T=ke,T!==null&&(s=ec(T,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,$n(e,s),gt(T,e,s),dr;Zr(_)||ia(),n=yr(e,n,o)}else Zr(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Le=Lt(_.nextSibling),We=n,ve=!0,xn=null,Ut=!1,e!==null&&Zc(n,e),n=gr(n,s.children),n.flags|=4096);return n}return f?(Mn(),_=s.fallback,f=n.mode,C=e.child,w=C.sibling,s=Wt(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,w!==null?_=Wt(w,_):(_=jn(_,f,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Dl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=mr(o):(f=_.cachePool,f!==null?(C=Fe._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=nd(),_={baseLanes:_.baseLanes|o,cachePool:f}),s.memoizedState=_,s.childLanes=hr(e,T,o),n.memoizedState=pr,Dl(e.child,s)):(Rn(n),o=e.child,e=o.sibling,o=Wt(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function gr(e,n){return n=Ko({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ko(e,n){return e=St(22,e,null,n),e.lanes=0,e}function yr(e,n,o){return oi(n,e.child,null,o),e=gr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gf(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ds(e.return,n,o)}function vr(e,n,o,s,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function yf(e,n,o){var s=n.pendingProps,f=s.revealOrder,m=s.tail;s=s.children;var T=qe.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,K(qe,T),tt(e,n,s,o),s=ve?El:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,o,n);else if(e.tag===19)gf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&Go(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),vr(n,!1,f,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Go(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}vr(n,!0,o,null,m,s);break;case"together":vr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Dn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Mi(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Wt(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Wt(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Er(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function uy(e,n,o){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),An(n,Fe,e.memoizedState.cache),Wn();break;case 27:case 5:ll(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Rn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?hf(e,n,o):(Rn(n),e=an(e,n,o),e!==null?e.sibling:null);Rn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Mi(e,n,o,!1),s=(o&n.childLanes)!==0),f){if(s)return yf(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(qe,qe.current),s)break;return null;case 22:return n.lanes=0,uf(e,n,o,n.pendingProps);case 24:An(n,Fe,e.memoizedState.cache)}return an(e,n,o)}function vf(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!Er(e,o)&&(n.flags&128)===0)return Je=!1,uy(e,n,o);Je=(e.flags&131072)!==0}else Je=!1,ve&&(n.flags&1048576)!==0&&Qc(n,El,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ii(n.elementType),n.type=e,typeof e=="function")As(e)?(s=si(e,s),n.tag=1,n=pf(null,n,e,s,o)):(n.tag=0,n=fr(null,n,e,s,o));else{if(e!=null){var f=e.$$typeof;if(f===X){n.tag=11,n=af(null,n,e,s,o);break e}else if(f===F){n.tag=14,n=sf(null,n,e,s,o);break e}}throw n=Oe(e)||e,Error(a(306,n,""))}}return n;case 0:return fr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,f=si(s,n.pendingProps),pf(e,n,s,f,o);case 3:e:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;f=m.element,Ps(e,n),bl(n,s,null,o);var T=n.memoizedState;if(s=T.cache,An(n,Fe,s),s!==m.cache&&Us(n,[Fe],o,!0),Nl(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=mf(e,n,s,o);break e}else if(s!==f){f=It(Error(a(424)),n),Tl(f),n=mf(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Lt(e.firstChild),We=n,ve=!0,xn=null,Ut=!0,o=rd(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wn(),s===f){n=an(e,n,o);break e}tt(e,n,s,o)}n=n.child}return n;case 26:return Xo(e,n),e===null?(o=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=o:ve||(o=n.type,e=n.pendingProps,s=ca(pe.current).createElement(o),s[je]=n,s[ct]=e,nt(s,o,e),Qe(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ll(n),e===null&&ve&&(s=n.stateNode=Np(n.type,n.pendingProps,pe.current),We=n,Ut=!0,f=Le,Hn(n.type)?(jr=f,Le=Lt(s.firstChild)):Le=f),tt(e,n,n.pendingProps.children,o),Xo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ve&&((f=s=Le)&&(s=Py(s,n.type,n.pendingProps,Ut),s!==null?(n.stateNode=s,We=n,Le=Lt(s.firstChild),Ut=!1,f=!0):f=!1),f||_n(n)),ll(n),f=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Xr(f,m)?s=null:T!==null&&Xr(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Js(e,n,ey,null,null,o),Xl._currentValue=f),Xo(e,n),tt(e,n,s,o),n.child;case 6:return e===null&&ve&&((e=o=Le)&&(o=zy(o,n.pendingProps,Ut),o!==null?(n.stateNode=o,We=n,Le=null,e=!0):e=!1),e||_n(n)),null;case 13:return hf(e,n,o);case 4:return ot(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=oi(n,null,s,o):tt(e,n,s,o),n.child;case 11:return af(e,n,n.type,n.pendingProps,o);case 7:return tt(e,n,n.pendingProps,o),n.child;case 8:return tt(e,n,n.pendingProps.children,o),n.child;case 12:return tt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),tt(e,n,s.children,o),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ti(n),f=et(f),s=s(f),n.flags|=1,tt(e,n,s,o),n.child;case 14:return sf(e,n,n.type,n.pendingProps,o);case 15:return rf(e,n,n.type,n.pendingProps,o);case 19:return yf(e,n,o);case 31:return ry(e,n,o);case 22:return uf(e,n,o,n.pendingProps);case 24:return ti(n),s=et(Fe),e===null?(f=Gs(),f===null&&(f=ke,m=ks(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),n.memoizedState={parent:s,cache:f},Vs(n),An(n,Fe,f)):((e.lanes&o)!==0&&(Ps(e,n),bl(n,null,null,o),Nl()),f=e.memoizedState,m=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),An(n,Fe,s)):(s=m.cache,An(n,Fe,s),s!==f.cache&&Us(n,[Fe],o,!0))),tt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Tr(e,n,o,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Yf())e.flags|=8192;else throw li=Do,Hs}else e.flags&=-16777217}function Ef(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Yf())e.flags|=8192;else throw li=Do,Hs}function Qo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$u():536870912,e.lanes|=n,qi|=n)}function Ul(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function cy(e,n,o){var s=n.pendingProps;switch(Rs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(Fe),ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ri(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Is())),Ge(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(sn(n),m!==null?(Ge(n),Ef(n,m)):(Ge(n),Tr(n,f,null,s,o))):m?m!==e.memoizedState?(sn(n),Ge(n),Ef(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),Ge(n),Tr(n,f,e,s,o)),null;case 27:if(oo(n),o=pe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=W.current,Ri(n)?$c(n):(e=Np(f,s,o),n.stateNode=e,sn(n))}return Ge(n),null;case 5:if(oo(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=W.current,Ri(n))$c(n);else{var T=ca(pe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}m[je]=n,m[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(nt(m,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return Ge(n),Tr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=pe.current,Ri(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,f=We,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[je]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||hp(e.nodeValue,o)),e||_n(n,!0)}else e=ca(e).createTextNode(s),e[je]=n,n.stateNode=e}return Ge(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ri(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else o=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(_t(n),n):(_t(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ri(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),f=!1}else f=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(_t(n),n):(_t(n),null)}return _t(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Qo(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Br(n.stateNode.containerInfo),Ge(n),null;case 10:return nn(n.type),Ge(n),null;case 19:if(q(qe),s=n.memoizedState,s===null)return Ge(n),null;if(f=(n.flags&128)!==0,m=s.rendering,m===null)if(f)Ul(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Go(e),m!==null){for(n.flags|=128,Ul(s,!1),e=m.updateQueue,n.updateQueue=e,Qo(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Jc(o,e),o=o.sibling;return K(qe,qe.current&1|2),ve&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>ea&&(n.flags|=128,f=!0,Ul(s,!1),n.lanes=4194304)}else{if(!f)if(e=Go(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Qo(n,e),Ul(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ve)return Ge(n),null}else 2*yt()-s.renderingStartTime>ea&&o!==536870912&&(n.flags|=128,f=!0,Ul(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,o=qe.current,K(qe,f?o&1|2:o&1),ve&&en(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return _t(n),Os(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),o=n.updateQueue,o!==null&&Qo(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&q(ni),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),nn(Fe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function dy(e,n){switch(Rs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(Fe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oo(n),null;case 31:if(n.memoizedState!==null){if(_t(n),n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_t(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(qe),null;case 4:return ze(),null;case 10:return nn(n.type),null;case 22:case 23:return _t(n),Os(),e!==null&&q(ni),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(Fe),null;case 25:return null;default:return null}}function Tf(e,n){switch(Rs(n),n.tag){case 3:nn(Fe),ze();break;case 26:case 27:case 5:oo(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&_t(n);break;case 13:_t(n);break;case 19:q(qe);break;case 10:nn(n.type);break;case 22:case 23:_t(n),Os(),e!==null&&q(ni);break;case 24:nn(Fe)}}function kl(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var f=s.next;o=f;do{if((o.tag&e)===e){s=void 0;var m=o.create,T=o.inst;s=m(),T.destroy=s}o=o.next}while(o!==f)}}catch(_){Re(n,n.return,_)}}function In(e,n,o){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var m=f.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,f=n;var C=o,w=_;try{w()}catch(V){Re(f,C,V)}}}s=s.next}while(s!==m)}}catch(V){Re(n,n.return,V)}}function Sf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{cd(n,o)}catch(s){Re(e,e.return,s)}}}function xf(e,n,o){o.props=si(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Re(e,n,s)}}function Ll(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(f){Re(e,n,f)}}function Kt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(f){Re(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Re(e,n,f)}else o.current=null}function _f(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(f){Re(e,e.return,f)}}function Sr(e,n,o){try{var s=e.stateNode;Uy(s,e.type,o,n),s[ct]=n}catch(f){Re(e,e.return,f)}}function Af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _r(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&Hn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(_r(e,n,o),e=e.sibling;e!==null;)_r(e,n,o),e=e.sibling}function Zo(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Zo(e,n,o),e=e.sibling;e!==null;)Zo(e,n,o),e=e.sibling}function Cf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);nt(n,s,o),n[je]=e,n[ct]=o}catch(m){Re(e,e.return,m)}}var rn=!1,Xe=!1,Ar=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function fy(e,n){if(e=e.containerInfo,Yr=ya,e=Hc(e),ys(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var f=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,_=-1,C=-1,w=0,V=0,z=e,D=null;t:for(;;){for(var k;z!==o||f!==0&&z.nodeType!==3||(_=T+f),z!==m||s!==0&&z.nodeType!==3||(C=T+s),z.nodeType===3&&(T+=z.nodeValue.length),(k=z.firstChild)!==null;)D=z,z=k;for(;;){if(z===e)break t;if(D===o&&++w===f&&(_=T),D===m&&++V===s&&(C=T),(k=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=k}o=_===-1||C===-1?null:{start:_,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jr={focusedElem:e,selectionRange:o},ya=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,f=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var j=si(o.type,f);e=s.getSnapshotBeforeUpdate(j,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(o,o.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Qr(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function bf(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:cn(e,o),s&4&&kl(5,o);break;case 1:if(cn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){Re(o,o.return,T)}else{var f=si(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Re(o,o.return,T)}}s&64&&Sf(o),s&512&&Ll(o,o.return);break;case 3:if(cn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{cd(e,n)}catch(T){Re(o,o.return,T)}}break;case 27:n===null&&s&4&&Cf(o);case 26:case 5:cn(e,o),n===null&&s&4&&_f(o),s&512&&Ll(o,o.return);break;case 12:cn(e,o);break;case 31:cn(e,o),s&4&&If(e,o);break;case 13:cn(e,o),s&4&&wf(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Sy.bind(null,o),qy(e,o))));break;case 22:if(s=o.memoizedState!==null||rn,!s){n=n!==null&&n.memoizedState!==null||Xe,f=rn;var m=Xe;rn=s,(Xe=n)&&!m?dn(e,o,(o.subtreeFlags&8772)!==0):cn(e,o),rn=f,Xe=m}break;case 30:break;default:cn(e,o)}}function Rf(e){var n=e.alternate;n!==null&&(e.alternate=null,Rf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&es(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,ft=!1;function un(e,n,o){for(o=o.child;o!==null;)Mf(e,n,o),o=o.sibling}function Mf(e,n,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ol,o)}catch{}switch(o.tag){case 26:Xe||Kt(o,n),un(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Xe||Kt(o,n);var s=He,f=ft;Hn(o.type)&&(He=o.stateNode,ft=!1),un(e,n,o),Fl(o.stateNode),He=s,ft=f;break;case 5:Xe||Kt(o,n);case 6:if(s=He,f=ft,He=null,un(e,n,o),He=s,ft=f,He!==null)if(ft)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(o.stateNode)}catch(m){Re(o,n,m)}else try{He.removeChild(o.stateNode)}catch(m){Re(o,n,m)}break;case 18:He!==null&&(ft?(e=He,Sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Qi(e)):Sp(He,o.stateNode));break;case 4:s=He,f=ft,He=o.stateNode.containerInfo,ft=!0,un(e,n,o),He=s,ft=f;break;case 0:case 11:case 14:case 15:In(2,o,n),Xe||In(4,o,n),un(e,n,o);break;case 1:Xe||(Kt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&xf(o,n,s)),un(e,n,o);break;case 21:un(e,n,o);break;case 22:Xe=(s=Xe)||o.memoizedState!==null,un(e,n,o),Xe=s;break;default:un(e,n,o)}}function If(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(o){Re(n,n.return,o)}}}function wf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(o){Re(n,n.return,o)}}function py(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Nf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Nf),n;default:throw Error(a(435,e.tag))}}function $o(e,n){var o=py(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var f=xy.bind(null,e,s);s.then(f,f)}})}function pt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var f=o[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){He=_.stateNode,ft=!1;break e}break;case 5:He=_.stateNode,ft=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,ft=!0;break e}_=_.return}if(He===null)throw Error(a(160));Mf(m,T,f),He=null,ft=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Df(n,e),n=n.sibling}var qt=null;function Df(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(In(3,e,e.return),kl(3,e),In(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Xe||o===null||Kt(o,o.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var f=qt;if(pt(n,e),mt(e),s&512&&(Xe||o===null||Kt(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":m=f.getElementsByTagName("title")[0],(!m||m[rl]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(s),f.head.insertBefore(m,f.querySelector("head > title"))),nt(m,s,o),m[je]=e,Qe(m),s=m;break e;case"link":var T=Dp("link","href",f).get(s+(o.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(_,1);break t}}m=f.createElement(s),nt(m,s,o),f.head.appendChild(m);break;case"meta":if(T=Dp("meta","content",f).get(s+(o.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(_,1);break t}}m=f.createElement(s),nt(m,s,o),f.head.appendChild(m);break;default:throw Error(a(468,s))}m[je]=e,Qe(m),s=m}e.stateNode=s}else Up(f,e.type,e.stateNode);else e.stateNode=wp(f,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?Up(f,e.type,e.stateNode):wp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,o.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Xe||o===null||Kt(o,o.return)),o!==null&&s&4&&Sr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Xe||o===null||Kt(o,o.return)),e.flags&32){f=e.stateNode;try{vi(f,"")}catch(j){Re(e,e.return,j)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Sr(e,f,o!==null?o.memoizedProps:f)),s&1024&&(Ar=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(j){Re(e,e.return,j)}}break;case 3:if(pa=null,f=qt,qt=da(n.containerInfo),pt(n,e),qt=f,mt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Qi(n.containerInfo)}catch(j){Re(e,e.return,j)}Ar&&(Ar=!1,Uf(e));break;case 4:s=qt,qt=da(e.stateNode.containerInfo),pt(n,e),mt(e),qt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wo=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 22:f=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,w=rn,V=Xe;if(rn=w||f,Xe=V||C,pt(n,e),Xe=V,rn=w,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||C||rn||Xe||ri(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(m=C.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=C.stateNode;var z=C.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(j){Re(C,C.return,j)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(j){Re(C,C.return,j)}}}else if(n.tag===18){if(o===null){C=n;try{var k=C.stateNode;f?xp(k,!0):xp(C.stateNode,!1)}catch(j){Re(C,C.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,$o(e,o))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Af(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=xr(e);Zo(e,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(vi(T,""),o.flags&=-33);var _=xr(e);Zo(e,_,T);break;case 3:case 4:var C=o.stateNode.containerInfo,w=xr(e);_r(e,w,C);break;default:throw Error(a(161))}}catch(V){Re(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bf(e,n.alternate,n),n=n.sibling}function ri(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ri(n);break;case 1:Kt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&xf(n,n.return,o),ri(n);break;case 27:Fl(n.stateNode);case 26:case 5:Kt(n,n.return),ri(n);break;case 22:n.memoizedState===null&&ri(n);break;case 30:ri(n);break;default:ri(n)}e=e.sibling}}function dn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:dn(f,m,o),kl(4,m);break;case 1:if(dn(f,m,o),s=m,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(w){Re(s,s.return,w)}if(s=m,f=s.updateQueue,f!==null){var _=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ud(C[f],_)}catch(w){Re(s,s.return,w)}}o&&T&64&&Sf(m),Ll(m,m.return);break;case 27:Cf(m);case 26:case 5:dn(f,m,o),o&&s===null&&T&4&&_f(m),Ll(m,m.return);break;case 12:dn(f,m,o);break;case 31:dn(f,m,o),o&&T&4&&If(f,m);break;case 13:dn(f,m,o),o&&T&4&&wf(f,m);break;case 22:m.memoizedState===null&&dn(f,m,o),Ll(m,m.return);break;case 30:break;default:dn(f,m,o)}n=n.sibling}}function Cr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Sl(o))}function Nr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e))}function Bt(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kf(e,n,o,s),n=n.sibling}function kf(e,n,o,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,o,s),f&2048&&kl(9,n);break;case 1:Bt(e,n,o,s);break;case 3:Bt(e,n,o,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e)));break;case 12:if(f&2048){Bt(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Re(n,n.return,C)}}else Bt(e,n,o,s);break;case 31:Bt(e,n,o,s);break;case 13:Bt(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Bt(e,n,o,s):Gl(e,n):m._visibility&2?Bt(e,n,o,s):(m._visibility|=2,Vi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Cr(T,n);break;case 24:Bt(e,n,o,s),f&2048&&Nr(n.alternate,n);break;default:Bt(e,n,o,s)}}function Vi(e,n,o,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=o,C=s,w=T.flags;switch(T.tag){case 0:case 11:case 15:Vi(m,T,_,C,f),kl(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?Vi(m,T,_,C,f):Gl(m,T):(V._visibility|=2,Vi(m,T,_,C,f)),f&&w&2048&&Cr(T.alternate,T);break;case 24:Vi(m,T,_,C,f),f&&w&2048&&Nr(T.alternate,T);break;default:Vi(m,T,_,C,f)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,f=s.flags;switch(s.tag){case 22:Gl(o,s),f&2048&&Cr(s.alternate,s);break;case 24:Gl(o,s),f&2048&&Nr(s.alternate,s);break;default:Gl(o,s)}n=n.sibling}}var Hl=8192;function Pi(e,n,o){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)Lf(e,n,o),e=e.sibling}function Lf(e,n,o){switch(e.tag){case 26:Pi(e,n,o),e.flags&Hl&&e.memoizedState!==null&&Wy(o,qt,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,n,o);break;case 3:case 4:var s=qt;qt=da(e.stateNode.containerInfo),Pi(e,n,o),qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hl,Hl=16777216,Pi(e,n,o),Hl=s):Pi(e,n,o));break;default:Pi(e,n,o)}}function Gf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Ze=s,Vf(s,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hf(e),e=e.sibling}function Hf(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&In(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jo(e)):Vl(e);break;default:Vl(e)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Ze=s,Vf(s,e)}Gf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),jo(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,jo(n));break;default:jo(n)}e=e.sibling}}function Vf(e,n){for(;Ze!==null;){var o=Ze;switch(o.tag){case 0:case 11:case 15:In(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Ze=s;else e:for(o=e;Ze!==null;){s=Ze;var f=s.sibling,m=s.return;if(Rf(s),s===o){Ze=null;break e}if(f!==null){f.return=m,Ze=f;break e}Ze=m}}}var my={getCacheForType:function(e){var n=et(Fe),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return et(Fe).controller.signal}},hy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ke=null,me=null,ge=0,be=0,At=null,wn=!1,zi=!1,br=!1,fn=0,Pe=0,Dn=0,ui=0,Rr=0,Ct=0,qi=0,Pl=null,ht=null,Mr=!1,Wo=0,Pf=0,ea=1/0,ta=null,Un=null,Ke=0,kn=null,Bi=null,pn=0,Ir=0,wr=null,zf=null,zl=0,Dr=null;function Nt(){return(Ae&2)!==0&&ge!==0?ge&-ge:G.T!==null?Vr():tc()}function qf(){if(Ct===0)if((ge&536870912)===0||ve){var e=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Ct=e}else Ct=536870912;return e=xt.current,e!==null&&(e.flags|=32),Ct}function gt(e,n,o){(e===ke&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Oi(e,0),Ln(e,ge,Ct,!1)),sl(e,o),((Ae&2)===0||e!==ke)&&(e===ke&&((Ae&2)===0&&(ui|=o),Pe===4&&Ln(e,ge,Ct,!1)),Qt(e))}function Bf(e,n,o){if((Ae&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||al(e,n),f=s?vy(e,n):kr(e,n,!0),m=s;do{if(f===0){zi&&!s&&Ln(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!gy(o)){f=kr(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;f=Pl;var C=_.current.memoizedState.isDehydrated;if(C&&(Oi(_,T).flags|=256),T=kr(_,T,!1),T!==2){if(br&&!C){_.errorRecoveryDisabledLanes|=m,ui|=m,f=4;break e}m=ht,ht=f,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Oi(e,0),Ln(e,n,0,!0);break}e:{switch(s=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ln(s,n,Ct,!wn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Wo+300-yt(),10<f)){if(Ln(s,n,Ct,!wn),co(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=Ep(Of.bind(null,s,o,ht,ta,Mr,n,Ct,ui,qi,wn,m,"Throttled",-0,0),f);break e}Of(s,o,ht,ta,Mr,n,Ct,ui,qi,wn,m,null,-0,0)}}break}while(!0);Qt(e)}function Of(e,n,o,s,f,m,T,_,C,w,V,z,D,k){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Lf(n,m,z);var j=(m&62914560)===m?Wo-yt():(m&4194048)===m?Pf-yt():0;if(j=ev(z,j),j!==null){pn=m,e.cancelPendingCommit=j($f.bind(null,e,n,m,o,s,f,T,_,C,V,z,null,D,k)),Ln(e,m,T,!w);return}}$f(e,n,m,o,s,f,T,_,C)}function gy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var f=o[s],m=f.getSnapshot;f=f.value;try{if(!Tt(m(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n,o,s){n&=~Rr,n&=~ui,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var m=31-Et(f),T=1<<m;s[m]=-1,f&=~T}o!==0&&ju(e,o,n)}function na(){return(Ae&6)===0?(ql(0),!1):!0}function Ur(){if(me!==null){if(be===0)var e=me.return;else e=me,tn=ei=null,Qs(e),Ui=null,_l=0,e=me;for(;e!==null;)Tf(e.alternate,e),e=e.return;me=null}}function Oi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Gy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),pn=0,Ur(),ke=e,me=o=Wt(e.current,null),ge=n,be=0,At=null,wn=!1,zi=al(e,n),br=!1,qi=Ct=Rr=ui=Dn=Pe=0,ht=Pl=null,Mr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Et(s),m=1<<f;n|=e[f],s&=~m}return fn=n,_o(),o}function Ff(e,n){ue=null,G.H=wl,n===Di||n===wo?(n=od(),be=3):n===Hs?(n=od(),be=4):be=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,me===null&&(Pe=1,Yo(e,It(n,e.current)))}function Yf(){var e=xt.current;return e===null?!0:(ge&4194048)===ge?kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===kt:!1}function Jf(){var e=G.H;return G.H=wl,e===null?wl:e}function Xf(){var e=G.A;return G.A=my,e}function ia(){Pe=4,wn||(ge&4194048)!==ge&&xt.current!==null||(zi=!0),(Dn&134217727)===0&&(ui&134217727)===0||ke===null||Ln(ke,ge,Ct,!1)}function kr(e,n,o){var s=Ae;Ae|=2;var f=Jf(),m=Xf();(ke!==e||ge!==n)&&(ta=null,Oi(e,n)),n=!1;var T=Pe;e:do try{if(be!==0&&me!==null){var _=me,C=At;switch(be){case 8:Ur(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(n=!0);var w=be;if(be=0,At=null,Fi(e,_,C,w),o&&zi){T=0;break e}break;default:w=be,be=0,At=null,Fi(e,_,C,w)}}yy(),T=Pe;break}catch(V){Ff(e,V)}while(!0);return n&&e.shellSuspendCounter++,tn=ei=null,Ae=s,G.H=f,G.A=m,me===null&&(ke=null,ge=0,_o()),T}function yy(){for(;me!==null;)Kf(me)}function vy(e,n){var o=Ae;Ae|=2;var s=Jf(),f=Xf();ke!==e||ge!==n?(ta=null,ea=yt()+500,Oi(e,n)):zi=al(e,n);e:do try{if(be!==0&&me!==null){n=me;var m=At;t:switch(be){case 1:be=0,At=null,Fi(e,n,m,1);break;case 2:case 9:if(id(m)){be=0,At=null,Qf(n);break}n=function(){be!==2&&be!==9||ke!==e||(be=7),Qt(e)},m.then(n,n);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:id(m)?(be=0,At=null,Qf(n)):(be=0,At=null,Fi(e,n,m,7));break;case 5:var T=null;switch(me.tag){case 26:T=me.memoizedState;case 5:case 27:var _=me;if(T?kp(T):_.stateNode.complete){be=0,At=null;var C=_.sibling;if(C!==null)me=C;else{var w=_.return;w!==null?(me=w,la(w)):me=null}break t}}be=0,At=null,Fi(e,n,m,5);break;case 6:be=0,At=null,Fi(e,n,m,6);break;case 8:Ur(),Pe=6;break e;default:throw Error(a(462))}}Ey();break}catch(V){Ff(e,V)}while(!0);return tn=ei=null,G.H=s,G.A=f,Ae=o,me!==null?0:(ke=null,ge=0,_o(),Pe)}function Ey(){for(;me!==null&&!Bg();)Kf(me)}function Kf(e){var n=vf(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?la(e):me=n}function Qf(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=ff(o,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=ff(o,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:Qs(n);default:Tf(o,n),n=me=Jc(n,fn),n=vf(o,n,fn)}e.memoizedProps=e.pendingProps,n===null?la(e):me=n}function Fi(e,n,o,s){tn=ei=null,Qs(n),Ui=null,_l=0;var f=n.return;try{if(sy(e,f,n,o,ge)){Pe=1,Yo(e,It(o,e.current)),me=null;return}}catch(m){if(f!==null)throw me=f,m;Pe=1,Yo(e,It(o,e.current)),me=null;return}n.flags&32768?(ve||s===1?e=!0:zi||(ge&536870912)!==0?e=!1:(wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zf(n,e)):la(n)}function la(e){var n=e;do{if((n.flags&32768)!==0){Zf(n,wn);return}e=n.return;var o=cy(n.alternate,n,fn);if(o!==null){me=o;return}if(n=n.sibling,n!==null){me=n;return}me=n=e}while(n!==null);Pe===0&&(Pe=5)}function Zf(e,n){do{var o=dy(e.alternate,e);if(o!==null){o.flags&=32767,me=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){me=e;return}me=e=o}while(e!==null);Pe=6,me=null}function $f(e,n,o,s,f,m,T,_,C){e.cancelPendingCommit=null;do oa();while(Ke!==0);if((Ae&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,jg(e,o,m,T,_,C),e===ke&&(me=ke=null,ge=0),Bi=n,kn=e,pn=o,Ir=m,wr=f,zf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(ao,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,f=J.p,J.p=2,T=Ae,Ae|=4;try{fy(e,n,o)}finally{Ae=T,J.p=f,G.T=s}}Ke=1,jf(),Wf(),ep()}}function jf(){if(Ke===1){Ke=0;var e=kn,n=Bi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var s=J.p;J.p=2;var f=Ae;Ae|=4;try{Df(n,e);var m=Jr,T=Hc(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&Gc(_.ownerDocument.documentElement,_)){if(C!==null&&ys(_)){var w=C.start,V=C.end;if(V===void 0&&(V=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(V,_.value.length);else{var z=_.ownerDocument||document,D=z&&z.defaultView||window;if(D.getSelection){var k=D.getSelection(),j=_.textContent.length,ie=Math.min(C.start,j),De=C.end===void 0?ie:Math.min(C.end,j);!k.extend&&ie>De&&(T=De,De=ie,ie=T);var R=Lc(_,ie),N=Lc(_,De);if(R&&N&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var I=z.createRange();I.setStart(R.node,R.offset),k.removeAllRanges(),ie>De?(k.addRange(I),k.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),k.addRange(I))}}}}for(z=[],k=_;k=k.parentNode;)k.nodeType===1&&z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var P=z[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ya=!!Yr,Jr=Yr=null}finally{Ae=f,J.p=s,G.T=o}}e.current=n,Ke=2}}function Wf(){if(Ke===2){Ke=0;var e=kn,n=Bi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var s=J.p;J.p=2;var f=Ae;Ae|=4;try{bf(e,n.alternate,n)}finally{Ae=f,J.p=s,G.T=o}}Ke=3}}function ep(){if(Ke===4||Ke===3){Ke=0,Og();var e=kn,n=Bi,o=pn,s=zf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,Bi=kn=null,tp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Un=null),ja(o),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ol,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=G.T,f=J.p,J.p=2,G.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{G.T=n,J.p=f}}(pn&3)!==0&&oa(),Qt(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Dr?zl++:(zl=0,Dr=e):zl=0,ql(0)}}function tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Sl(n)))}function oa(){return jf(),Wf(),ep(),np()}function np(){if(Ke!==5)return!1;var e=kn,n=Ir;Ir=0;var o=ja(pn),s=G.T,f=J.p;try{J.p=32>o?32:o,G.T=null,o=wr,wr=null;var m=kn,T=pn;if(Ke=0,Bi=kn=null,pn=0,(Ae&6)!==0)throw Error(a(331));var _=Ae;if(Ae|=4,Hf(m.current),kf(m,m.current,T,o),Ae=_,ql(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ol,m)}catch{}return!0}finally{J.p=f,G.T=s,tp(e,n)}}function ip(e,n,o){n=It(o,n),n=cr(e.stateNode,n,2),e=bn(e,n,2),e!==null&&(sl(e,2),Qt(e))}function Re(e,n,o){if(e.tag===3)ip(e,e,o);else for(;n!==null;){if(n.tag===3){ip(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=It(o,e),o=lf(2),s=bn(n,o,2),s!==null&&(of(o,s,n,e),sl(s,2),Qt(s));break}}n=n.return}}function Lr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new hy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(o)||(br=!0,f.add(o),e=Ty.bind(null,e,n,o),n.then(e,e))}function Ty(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,ke===e&&(ge&o)===o&&(Pe===4||Pe===3&&(ge&62914560)===ge&&300>yt()-Wo?(Ae&2)===0&&Oi(e,0):Rr|=o,qi===ge&&(qi=0)),Qt(e)}function lp(e,n){n===0&&(n=$u()),e=$n(e,n),e!==null&&(sl(e,n),Qt(e))}function Sy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),lp(e,o)}function xy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),lp(e,o)}function _y(e,n){return Ka(e,n)}var aa=null,Yi=null,Gr=!1,sa=!1,Hr=!1,Gn=0;function Qt(e){e!==Yi&&e.next===null&&(Yi===null?aa=Yi=e:Yi=Yi.next=e),sa=!0,Gr||(Gr=!0,Cy())}function ql(e,n){if(!Hr&&sa){Hr=!0;do for(var o=!1,s=aa;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Et(42|e)+1)-1,m&=f&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,rp(s,m))}else m=ge,m=co(s,s===ke?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||al(s,m)||(o=!0,rp(s,m));s=s.next}while(o);Hr=!1}}function Ay(){op()}function op(){sa=Gr=!1;var e=0;Gn!==0&&Ly()&&(e=Gn);for(var n=yt(),o=null,s=aa;s!==null;){var f=s.next,m=ap(s,n);m===0?(s.next=null,o===null?aa=f:o.next=f,f===null&&(Yi=o)):(o=s,(e!==0||(m&3)!==0)&&(sa=!0)),s=f}Ke!==0&&Ke!==5||ql(e),Gn!==0&&(Gn=0)}function ap(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Et(m),_=1<<T,C=f[T];C===-1?((_&o)===0||(_&s)!==0)&&(f[T]=$g(_,n)):C<=n&&(e.expiredLanes|=_),m&=~_}if(n=ke,o=ge,o=co(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qa(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||al(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Qa(s),ja(o)){case 2:case 8:o=Qu;break;case 32:o=ao;break;case 268435456:o=Zu;break;default:o=ao}return s=sp.bind(null,e),o=Ka(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Qa(s),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(oa()&&e.callbackNode!==o)return null;var s=ge;return s=co(e,e===ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Bf(e,s,n),ap(e,yt()),e.callbackNode!=null&&e.callbackNode===o?sp.bind(null,e):null)}function rp(e,n){if(oa())return null;Bf(e,n,!0)}function Cy(){Hy(function(){(Ae&6)!==0?Ka(Ku,Ay):op()})}function Vr(){if(Gn===0){var e=Ii;e===0&&(e=so,so<<=1,(so&261888)===0&&(so=256)),Gn=e}return Gn}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function cp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Ny(e,n,o,s,f){if(n==="submit"&&o&&o.stateNode===f){var m=up((f[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?up(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new Eo("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gn!==0){var C=T?cp(f,T):new FormData(f);lr(o,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=T?cp(f,T):new FormData(f),lr(o,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Pr=0;Pr<Ss.length;Pr++){var zr=Ss[Pr],by=zr.toLowerCase(),Ry=zr[0].toUpperCase()+zr.slice(1);zt(by,"on"+Ry)}zt(zc,"onAnimationEnd"),zt(qc,"onAnimationIteration"),zt(Bc,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(F0,"onTransitionRun"),zt(Y0,"onTransitionStart"),zt(J0,"onTransitionCancel"),zt(Oc,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function dp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],f=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],C=_.instance,w=_.currentTarget;if(_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=w;try{m(f)}catch(V){xo(V)}f.currentTarget=null,m=C}else for(T=0;T<s.length;T++){if(_=s[T],C=_.instance,w=_.currentTarget,_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=w;try{m(f)}catch(V){xo(V)}f.currentTarget=null,m=C}}}}function he(e,n){var o=n[Wa];o===void 0&&(o=n[Wa]=new Set);var s=e+"__bubble";o.has(s)||(fp(n,e,2,!1),o.add(s))}function qr(e,n,o){var s=0;n&&(s|=4),fp(o,e,s,n)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[ra]){e[ra]=!0,lc.forEach(function(o){o!=="selectionchange"&&(My.has(o)||qr(o,!1,e),qr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ra]||(n[ra]=!0,qr("selectionchange",!1,n))}}function fp(e,n,o,s){switch(qp(n)){case 2:var f=iv;break;case 8:f=lv;break;default:f=iu}o=f.bind(null,n,o,e),f=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function Or(e,n,o,s,f){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===f)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;_!==null;){if(T=pi(_),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=m=T;continue e}_=_.parentNode}}s=s.return}gc(function(){var w=m,V=as(o),z=[];e:{var D=Fc.get(e);if(D!==void 0){var k=Eo,j=e;switch(e){case"keypress":if(yo(o)===0)break e;case"keydown":case"keyup":k=x0;break;case"focusin":j="focus",k=fs;break;case"focusout":j="blur",k=fs;break;case"beforeblur":case"afterblur":k=fs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=C0;break;case zc:case qc:case Bc:k=p0;break;case Oc:k=b0;break;case"scroll":case"scrollend":k=r0;break;case"wheel":k=M0;break;case"copy":case"cut":case"paste":k=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Sc;break;case"toggle":case"beforetoggle":k=w0}var ie=(n&4)!==0,De=!ie&&(e==="scroll"||e==="scrollend"),R=ie?D!==null?D+"Capture":null:D;ie=[];for(var N=w,I;N!==null;){var P=N;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||R===null||(P=cl(N,R),P!=null&&ie.push(Ol(N,P,I))),De)break;N=N.return}0<ie.length&&(D=new k(D,j,null,o,V),z.push({event:D,listeners:ie}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",D&&o!==os&&(j=o.relatedTarget||o.fromElement)&&(pi(j)||j[fi]))break e;if((k||D)&&(D=V.window===V?V:(D=V.ownerDocument)?D.defaultView||D.parentWindow:window,k?(j=o.relatedTarget||o.toElement,k=w,j=j?pi(j):null,j!==null&&(De=d(j),ie=j.tag,j!==De||ie!==5&&ie!==27&&ie!==6)&&(j=null)):(k=null,j=w),k!==j)){if(ie=Ec,P="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Sc,P="onPointerLeave",R="onPointerEnter",N="pointer"),De=k==null?D:ul(k),I=j==null?D:ul(j),D=new ie(P,N+"leave",k,o,V),D.target=De,D.relatedTarget=I,P=null,pi(V)===w&&(ie=new ie(R,N+"enter",j,o,V),ie.target=I,ie.relatedTarget=De,P=ie),De=P,k&&j)t:{for(ie=Iy,R=k,N=j,I=0,P=R;P;P=ie(P))I++;P=0;for(var ne=N;ne;ne=ie(ne))P++;for(;0<I-P;)R=ie(R),I--;for(;0<P-I;)N=ie(N),P--;for(;I--;){if(R===N||N!==null&&R===N.alternate){ie=R;break t}R=ie(R),N=ie(N)}ie=null}else ie=null;k!==null&&pp(z,D,k,ie,!1),j!==null&&De!==null&&pp(z,De,j,ie,!0)}}e:{if(D=w?ul(w):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var Se=Mc;else if(bc(D))if(Ic)Se=q0;else{Se=P0;var te=V0}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?w&&ls(w.elementType)&&(Se=Mc):Se=z0;if(Se&&(Se=Se(e,w))){Rc(z,Se,o,V);break e}te&&te(e,D,w),e==="focusout"&&w&&D.type==="number"&&w.memoizedProps.value!=null&&is(D,"number",D.value)}switch(te=w?ul(w):window,e){case"focusin":(bc(te)||te.contentEditable==="true")&&(xi=te,vs=w,vl=null);break;case"focusout":vl=vs=xi=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Vc(z,o,V);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Vc(z,o,V)}var ce;if(ms)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Si?Cc(e,o)&&(ye="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(xc&&o.locale!=="ko"&&(Si||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Si&&(ce=yc()):(Tn=V,us="value"in Tn?Tn.value:Tn.textContent,Si=!0)),te=ua(w,ye),0<te.length&&(ye=new Tc(ye,e,null,o,V),z.push({event:ye,listeners:te}),ce?ye.data=ce:(ce=Nc(o),ce!==null&&(ye.data=ce)))),(ce=U0?k0(e,o):L0(e,o))&&(ye=ua(w,"onBeforeInput"),0<ye.length&&(te=new Tc("onBeforeInput","beforeinput",null,o,V),z.push({event:te,listeners:ye}),te.data=ce)),Ny(z,e,w,o,V)}dp(z,n)})}function Ol(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ua(e,n){for(var o=n+"Capture",s=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=cl(e,o),f!=null&&s.unshift(Ol(e,f,m)),f=cl(e,n),f!=null&&s.push(Ol(e,f,m))),e.tag===3)return s;e=e.return}return[]}function Iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,n,o,s,f){for(var m=n._reactName,T=[];o!==null&&o!==s;){var _=o,C=_.alternate,w=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||w===null||(C=w,f?(w=cl(o,m),w!=null&&T.unshift(Ol(o,w,C))):f||(w=cl(o,m),w!=null&&T.push(Ol(o,w,C)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var wy=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Dy,"")}function hp(e,n){return n=mp(n),mp(e)===n}function we(e,n,o,s,f,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vi(e,""+s);break;case"className":po(e,"class",s);break;case"tabIndex":po(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":po(e,o,s);break;case"style":mc(e,s,m);break;case"data":if(n!=="object"){po(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ho(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&we(e,n,"name",f.name,f,null),we(e,n,"formEncType",f.formEncType,f,null),we(e,n,"formMethod",f.formMethod,f,null),we(e,n,"formTarget",f.formTarget,f,null)):(we(e,n,"encType",f.encType,f,null),we(e,n,"method",f.method,f,null),we(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ho(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=ho(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":he("beforetoggle",e),he("toggle",e),fo(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=a0.get(o)||o,fo(e,o,s))}}function Fr(e,n,o,s,f,m){switch(o){case"style":mc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?vi(e,s):(typeof s=="number"||typeof s=="bigint")&&vi(e,""+s);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),m=e[ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,f);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):fo(e,o,s)}}}function nt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var s=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:we(e,n,m,T,o,null)}}f&&we(e,n,"srcSet",o.srcSet,o,null),s&&we(e,n,"src",o.src,o,null);return;case"input":he("invalid",e);var _=m=T=f=null,C=null,w=null;for(s in o)if(o.hasOwnProperty(s)){var V=o[s];if(V!=null)switch(s){case"name":f=V;break;case"type":T=V;break;case"checked":C=V;break;case"defaultChecked":w=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:we(e,n,s,V,o,null)}}cc(e,m,_,C,w,T,f,!1);return;case"select":he("invalid",e),s=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:we(e,n,f,_,o,null)}n=m,o=T,e.multiple=!!s,n!=null?yi(e,!!s,n,!1):o!=null&&yi(e,!!s,o,!0);return;case"textarea":he("invalid",e),m=f=s=null;for(T in o)if(o.hasOwnProperty(T)&&(_=o[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":f=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:we(e,n,T,_,o,null)}fc(e,s,f,m);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:we(e,n,C,s,o,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(s=0;s<Bl.length;s++)he(Bl[s],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in o)if(o.hasOwnProperty(w)&&(s=o[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:we(e,n,w,s,o,null)}return;default:if(ls(n)){for(V in o)o.hasOwnProperty(V)&&(s=o[V],s!==void 0&&Fr(e,n,V,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&we(e,n,_,s,o,null))}function Uy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,_=null,C=null,w=null,V=null;for(k in o){var z=o[k];if(o.hasOwnProperty(k)&&z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=z;default:s.hasOwnProperty(k)||we(e,n,k,null,s,z)}}for(var D in s){var k=s[D];if(z=o[D],s.hasOwnProperty(D)&&(k!=null||z!=null))switch(D){case"type":m=k;break;case"name":f=k;break;case"checked":w=k;break;case"defaultChecked":V=k;break;case"value":T=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==z&&we(e,n,D,k,s,z)}}ns(e,T,_,C,w,V,m,f);return;case"select":k=T=_=D=null;for(m in o)if(C=o[m],o.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":k=C;default:s.hasOwnProperty(m)||we(e,n,m,null,s,C)}for(f in s)if(m=s[f],C=o[f],s.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":D=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==C&&we(e,n,f,m,s,C)}n=_,o=T,s=k,D!=null?yi(e,!!o,D,!1):!!s!=!!o&&(n!=null?yi(e,!!o,n,!0):yi(e,!!o,o?[]:"",!1));return;case"textarea":k=D=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:we(e,n,_,null,s,f)}for(T in s)if(f=s[T],m=o[T],s.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":D=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&we(e,n,T,f,s,m)}dc(e,D,k);return;case"option":for(var j in o)if(D=o[j],o.hasOwnProperty(j)&&D!=null&&!s.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:we(e,n,j,null,s,D)}for(C in s)if(D=s[C],k=o[C],s.hasOwnProperty(C)&&D!==k&&(D!=null||k!=null))switch(C){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:we(e,n,C,D,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in o)D=o[ie],o.hasOwnProperty(ie)&&D!=null&&!s.hasOwnProperty(ie)&&we(e,n,ie,null,s,D);for(w in s)if(D=s[w],k=o[w],s.hasOwnProperty(w)&&D!==k&&(D!=null||k!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:we(e,n,w,D,s,k)}return;default:if(ls(n)){for(var De in o)D=o[De],o.hasOwnProperty(De)&&D!==void 0&&!s.hasOwnProperty(De)&&Fr(e,n,De,void 0,s,D);for(V in s)D=s[V],k=o[V],!s.hasOwnProperty(V)||D===k||D===void 0&&k===void 0||Fr(e,n,V,D,s,k);return}}for(var R in o)D=o[R],o.hasOwnProperty(R)&&D!=null&&!s.hasOwnProperty(R)&&we(e,n,R,null,s,D);for(z in s)D=s[z],k=o[z],!s.hasOwnProperty(z)||D===k||D==null&&k==null||we(e,n,z,D,s,k)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var f=o[s],m=f.transferSize,T=f.initiatorType,_=f.duration;if(m&&_&&gp(T)){for(T=0,_=f.responseEnd,s+=1;s<o.length;s++){var C=o[s],w=C.startTime;if(w>_)break;var V=C.transferSize,z=C.initiatorType;V&&gp(z)&&(C=C.responseEnd,T+=V*(C<_?1:(_-w)/(C-w)))}if(--s,n+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Jr=null;function ca(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kr=null;function Ly(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(Vy)}:Ep;function Vy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Sp(e,n){var o=n,s=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(f),Qi(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Fl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Fl(o);for(var m=o.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[rl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Fl(e.ownerDocument.body);o=f}while(o);Qi(n)}function xp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Qr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Qr(o),es(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Py(e,n,o,s){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[rl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function zy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Lt(e.nextSibling),e===null))return null;return e}function _p(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function Zr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Lt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jr=null;function Ap(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Lt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Np(e,n,o){switch(n=ca(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);es(e)}var Gt=new Map,bp=new Set;function da(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=J.d;J.d={f:By,r:Oy,D:Fy,C:Yy,L:Jy,m:Xy,X:Qy,S:Ky,M:Zy};function By(){var e=mn.f(),n=na();return e||n}function Oy(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?Od(n):mn.r(e)}var Ji=typeof document>"u"?null:document;function Rp(e,n,o){var s=Ji;if(s&&typeof n=="string"&&n){var f=Rt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),bp.has(f)||(bp.add(f),e={rel:e,crossOrigin:o,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function Fy(e){mn.D(e),Rp("dns-prefetch",e,null)}function Yy(e,n){mn.C(e,n),Rp("preconnect",e,n)}function Jy(e,n,o){mn.L(e,n,o);var s=Ji;if(s&&e&&n){var f='link[rel="preload"][as="'+Rt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Rt(o.imageSizes)+'"]')):f+='[href="'+Rt(e)+'"]';var m=f;switch(n){case"style":m=Xi(e);break;case"script":m=Ki(e)}Gt.has(m)||(e=x({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Gt.set(m,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Yl(m))||n==="script"&&s.querySelector(Jl(m))||(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function Xy(e,n){mn.m(e,n);var o=Ji;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Rt(s)+'"][href="'+Rt(e)+'"]',m=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ki(e)}if(!Gt.has(m)&&(e=x({rel:"modulepreload",href:e},n),Gt.set(m,e),o.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jl(m)))return}s=o.createElement("link"),nt(s,"link",e),Qe(s),o.head.appendChild(s)}}}function Ky(e,n,o){mn.S(e,n,o);var s=Ji;if(s&&e){var f=hi(s).hoistableStyles,m=Xi(e);n=n||"default";var T=f.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Yl(m)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Gt.get(m))&&Wr(e,o);var C=T=s.createElement("link");Qe(C),nt(C,"link",e),C._p=new Promise(function(w,V){C.onload=w,C.onerror=V}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,fa(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},f.set(m,T)}}}function Qy(e,n){mn.X(e,n);var o=Ji;if(o&&e){var s=hi(o).hoistableScripts,f=Ki(e),m=s.get(f);m||(m=o.querySelector(Jl(f)),m||(e=x({src:e,async:!0},n),(n=Gt.get(f))&&eu(e,n),m=o.createElement("script"),Qe(m),nt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Zy(e,n){mn.M(e,n);var o=Ji;if(o&&e){var s=hi(o).hoistableScripts,f=Ki(e),m=s.get(f);m||(m=o.querySelector(Jl(f)),m||(e=x({src:e,async:!0,type:"module"},n),(n=Gt.get(f))&&eu(e,n),m=o.createElement("script"),Qe(m),nt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Mp(e,n,o,s){var f=(f=pe.current)?da(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Xi(o.href),o=hi(f).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Xi(o.href);var m=hi(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Yl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Gt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gt.set(e,o),m||$y(f,e,o,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ki(o),o=hi(f).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xi(e){return'href="'+Rt(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),nt(n,"link",o),Qe(n),e.head.appendChild(n))}function Ki(e){return'[src="'+Rt(e)+'"]'}function Jl(e){return"script[async]"+e}function wp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(s)return n.instance=s,Qe(s),s;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),nt(s,"style",f),fa(s,o.precedence,e),n.instance=s;case"stylesheet":f=Xi(o.href);var m=e.querySelector(Yl(f));if(m)return n.state.loading|=4,n.instance=m,Qe(m),m;s=Ip(o),(f=Gt.get(f))&&Wr(s,f),m=(e.ownerDocument||e).createElement("link"),Qe(m);var T=m;return T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(m,"link",s),n.state.loading|=4,fa(m,o.precedence,e),n.instance=m;case"script":return m=Ki(o.src),(f=e.querySelector(Jl(m)))?(n.instance=f,Qe(f),f):(s=o,(f=Gt.get(m))&&(s=x({},o),eu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),Qe(f),nt(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,fa(s,o.precedence,e));return n.instance}function fa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,m=f,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Wr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pa=null;function Dp(e,n,o){if(pa===null){var s=new Map,f=pa=new Map;f.set(o,s)}else f=pa,s=f.get(o),s||(s=new Map,f.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var m=o[f];if(!(m[rl]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function Up(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function jy(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wy(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Xi(s.href),m=n.querySelector(Yl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ma.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,Qe(m);return}m=n.ownerDocument||n,s=Ip(s),(f=Gt.get(f))&&Wr(s,f),m=m.createElement("link"),Qe(m);var T=m;T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=ma.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var tu=0;function ev(e,n){return e.stylesheets&&e.count===0&&ga(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&tu===0&&(tu=62500*ky());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>tu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function ma(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ga(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ha=null;function ga(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ha=new Map,n.forEach(tv,e),ha=null,ma.call(e))}function tv(e,n){if(!(n.state.loading&4)){var o=ha.get(e);if(o)var s=o.get(null);else{o=new Map,ha.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}f=n.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||s,m===s&&o.set(null,f),o.set(T,f),this.count++,s=ma.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Xl={$$typeof:B,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function nv(e,n,o,s,f,m,T,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.hiddenUpdates=Za(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Lp(e,n,o,s,f,m,T,_,C,w,V,z){return e=new nv(e,n,o,T,C,w,V,z,_),n=1,m===!0&&(n|=24),m=St(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Vs(m),e}function Gp(e){return e?(e=Ci,e):Ci}function Hp(e,n,o,s,f,m){f=Gp(f),s.context===null?s.context=f:s.pendingContext=f,s=Nn(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=bn(e,s,n),o!==null&&(gt(o,e,n),Cl(o,e,n))}function Vp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function nu(e,n){Vp(e,n),(e=e.alternate)&&Vp(e,n)}function Pp(e){if(e.tag===13||e.tag===31){var n=$n(e,67108864);n!==null&&gt(n,e,67108864),nu(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var n=Nt();n=$a(n);var o=$n(e,n);o!==null&&gt(o,e,n),nu(e,n)}}var ya=!0;function iv(e,n,o,s){var f=G.T;G.T=null;var m=J.p;try{J.p=2,iu(e,n,o,s)}finally{J.p=m,G.T=f}}function lv(e,n,o,s){var f=G.T;G.T=null;var m=J.p;try{J.p=8,iu(e,n,o,s)}finally{J.p=m,G.T=f}}function iu(e,n,o,s){if(ya){var f=lu(s);if(f===null)Or(e,n,s,va,o),Bp(e,s);else if(av(f,e,n,o,s))s.stopPropagation();else if(Bp(e,s),n&4&&-1<ov.indexOf(e)){for(;f!==null;){var m=mi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Jn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var C=1<<31-Et(T);_.entanglements[1]|=C,T&=~C}Qt(m),(Ae&6)===0&&(ea=yt()+500,ql(0))}}break;case 31:case 13:_=$n(m,2),_!==null&&gt(_,m,2),na(),nu(m,2)}if(m=lu(s),m===null&&Or(e,n,s,va,o),m===f)break;f=m}f!==null&&s.stopPropagation()}else Or(e,n,s,null,o)}}function lu(e){return e=as(e),ou(e)}var va=null;function ou(e){if(va=null,e=pi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return va=e,null}function qp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fg()){case Ku:return 2;case Qu:return 8;case ao:case Yg:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var au=!1,Vn=null,Pn=null,zn=null,Kl=new Map,Ql=new Map,qn=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Zl(e,n,o,s,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[f]},n!==null&&(n=mi(n),n!==null&&Pp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function av(e,n,o,s,f){switch(n){case"focusin":return Vn=Zl(Vn,e,n,o,s,f),!0;case"dragenter":return Pn=Zl(Pn,e,n,o,s,f),!0;case"mouseover":return zn=Zl(zn,e,n,o,s,f),!0;case"pointerover":var m=f.pointerId;return Kl.set(m,Zl(Kl.get(m)||null,e,n,o,s,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Zl(Ql.get(m)||null,e,n,o,s,f)),!0}return!1}function Op(e){var n=pi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,nc(e.priority,function(){zp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,nc(e.priority,function(){zp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=lu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);os=s,o.target.dispatchEvent(s),os=null}else return n=mi(o),n!==null&&Pp(n),e.blockedOn=o,!1;n.shift()}return!0}function Fp(e,n,o){Ea(e)&&o.delete(n)}function sv(){au=!1,Vn!==null&&Ea(Vn)&&(Vn=null),Pn!==null&&Ea(Pn)&&(Pn=null),zn!==null&&Ea(zn)&&(zn=null),Kl.forEach(Fp),Ql.forEach(Fp)}function Ta(e,n){e.blockedOn===n&&(e.blockedOn=null,au||(au=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sv)))}var Sa=null;function Yp(e){Sa!==e&&(Sa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sa===e&&(Sa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(ou(s||o)===null)continue;break}var m=mi(o);m!==null&&(e.splice(n,3),n-=3,lr(m,{pending:!0,data:f,method:o.method,action:s},s,f))}}))}function Qi(e){function n(C){return Ta(C,e)}Vn!==null&&Ta(Vn,e),Pn!==null&&Ta(Pn,e),zn!==null&&Ta(zn,e),Kl.forEach(n),Ql.forEach(n);for(var o=0;o<qn.length;o++){var s=qn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qn.length&&(o=qn[0],o.blockedOn===null);)Op(o),o.blockedOn===null&&qn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var f=o[s],m=o[s+1],T=f[ct]||null;if(typeof m=="function")T||Yp(o);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ct]||null)_=T.formAction;else if(ou(f)!==null)continue}else _=T.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),Yp(o)}}}function Jp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function su(e){this._internalRoot=e}xa.prototype.render=su.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Nt();Hp(o,s,e,n,null,null)},xa.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hp(e.current,2,null,e,null,null),na(),n[fi]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<qn.length&&n!==0&&n<qn[o].priority;o++);qn.splice(o,0,e),o===0&&Op(e)}};var Xp=t.version;if(Xp!=="19.2.3")throw Error(a(527,Xp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var rv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{ol=_a.inject(rv),vt=_a}catch{}}return jl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",f=Wd,m=ef,T=tf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Lp(e,1,!1,null,null,o,s,null,f,m,T,Jp),e[fi]=n.current,Br(e),new su(n)},jl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,f="",m=Wd,T=ef,_=tf,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=Lp(e,1,!0,n,o??null,s,f,C,m,T,_,Jp),n.context=Gp(null),o=n.current,s=Nt(),s=$a(s),f=Nn(s),f.callback=null,bn(o,f,s),o=s,n.current.lanes=o,sl(n,o),Qt(n),e[fi]=n.current,Br(e),new xa(n)},jl.version="19.2.3",jl}var im;function Ev(){if(im)return cu.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cu.exports=vv(),cu.exports}var Tv=Ev();const Sv=qh(Tv),Bh="school_db_v1",lm={parents:[],students:[],contracts:[]},xv=()=>{try{const i=localStorage.getItem(Bh);return i?JSON.parse(i):lm}catch(i){return console.error("Error loading DB",i),lm}},Oh=i=>{try{localStorage.setItem(Bh,JSON.stringify(i))}catch(t){console.error("Error saving DB",t)}},_v=i=>{if(!i||typeof i!="object")return!1;const t=Array.isArray(i.parents),l=Array.isArray(i.students),a=Array.isArray(i.contracts);return t&&l&&a},Uu=()=>Math.random().toString(36).substr(2,9),Fh=(i,t)=>i.parents.find(l=>l.ci===t),Av=(i,t)=>i.students.find(l=>l.ci===t),Yh=(i,t)=>i.students.filter(l=>l.idPadre===t),Cv=(i,t)=>{const l=i.contracts.find(d=>d.id===t);if(!l)return null;const a=Fh(i,l.idPadre),r=Av(i,l.idEstudiante);return{contract:l,parent:a,student:r}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),om=i=>{const t=bv(i);return t.charAt(0).toUpperCase()+t.slice(1)},Jh=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),Rv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Ee.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:d,iconNode:p,...g},y)=>Ee.createElement("svg",{ref:y,...Mv,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:Jh("lucide",r),...!d&&!Rv(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,E])=>Ee.createElement(h,E)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(i,t)=>{const l=Ee.forwardRef(({className:a,...r},d)=>Ee.createElement(Iv,{ref:d,iconNode:t,className:Jh(`lucide-${Nv(om(i))}`,`lucide-${i}`,a),...r}));return l.displayName=om(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Dv=Ce("calculator",wv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kv=Ce("chart-pie",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gv=Ce("circle-check-big",Lv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xh=Ce("database",Hv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],am=Ce("download",Vv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zv=Ce("eye",Pv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Bv=Ce("file-braces",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Fv=Ce("file-code",Ov);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],sm=Ce("file-down",Yv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],rm=Ce("file-spreadsheet",Jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],no=Ce("file-text",Xv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],gu=Ce("graduation-cap",Kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zv=Ce("layout-dashboard",Qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jv=Ce("link",$v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eE=Ce("loader-circle",Wv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nE=Ce("lock",tE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lE=Ce("menu",iE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],aE=Ce("monitor",oE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],rE=Ce("moon",sE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ku=Ce("plus",uE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yu=Ce("printer",cE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lu=Ce("save",dE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pE=Ce("send",fE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hE=Ce("sparkles",mE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yE=Ce("star",gE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EE=Ce("sun",vE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SE=Ce("triangle-alert",TE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_E=Ce("upload",xE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CE=Ce("user-check",AE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],io=Ce("users",NE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lo=Ce("x",bE),RE=["Inicial 1","Inicial 2","1ro de Primaria","2do de Primaria","3ro de Primaria","4to de Primaria","5to de Primaria","6to de Primaria","1ro de Secundaria","2do de Secundaria","3ro de Secundaria","4to de Secundaria","5to de Secundaria","6to de Secundaria"],ME=({db:i,updateDb:t})=>{const[l,a]=Ee.useState(!1),[r,d]=Ee.useState({esDistancia:!1,tipoBeca:"Ninguna"}),[p,g]=Ee.useState(0),y=(S,A)=>{const M=S.target.value;/^\d*$/.test(M)&&d({...r,[A]:M})},h=S=>{const A=S.target.value.toUpperCase();A.length<=2&&/^[A-Z0-9]*$/.test(A)&&d({...r,complementoCI:A})},E=S=>{const A=S.target.value;if(d({...r,idPadre:A}),A){const M=Yh(i,A);g(M.length),M.length>=2?d(L=>({...L,idPadre:A,tipoBeca:"Descuento Hermanos"})):d(L=>({...L,idPadre:A,tipoBeca:"Ninguna"}))}else g(0)},x=()=>{if(!r.ci||!r.nombres||!r.primerApellido||!r.idPadre||!r.curso){alert("CI, Nombres, Apellido, Padre y Curso son obligatorios");return}if(i.students.some(M=>M.ci===r.ci)){alert("Ya existe un estudiante con este CI");return}if(!Fh(i,r.idPadre)){alert("El ID del Padre (CI) no existe en la base de datos.");return}const A={id:Uu(),ci:r.ci,complementoCI:r.complementoCI||"",rude:r.rude||"",nombres:r.nombres,primerApellido:r.primerApellido,segundoApellido:r.segundoApellido||"",curso:r.curso,celular:r.celular||"",idPadre:r.idPadre,esDistancia:r.esDistancia||!1,tipoBeca:r.tipoBeca||"Ninguna"};t({...i,students:[...i.students,A]}),a(!1),d({esDistancia:!1,tipoBeca:"Ninguna"}),g(0)};return v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[v.jsx(gu,{className:"mr-2"})," Estudiantes"]}),v.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[v.jsx(ku,{size:18,className:"mr-1"})," Nuevo Estudiante"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CI / RUDE"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre Completo"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Curso"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),v.jsxs("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[i.students.map(S=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[v.jsxs("div",{children:[S.ci," ",S.complementoCI?`-${S.complementoCI}`:""]}),v.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["RUDE: ",S.rude]})]}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[S.primerApellido," ",S.segundoApellido," ",S.nombres]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:S.curso}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsxs("span",{className:"flex items-center text-blue-600 dark:text-blue-400 font-medium",children:[v.jsx(jv,{size:14,className:"mr-1"})," Padre: ",S.idPadre]}),S.esDistancia&&v.jsxs("span",{className:"flex items-center text-purple-600 dark:text-purple-300 text-xs font-bold bg-purple-100 dark:bg-purple-900/50 px-2 py-0.5 rounded w-fit",children:[v.jsx(aE,{size:12,className:"mr-1"})," Virtual"]}),S.tipoBeca&&S.tipoBeca!=="Ninguna"&&v.jsxs("span",{className:"flex items-center text-yellow-600 dark:text-yellow-400 text-xs font-bold bg-yellow-100 dark:bg-yellow-900/50 px-2 py-0.5 rounded w-fit",children:[v.jsx(yE,{size:12,className:"mr-1"})," ",S.tipoBeca]})]})})]},S.id)),i.students.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No hay estudiantes registrados"})})]})]})}),l&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg overflow-y-auto max-h-[90vh] shadow-xl border dark:border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Registrar Estudiante"}),v.jsx("button",{onClick:()=>a(!1),children:v.jsx(lo,{className:"text-gray-500 dark:text-gray-400"})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Vincular Padre (CI)"}),v.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.idPadre||"",onChange:E,children:[v.jsx("option",{value:"",children:"-- Seleccionar Padre --"}),i.parents.map(S=>v.jsxs("option",{value:S.ci,children:[S.ci," - ",S.primerApellido," ",S.nombres]},S.id))]}),p>0&&v.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Este padre ya tiene ",p," hijo(s) inscrito(s)."]})]}),v.jsxs("div",{className:"col-span-2 flex gap-2",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CI (Slo Nmeros)"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.ci||"",onChange:S=>y(S,"ci"),placeholder:"Ej: 1234567"})]}),v.jsxs("div",{className:"w-24",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Comp."}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 uppercase text-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.complementoCI||"",onChange:h,placeholder:"1A"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"RUDE"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.rude||"",onChange:S=>d({...r,rude:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombres"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.nombres||"",onChange:S=>d({...r,nombres:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primer Apellido"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.primerApellido||"",onChange:S=>d({...r,primerApellido:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Segundo Apellido"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.segundoApellido||"",onChange:S=>d({...r,segundoApellido:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Curso"}),v.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.curso||"",onChange:S=>d({...r,curso:S.target.value}),children:[v.jsx("option",{value:"",children:"-- Seleccionar Curso --"}),RE.map(S=>v.jsx("option",{value:S,children:S},S))]})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular (Estudiante)"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular||"",onChange:S=>d({...r,celular:S.target.value})})]}),v.jsxs("div",{className:"col-span-2 border-t dark:border-gray-600 pt-4 mt-2",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx("input",{type:"checkbox",id:"distancia",className:"w-4 h-4 text-blue-600 rounded bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",checked:r.esDistancia||!1,onChange:S=>d({...r,esDistancia:S.target.checked})}),v.jsx("label",{htmlFor:"distancia",className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estudiante a distancia (Virtual)"})]}),v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Beneficio / Beca"}),v.jsxs("select",{className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.tipoBeca||"Ninguna",onChange:S=>d({...r,tipoBeca:S.target.value}),children:[v.jsx("option",{value:"Ninguna",children:"Ninguna"}),v.jsx("option",{value:"Descuento Hermanos",children:"Descuento Hermanos (3er hijo+)"}),v.jsx("option",{value:"Beca Social",children:"Beca Social (RM 001/2026)"}),v.jsx("option",{value:"Beca Excelencia",children:"Beca Excelencia"})]}),r.tipoBeca!=="Ninguna"&&v.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"* El descuento correspondiente se aplicar al generar el contrato."})]})]}),v.jsx("div",{className:"mt-6 flex justify-end",children:v.jsxs("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[v.jsx(Lu,{size:18,className:"mr-2"})," Guardar"]})})]})})]})},IE=({db:i,updateDb:t})=>{const[l,a]=Ee.useState(!1),[r,d]=Ee.useState({}),p=(h,E)=>{const x=h.target.value;/^\d*$/.test(x)&&d({...r,[E]:x})},g=h=>{const E=h.target.value.toUpperCase();E.length<=2&&/^[A-Z0-9]*$/.test(E)&&d({...r,complementoCI:E})},y=()=>{if(!r.ci||!r.nombres||!r.primerApellido||!r.celular){alert("CI, Nombres, Primer Apellido y Celular son obligatorios");return}if(r.celular.length<8){alert("El nmero de celular debe tener al menos 8 dgitos.");return}if(i.parents.some(E=>E.ci===r.ci)){alert("Ya existe un padre con este nmero de CI");return}const h={id:Uu(),ci:r.ci,complementoCI:r.complementoCI||"",nombres:r.nombres,primerApellido:r.primerApellido,segundoApellido:r.segundoApellido||"",celular:r.celular,celular2:r.celular2||"",direccion:r.direccion||""};t({...i,parents:[...i.parents,h]}),a(!1),d({})};return v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[v.jsx(io,{className:"mr-2"})," Padres de Familia"]}),v.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[v.jsx(ku,{size:18,className:"mr-1"})," Nuevo Padre"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CI"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre Completo"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Celular"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Direccin"})]})}),v.jsxs("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[i.parents.map(h=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[h.ci," ",h.complementoCI?`-${h.complementoCI}`:""]}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[h.primerApellido," ",h.segundoApellido," ",h.nombres]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:h.celular}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:h.direccion})]},h.id)),i.parents.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No hay padres registrados"})})]})]})}),l&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg shadow-xl border dark:border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Registrar Padre"}),v.jsx("button",{onClick:()=>a(!1),children:v.jsx(lo,{className:"text-gray-500 dark:text-gray-400"})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"col-span-2 flex gap-2",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CI (Slo Nmeros)"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.ci||"",onChange:h=>p(h,"ci"),placeholder:"Ej: 1234567"})]}),v.jsxs("div",{className:"w-24",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Comp."}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 uppercase text-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.complementoCI||"",onChange:g,placeholder:"1A"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombres"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.nombres||"",onChange:h=>d({...r,nombres:h.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primer Apellido"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.primerApellido||"",onChange:h=>d({...r,primerApellido:h.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Segundo Apellido"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.segundoApellido||"",onChange:h=>d({...r,segundoApellido:h.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular (Mn 8 dgitos)"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular||"",onChange:h=>p(h,"celular"),maxLength:15})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Celular 2 (Opcional)"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.celular2||"",onChange:h=>p(h,"celular2"),maxLength:15})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Direccin"}),v.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:r.direccion||"",onChange:h=>d({...r,direccion:h.target.value})})]})]}),v.jsx("div",{className:"mt-6 flex justify-end",children:v.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[v.jsx(Lu,{size:18,className:"mr-2"})," Guardar"]})})]})})]})};var Ht=(i=>(i.GLOBAL="Global",i.SEMESTRAL="Semestral",i.TRIMESTRAL="Trimestral",i.MENSUAL="Mensual",i))(Ht||{});const wE=({db:i,contractId:t,onClose:l})=>{const a=Cv(i,t);if(!a||!a.contract||!a.parent||!a.student)return v.jsx("div",{className:"p-4 text-red-500",children:"Error: Datos de contrato incompletos."});const{contract:r,parent:d,student:p}=a,g=A=>A.toLocaleString("es-BO",{style:"currency",currency:"BOB"}),y=A=>A.toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}),h=(A,M)=>M?`${A}-${M}`:A,x=(()=>{const A=[],M=new Date(r.fechaFirma+"T12:00:00");if(r.tipoPago===Ht.GLOBAL)A.push({n:1,concepto:"Pago nico Anual",vencimiento:y(M),monto:r.montoAnual});else{let L=10,U=1;r.tipoPago===Ht.SEMESTRAL?(L=2,U=6):r.tipoPago===Ht.TRIMESTRAL&&(L=4,U=3);let H=new Date(M);for(let O=0;O<L;O++){let B="",X=r.montoCuota;if(O===0||(H.setMonth(H.getMonth()+U),H.setDate(5)),B=y(H),O===L-1){const Z=r.montoCuota*(L-1),F=r.montoAnual-Z;Math.abs(F-r.montoCuota)>1&&(X=F)}let $="";r.tipoPago===Ht.MENSUAL?$=`Mensualidad N ${O+1}`:r.tipoPago===Ht.TRIMESTRAL?$=`Cuota Trimestral N ${O+1}`:$=`Cuota Semestral N ${O+1}`,A.push({n:O+1,concepto:$,vencimiento:B,monto:X})}}return A})(),S=()=>{var L;const A=window.open("","_blank","width=900,height=800");if(!A){alert("Por favor habilita las ventanas emergentes para imprimir.");return}const M=(L=document.getElementById("printable-content"))==null?void 0:L.innerHTML;A.document.write(`
      <html>
        <head>
          <title>Contrato ${r.numeroContrato}</title>
          <style>
             @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@300;400;700&display=swap');
             
             body { 
               font-family: 'Merriweather', serif; 
               font-size: 12px; 
               line-height: 1.8; 
               color: #1a1a1a;
               margin: 0;
               padding: 0;
             }
             .page {
               width: 21cm;
               min-height: 29.7cm;
               padding: 2.5cm;
               margin: 0 auto;
               background: white;
               box-sizing: border-box;
               position: relative;
             }
             .page-break {
               page-break-before: always;
               margin-top: 2rem;
               display: block;
             }
             h1 { font-size: 16px; font-weight: 700; text-align: center; margin-bottom: 24px; text-transform: uppercase; letter-spacing: 0.5px; }
             h2 { font-size: 13px; font-weight: 700; margin-top: 24px; margin-bottom: 8px; text-transform: uppercase; border-bottom: 1px solid #ddd; padding-bottom: 2px; }
             p { margin-bottom: 12px; text-align: justify; }
             ul, ol { margin-bottom: 12px; padding-left: 24px; }
             li { margin-bottom: 6px; text-align: justify; }
             strong { font-weight: 700; }
             
             table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 11px; }
             th, td { border: 1px solid #000; padding: 6px 8px; }
             th { background-color: #f3f4f6; text-align: center; font-weight: bold; }
             
             .signatures { margin-top: 80px; display: flex; justify-content: space-between; page-break-inside: avoid; }
             .sig-block { width: 45%; text-align: center; }
             .sig-line { border-top: 1px solid black; margin-bottom: 8px; font-weight: bold; }
             
             .header-info { text-align: right; font-size: 10px; color: #666; margin-bottom: 20px; }
             
             /* Print specific */
             @media print {
               body { background: white; }
               .page { box-shadow: none; margin: 0; width: 100%; }
               .no-print { display: none; }
             }
          </style>
        </head>
        <body>
          ${M}
          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),A.document.close()};return v.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-95 flex items-center justify-center",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl h-[90vh] flex flex-col transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center text-gray-900 dark:text-white",children:[v.jsx(no,{className:"mr-2 text-blue-600 dark:text-blue-400"})," Vista Previa del Contrato"]}),v.jsx("button",{onClick:l,className:"text-gray-500 hover:text-red-500 dark:text-gray-400",children:v.jsx(lo,{size:24})})]}),v.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 border-b dark:border-gray-600 flex justify-between items-center",children:[v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Se generar un documento de 3 pginas (2 de contrato + 1 anexo)."}),v.jsxs("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow flex items-center font-bold",children:[v.jsx(yu,{className:"mr-2",size:20})," Imprimir / Abrir PDF"]})]}),v.jsxs("div",{id:"printable-content",className:"hidden",children:[v.jsxs("div",{className:"page",children:[v.jsxs("div",{className:"header-info",children:["REF: ",r.numeroContrato," | ",r.fechaFirma]}),v.jsx("h1",{children:"CONTRATO DE PRESTACIN DE SERVICIOS EDUCATIVOS  GESTIN 2026"}),v.jsxs("p",{children:[v.jsx("strong",{children:"CONSTE"})," por el presente documento, que entre las partes intervinientes se acuerda suscribir el presente",v.jsx("strong",{children:" CONTRATO DE PRESTACIN DE SERVICIOS EDUCATIVOS"}),", celebrado al amparo de la autonoma de la voluntad y bajo las previsiones de los Arts. 450, 519, 732 del Cdigo Civil Boliviano, en concordancia con la Ley No. 070 Avelino Siani  Elizardo Prez y la Resolucin Ministerial 0001/2026 que regula las Normas Generales para la Gestin Educativa."]}),v.jsx("h2",{children:"CLUSULA PRIMERA.- (DE LAS PARTES)"}),v.jsx("p",{children:"Intervienen en la suscripcin del presente contrato:"}),v.jsxs("p",{children:[v.jsx("strong",{children:'1.1. LA UNIDAD EDUCATIVA "PRNCIPE DE PAZ LS"'}),", institucin de servicio educativo sin fines de lucro, representada para este acto por su Directora, ",v.jsx("strong",{children:"Prof. Ivone Arminda Sapiencia Fernndez"}),", con C.I. 080131 L.P., con domicilio en la Zona de San Pedro, Calle Luis Lara Esq. Riobamba No. 670 de la ciudad de La Paz; en adelante denominada simplemente como ",v.jsx("strong",{children:"LA UNIDAD EDUCATIVA"}),"."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"1.2. EL SEOR(A):"})," ",d.nombres," ",d.primerApellido," ",d.segundoApellido,", con C.I. No. ",h(d.ci,d.complementoCI),", mayor de edad y hbil por derecho, en calidad de padre, madre, tutor(a) o apoderado legal; en adelante denominado simplemente como ",v.jsx("strong",{children:"EL CONTRATANTE"}),"."]}),v.jsxs("p",{children:["Domiciliado en ",d.direccion," Con Nmero de Celular ",d.celular,", en adelante denominado simplemente como ",v.jsx("strong",{children:"EL CONTRATANTE"}),"."]}),v.jsx("div",{style:{margin:"20px 0",border:"1px solid black"},children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{width:"40px"},children:"No."}),v.jsx("th",{style:{width:"100px"},children:"RUDE"}),v.jsx("th",{style:{width:"100px"},children:"CI"}),v.jsx("th",{children:"Nombre del Estudiante"}),v.jsx("th",{style:{width:"120px"},children:"Curso"})]})}),v.jsx("tbody",{children:v.jsxs("tr",{children:[v.jsx("td",{style:{textAlign:"center"},children:"1"}),v.jsx("td",{style:{textAlign:"center"},children:p.rude||"S/N"}),v.jsx("td",{style:{textAlign:"center"},children:h(p.ci,p.complementoCI)}),v.jsxs("td",{children:[p.nombres," ",p.primerApellido," ",p.segundoApellido,p.esDistancia&&v.jsx("span",{style:{display:"block",fontSize:"9px",fontWeight:"bold",marginTop:"4px"},children:"(MODALIDAD VIRTUAL)"})]}),v.jsx("td",{style:{textAlign:"center"},children:p.curso})]})})]})}),v.jsx("h2",{children:"CLUSULA SEGUNDA.- (DEL OBJETO)"}),v.jsxs("p",{children:["El objeto del presente contrato es regular la prestacin de servicios educativos por parte de ",v.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," en favor del(los) estudiante(s) bajo tutela de ",v.jsx("strong",{children:"EL CONTRATANTE"})," para la ",v.jsx("strong",{children:"Gestin Escolar 2026"}),", en estricto cumplimiento del Proyecto Educativo Institucional y la normativa del Ministerio de Educacin."]}),v.jsx("h2",{children:"CLUSULA TERCERA.- (DERECHOS Y OBLIGACIONES DE LA UNIDAD EDUCATIVA)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," se obliga a:"]}),v.jsxs("ul",{children:[v.jsx("li",{children:"3.1. Impartir la enseanza conforme a los planes y programas oficiales del Ministerio de Educacin."}),v.jsx("li",{children:"3.2. Proporcionar la infraestructura, mobiliario y recursos pedaggicos adecuados para el desarrollo curricular."}),v.jsx("li",{children:"3.3. Garantizar un ambiente seguro, libre de violencia y discriminacin para todos los estudiantes."}),v.jsx("li",{children:"3.4. Respetar la normativa vigente respecto a la retencin de documentos."})]}),v.jsx("h2",{children:"CLUSULA CUARTA.- (OBLIGACIONES DEL CONTRATANTE)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"EL CONTRATANTE"})," declara conocer los reglamentos internos y asume las siguientes obligaciones ineludibles:"]}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"4.1. Acadmicas:"})," Garantizar la asistencia puntual, el uso del uniforme y la provisin de materiales escolares. Asistir a las reuniones convocadas y firmar los documentos de seguimiento pedaggico."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"4.2. Salud y Psicopedagoga:"})," Presentar los informes psicopedaggicos del estudiante (si corresponde) hasta la finalizacin del Primer Trimestre."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"4.3. Dispositivos:"})," Queda terminantemente PROHIBIDO que el estudiante porte celulares en aula. Si es necesario, deber dejarlo en Direccin."]})]})]}),v.jsxs("div",{className:"page page-break",children:[v.jsx("h2",{children:"CLUSULA QUINTA.- (RGIMEN ECONMICO)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"5.1. Monto y Congelamiento:"})," ",v.jsx("strong",{children:"EL CONTRATANTE"})," se obliga a pagar la pensin escolar anual pactada. Las partes acuerdan que el monto de la mensualidad se mantendr congelado (sin incremento) hasta el mes de abril de 2026."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"5.2. Modalidad de Pago:"})," El monto total de la obligacin podr ser cancelado en cuotas segn el plan elegido.",v.jsx("strong",{children:" EL CONTRATANTE"}),' deber obligatoriamente suscribir el "ANEXO DE MODALIDAD DE PAGO" adjunto a este contrato.']}),v.jsxs("p",{children:[v.jsx("strong",{children:"5.3. Plazo Lmite:"})," Independientemente de la modalidad elegida en el Anexo, la totalidad de las pensiones debe estar cancelada antes del 6 de noviembre de 2026."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"5.4. Beneficio de Beca/Descuento:"})," ",p.tipoBeca!=="Ninguna"?`Se aplica un descuento del ${r.descuento}% (${p.tipoBeca}) condicionado al cumplimiento puntual.`:"No aplica descuento inicial, salvo Beca Social posterior segn normativa."]}),v.jsx("h2",{children:"CLUSULA SEXTA.- (RGIMEN DE MORA Y TRASLADO)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"6.1. Mora Automtica:"})," La falta de pago en las fechas establecidas constituye mora automtica (Inters 5% mensual)."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"6.2. Clusula Penal:"})," Pasados 30 das de mora, se aplicar un recargo administrativo por gestin de cobranza."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"6.3. Traslado por Incumplimiento:"})," En caso de mora por ",v.jsx("strong",{children:"60 das"}),", ",v.jsx("strong",{children:"LA UNIDAD EDUCATIVA queda facultada para proceder con el traslado del estudiante"})," a una unidad educativa fiscal o de convenio."]}),v.jsx("h2",{children:"CLUSULA SPTIMA.- (DISCIPLINA Y SEGURIDAD)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," aplicar las disposiciones del reglamento interno. ",v.jsx("strong",{children:"EL CONTRATANTE"})," se compromete a garantizar que el estudiante cumpla con las normas de conducta."]}),v.jsx("h2",{children:"CLUSULA OCTAVA.- (MODALIDAD)"}),v.jsx("p",{children:"La educacin ser presencial, pudiendo migrar a virtual por emergencia sanitaria."}),v.jsx("h2",{children:"CLUSULA NOVENA.- (RESOLUCIN)"}),v.jsxs("p",{children:["Si la resolucin del contrato se produce por causas imputables a ",v.jsx("strong",{children:"EL CONTRATANTE"}),", este estar obligado a cancelar el ",v.jsx("strong",{children:"monto total anual"})," pactado."]}),v.jsx("h2",{children:"CLUSULA DCIMA.- (DERECHOS DE IMAGEN)"}),v.jsx("p",{children:"Se autoriza el uso de la imagen del estudiante exclusivamente con fines educativos o institucionales."}),v.jsx("h2",{children:"CLUSULA DCIMO PRIMERA.- (CONTROVERSIAS)"}),v.jsx("p",{children:"Las partes acuerdan agotar la va conciliatoria extrajudicial antes de acudir a la jurisdiccin ordinaria."}),v.jsx("h2",{children:"CLUSULA DCIMO SEGUNDA.- (ACEPTACIN)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"EL CONTRATANTE"})," y ",v.jsx("strong",{children:"LA UNIDAD EDUCATIVA"})," declaran su plena conformidad, firmando al pie en doble ejemplar en la ciudad de La Paz, a los ",v.jsx("strong",{children:new Date(r.fechaFirma).getDate()})," das del mes de ",v.jsx("strong",{children:"Enero"})," de 2026."]}),v.jsxs("div",{className:"signatures",children:[v.jsxs("div",{className:"sig-block",children:[v.jsxs("div",{className:"sig-line",children:[d.nombres," ",d.primerApellido]}),v.jsxs("div",{children:["C.I. ",h(d.ci,d.complementoCI)]}),v.jsx("div",{children:"EL CONTRATANTE"})]}),v.jsxs("div",{className:"sig-block",children:[v.jsx("div",{className:"sig-line",children:"Ivone A. Sapiencia F."}),v.jsx("div",{children:"C.I. 080131 LP"}),v.jsx("div",{children:"DIRECTORA"})]})]})]}),v.jsxs("div",{className:"page page-break",children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[v.jsx("h1",{children:"ANEXO DE MODALIDAD DE PAGO - GESTIN 2026"}),v.jsxs("p",{style:{textAlign:"center"},children:["Parte indivisible del Contrato: ",r.numeroContrato]})]}),v.jsxs("div",{style:{background:"#f9fafb",padding:"15px",border:"1px solid #ddd",marginBottom:"20px"},children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Responsable Econmico:"})," ",d.nombres," ",d.primerApellido]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Estudiante:"})," ",p.nombres," ",p.primerApellido]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Curso:"})," ",p.curso]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Modalidad de Pago Elegida:"})," ",r.tipoPago]})]}),v.jsx("h2",{children:"CRONOGRAMA DE PAGOS"}),v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"N"}),v.jsx("th",{style:{textAlign:"left"},children:"Concepto"}),v.jsx("th",{children:"Vencimiento"}),v.jsx("th",{style:{textAlign:"right"},children:"Monto (Bs)"})]})}),v.jsxs("tbody",{children:[x.map(A=>v.jsxs("tr",{children:[v.jsx("td",{style:{textAlign:"center"},children:A.n}),v.jsx("td",{children:A.concepto}),v.jsx("td",{style:{textAlign:"center",fontWeight:"bold"},children:A.vencimiento}),v.jsx("td",{style:{textAlign:"right"},children:g(A.monto)})]},A.n)),v.jsxs("tr",{style:{background:"#f0f0f0",fontWeight:"bold"},children:[v.jsx("td",{colSpan:3,style:{textAlign:"right"},children:"TOTAL COMPROMETIDO:"}),v.jsx("td",{style:{textAlign:"right"},children:g(r.montoAnual)})]})]})]}),v.jsxs("p",{style:{fontSize:"11px",fontStyle:"italic",marginTop:"20px"},children:["* El incumplimiento de estas fechas generar las moras y sanciones estipuladas en la Clusula Sexta.",v.jsx("br",{}),"* Conserve sus recibos de pago como nico respaldo vlido."]}),v.jsxs("div",{className:"signatures",children:[v.jsxs("div",{className:"sig-block",children:[v.jsxs("div",{className:"sig-line",children:[d.nombres," ",d.primerApellido]}),v.jsx("div",{children:"Firma del Padre/Tutor"})]}),v.jsxs("div",{className:"sig-block",children:[v.jsx("div",{className:"sig-line",children:"Encargado de Cobranzas"}),v.jsx("div",{children:"Visto Bueno"})]})]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto bg-gray-200 dark:bg-gray-900 p-8 flex justify-center",children:v.jsx("div",{className:"bg-white p-8 w-[21cm] min-h-[30cm] shadow-lg text-xs",children:v.jsxs("div",{className:"text-center text-gray-500 mt-40",children:[v.jsx(no,{size:48,className:"mx-auto mb-4 opacity-50"}),v.jsx("h3",{className:"text-xl font-bold text-gray-700",children:"Modo Vista Previa"}),v.jsxs("p",{children:["Haz clic en el botn superior ",v.jsx("strong",{children:'"Imprimir / Abrir PDF"'})," para generar el documento oficial en una nueva ventana."]})]})})})]})})},DE=({db:i,updateDb:t})=>{const[l,a]=Ee.useState(!1),[r,d]=Ee.useState(null),[p,g]=Ee.useState(""),[y,h]=Ee.useState([]),[E,x]=Ee.useState(""),[S,A]=Ee.useState(Ht.MENSUAL),[M,L]=Ee.useState(0),[U,H]=Ee.useState(0),[O,B]=Ee.useState(new Date().toISOString().split("T")[0]),X=Y=>{const le=Y.target.value;g(le),h(le?Yh(i,le):[]),x(""),H(0)},$=Y=>{const le=Y.target.value;x(le);const Te=y.find(de=>de.ci===le);Te&&(Te.tipoBeca==="Descuento Hermanos"?H(10):Te.tipoBeca==="Beca Social"?H(20):Te.tipoBeca==="Beca Excelencia"?H(50):H(0))},Z=(Y,le)=>Y-Y*(le/100),F=(Y,le,Te)=>{const de=Z(Y,le);switch(Te){case Ht.GLOBAL:return de;case Ht.SEMESTRAL:return de/2;case Ht.TRIMESTRAL:return de/4;case Ht.MENSUAL:return de/10;default:return de}},fe=()=>{if(!p||!E||M<=0){alert("Seleccione padre, estudiante y monto vlido.");return}const Y=Z(M,U),le={id:Uu(),numeroContrato:`CTR-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3)}`,idPadre:p,idEstudiante:E,tipoPago:S,montoAnual:Y,descuento:U,montoCuota:F(M,U,S),fechaFirma:O};t({...i,contracts:[...i.contracts,le]}),a(!1),ee()},ee=()=>{g(""),x(""),h([]),L(0),H(0)};return v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[v.jsx(no,{className:"mr-2"})," Contratos"]}),v.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition",children:[v.jsx(ku,{size:18,className:"mr-1"})," Nuevo Contrato"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.contracts.map(Y=>{const le=i.students.find(Te=>Te.ci===Y.idEstudiante);return v.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition bg-gray-50 dark:bg-gray-750 dark:bg-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded",children:Y.numeroContrato}),v.jsxs("h3",{className:"font-bold mt-2 text-gray-800 dark:text-gray-100",children:[le==null?void 0:le.primerApellido," ",le==null?void 0:le.nombres]})]}),v.jsx("button",{onClick:()=>d(Y.id),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:v.jsx(zv,{size:20})})]}),v.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[v.jsxs("p",{children:["Tipo: ",v.jsx("span",{className:"font-medium",children:Y.tipoPago})]}),v.jsxs("p",{children:["Cuota: ",v.jsx("span",{className:"font-medium",children:Y.montoCuota.toLocaleString("es-BO",{style:"currency",currency:"BOB"})})]}),Y.descuento>0&&v.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-bold",children:["Descuento aplicado: ",Y.descuento,"%"]}),v.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Fecha: ",Y.fechaFirma]})]})]},Y.id)}),i.contracts.length===0&&v.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay contratos registrados."})]}),l&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-lg shadow-xl border dark:border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Generar Contrato"}),v.jsx("button",{onClick:()=>a(!1),children:v.jsx(lo,{className:"text-gray-500 dark:text-gray-400"})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seleccionar Padre (Titular)"}),v.jsxs("select",{className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:p,onChange:X,children:[v.jsx("option",{value:"",children:"-- Buscar por CI --"}),i.parents.map(Y=>v.jsxs("option",{value:Y.ci,children:[Y.ci," - ",Y.primerApellido," ",Y.nombres]},Y.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seleccionar Estudiante"}),v.jsxs("select",{className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",value:E,onChange:$,disabled:!p,children:[v.jsx("option",{value:"",children:"-- Seleccionar --"}),y.map(Y=>v.jsxs("option",{value:Y.ci,children:[Y.rude," - ",Y.primerApellido," ",Y.nombres,Y.tipoBeca!=="Ninguna"?` (${Y.tipoBeca})`:""]},Y.id))]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Pago"}),v.jsx("select",{className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:S,onChange:Y=>A(Y.target.value),children:Object.values(Ht).map(Y=>v.jsx("option",{value:Y,children:Y},Y))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Monto Base Anual (Bs)"}),v.jsx("input",{type:"number",className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:M,onChange:Y=>L(Number(Y.target.value))})]})]}),v.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 p-3 rounded border border-yellow-200 dark:border-yellow-700/50",children:[v.jsxs("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-400 uppercase mb-1 flex items-center",children:[v.jsx(Dv,{size:12,className:"mr-1"})," Descuento (%)"]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"number",className:"w-20 border border-gray-300 dark:border-gray-600 p-1 rounded mr-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:U,onChange:Y=>H(Number(Y.target.value)),min:"0",max:"100"}),v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Monto Final: ",v.jsxs("strong",{children:[Z(M,U).toFixed(2)," Bs"]})]})]})]}),v.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded text-sm text-blue-800 dark:text-blue-300",children:["Cuota estimada: ",v.jsxs("strong",{children:[F(M,U,S).toFixed(2)," Bs."]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha de Firma"}),v.jsx("input",{type:"date",className:"w-full mt-1 border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:O,onChange:Y=>B(Y.target.value)})]})]}),v.jsx("div",{className:"mt-6 flex justify-end",children:v.jsxs("button",{onClick:fe,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[v.jsx(Lu,{size:18,className:"mr-2"})," Generar Contrato"]})})]})}),r&&v.jsx(wE,{db:i,contractId:r,onClose:()=>d(null)})]})};var UE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kE,LE;function GE(){return{geminiUrl:kE,vertexUrl:LE}}function HE(i,t,l,a){var r,d;if(!(i!=null&&i.baseUrl)){const p=GE();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function Q(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const E=y[h];c(E,t.slice(d+1),l[h])}else for(const h of y)c(h,t.slice(d+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function VE(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),d=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}vu(i,r,d,0,p)}}function vu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])vu(y,t,l,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,E]of Object.entries(y)){const x=[];for(const S of l.slice(a))S==="*"?x.push(h):x.push(S);c(p,x,E)}for(const h of g)delete p[h]}}else{const p=i;d in p&&vu(p[d],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PE(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function zE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],BE(p)),t}function qE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],OE(p)),t}function BE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>FE(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function OE(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>YE(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function FE(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],$E(l)),t}function YE(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],jE(l)),t}function JE(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function XE(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function KE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],QE(p)),t}function QE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Kh(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],ZE(p)),t}function ZE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function $E(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function jE(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var um;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(um||(um={}));var cm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(cm||(cm={}));var dm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(dm||(dm={}));var On;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(On||(On={}));var fm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fm||(fm={}));var pm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(pm||(pm={}));var mm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mm||(mm={}));var hm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hm||(hm={}));var gm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(gm||(gm={}));var ym;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(ym||(ym={}));var vm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(vm||(vm={}));var Em;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Em||(Em={}));var Tm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Sm||(Sm={}));var xm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(xm||(xm={}));var _m;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(_m||(_m={}));var Am;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Am||(Am={}));var Cm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cm||(Cm={}));var Nm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nm||(Nm={}));var bm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(bm||(bm={}));var Rm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Rm||(Rm={}));var wa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(wa||(wa={}));var Mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mm||(Mm={}));var Im;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var wm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wm||(wm={}));var Eu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Eu||(Eu={}));var Dm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Dm||(Dm={}));var Um;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Um||(Um={}));var km;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(km||(km={}));var Lm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lm||(Lm={}));var Gm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Gm||(Gm={}));var Hm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var Vm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Vm||(Vm={}));var Pm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pm||(Pm={}));var zm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zm||(zm={}));var qm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qm||(qm={}));var Bm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Bm||(Bm={}));var Om;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Om||(Om={}));var Fm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Fm||(Fm={}));var Ym;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ym||(Ym={}));var Jm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Jm||(Jm={}));var Xm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Xm||(Xm={}));var Km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Km||(Km={}));var Qm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Qm||(Qm={}));var Zm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Zm||(Zm={}));var $m;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})($m||($m={}));var jm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(jm||(jm={}));var Wm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wm||(Wm={}));var eh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(th||(th={}));var nh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(nh||(nh={}));var ih;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ih||(ih={}));var lh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lh||(lh={}));var oh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(oh||(oh={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class Tu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Wl{get text(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",E=!1;const x=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(S))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&x.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;E=!0,h+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),E?h:void 0}get data(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const E=[];for(const x of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(x))S!=="inlineData"&&(A!==null||A!==void 0)&&E.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return E.length>0&&console.warn(`there are non-data parts ${E} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.functionCall).map(E=>E.functionCall).filter(E=>E!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,d,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const E=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((E==null?void 0:E.length)!==0)return(h=E==null?void 0:E[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,d,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const E=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((E==null?void 0:E.length)!==0)return(h=E==null?void 0:E[0])===null||h===void 0?void 0:h.output}}class ah{}class sh{}class WE{}class eT{}class tT{}class nT{}class rh{}class uh{}class ch{}class iT{}class Da{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Da;let r;const d=t;return l?r=qE(d):r=zE(d),Object.assign(a,r),a}}class dh{}class fh{}class ph{}class mh{}class lT{}class oT{}class aT{}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Hu,d=KE(t);return Object.assign(a,d),a}}class sT{}class rT{}class uT{}class hh{}class cT{get text(){var t,l,a;let r="",d=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,a;let r="";const d=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Vu,d=Kh(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Qh(i,t){const l=_e(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Zh(i){return Array.isArray(i)?i.map(t=>Ua(t)):[Ua(i)]}function Ua(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $h(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jh(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Wh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>gh(t)):[gh(i)]}function Su(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function yh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function vh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return Su(i)?i:{role:"user",parts:Wh(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=lt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=lt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>lt(l)):[lt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(yh(i)||vh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],l=[],a=Su(i[0]);for(const r of i){const d=Su(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(yh(r)||vh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Wh(l)}),t}function fT(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(On).includes(l[0].toUpperCase())?l[0].toUpperCase():On.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(On).includes(a.toUpperCase())?a.toUpperCase():On.TYPE_UNSPECIFIED})}}function Wi(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&fT(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(On).includes(g.toUpperCase())?g.toUpperCase():On.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=Wi(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Wi(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,E]of Object.entries(g))y[h]=Wi(E);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function zu(i){return Wi(i)}function qu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Bu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function tl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wi(t.response));return i}function nl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function pT(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return pT(i,t,"cachedContents")}function eg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Fn(i){return Gu(i)}function mT(i){return i!=null&&typeof i=="object"&&"name"in i}function hT(i){return i!=null&&typeof i=="object"&&"video"in i}function gT(i){return i!=null&&typeof i=="object"&&"uri"in i}function tg(i){var t;let l;if(mT(i)&&(l=i.name),!(gT(i)&&(l=i.uri,l===void 0))&&!(hT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function ng(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function ig(i){for(const t of["models","tunedModels","publisherModels"])if(yT(i,t))return i[t];return[]}function yT(i,t){return i!==null&&typeof i=="object"&&t in i}function vT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function ET(i,t={}){const l=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=vT(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function lg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function TT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function og(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function il(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function ag(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>tS(p))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function xT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function _T(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ma(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],ag(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],ST(og(h))),t}function xu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],ag(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const E=u(i,["model"]);E!=null&&c(t,["model"],E);const x=u(i,["inputConfig"]);x!=null&&c(t,["src"],AT(x));const S=u(i,["outputConfig"]);S!=null&&c(t,["dest"],xT(og(S)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function AT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function CT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>eS(i,p))),c(l,["requests","requests"],d)}return l}function NT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function bT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function RT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function MT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function IT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],wT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const E=u(i,["safetyRatings"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>A)),c(t,["safetyRatings"],S)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function wT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function sg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>rS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function DT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function UT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],_T(TT(r))),l}function Eh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],CT(i,lg(i,r)));const d=u(t,["config"]);return d!=null&&DT(d,l),l}function kT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],NT(lg(i,r)));const d=u(t,["config"]);return d!=null&&UT(d,l),l}function LT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function GT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],OT(i,r));const d=u(t,["config"]);return d!=null&&LT(d,l),l}function HT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function VT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function PT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function zT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function qT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let d=Pu(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],BT(r,l)),VE(l,{"requests[].*":"requests[].request.*"})),l}function BT(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function OT(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],qT(i,r)),l}function FT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function XT(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],sg(lt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],zu(H));const O=u(t,["responseJsonSchema"]);if(O!=null&&c(a,["responseJsonSchema"],O),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(t,["safetySettings"]);if(l!==void 0&&B!=null){let de=B;Array.isArray(de)&&(de=de.map(Oe=>uS(Oe))),c(l,["safetySettings"],de)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let de=nl(X);Array.isArray(de)&&(de=de.map(Oe=>dS(tl(Oe)))),c(l,["tools"],de)}const $=u(t,["toolConfig"]);if(l!==void 0&&$!=null&&c(l,["toolConfig"],cS($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],yn(i,Z));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const ee=u(t,["speechConfig"]);if(ee!=null&&c(a,["speechConfig"],qu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=u(t,["thinkingConfig"]);Y!=null&&c(a,["thinkingConfig"],Y);const le=u(t,["imageConfig"]);le!=null&&c(a,["imageConfig"],WT(le));const Te=u(t,["enableEnhancedCivicAnswers"]);return Te!=null&&c(a,["enableEnhancedCivicAnswers"],Te),a}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>IT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function QT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function ZT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],il(i,a)),l}function $T(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function jT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function WT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function eS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>sg(y))),c(l,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(l,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],XT(i,p,u(l,["request"],{}))),l}function tS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],KT(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function nS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function iS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),l}function lS(i){const t={},l=u(i,["config"]);return l!=null&&nS(l,t),t}function oS(i){const t={},l=u(i,["config"]);return l!=null&&iS(l,t),t}function aS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ma(p))),c(t,["batchJobs"],d)}return t}function sS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>xu(p))),c(t,["batchJobs"],d)}return t}function rS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],FT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],YT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],bT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function uS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function cS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],JT(a)),t}function dS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],$T(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],jT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class di{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new di(hn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Eh(this.apiClient,t),a=l._url,r=Q("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const E of y){const x=Object.assign({},E);if(x.systemInstruction){const S=x.systemInstruction;delete x.systemInstruction;const A=x.request;A.systemInstruction=S,x.request=A}h.push(x)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>xu(E))}else{const h=Eh(this.apiClient,t);return g=Q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>Ma(E))}}async createEmbeddingsInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GT(this.apiClient,t);return d=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ma(y))}}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>xu(E))}else{const h=QT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>Ma(E))}}async cancel(t){var l,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=MT(this.apiClient,t);p=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=RT(this.apiClient,t);p=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oS(t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=sS(E),S=new hh;return Object.assign(S,x),S})}else{const h=lS(t);return g=Q("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=aS(E),S=new hh;return Object.assign(S,x),S})}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=VT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>zT(E))}else{const h=HT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>PT(E))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Th(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>GS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function mS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=Vt(p);Array.isArray(E)&&(E=E.map(x=>Th(x))),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Th(lt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(x=>VS(x))),c(t,["tools"],E)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],HS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function hS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Vt(p);Array.isArray(x)&&(x=x.map(S=>S)),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>PS(S))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const E=u(i,["kmsKeyName"]);return t!==void 0&&E!=null&&c(t,["encryption_spec","kmsKeyName"],E),l}function gS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Qh(i,a));const r=u(t,["config"]);return r!=null&&mS(r,l),l}function yS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Qh(i,a));const r=u(t,["config"]);return r!=null&&hS(r,l),l}function vS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function ES(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function TS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function SS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function xS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function _S(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function CS(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function NS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function bS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function RS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function MS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function IS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function wS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function DS(i){const t={},l=u(i,["config"]);return l!=null&&IS(l,t),t}function US(i){const t={},l=u(i,["config"]);return l!=null&&wS(l,t),t}function kS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function LS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function GS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],xS(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],_S(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],pS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function HS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],AS(a)),t}function VS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],RS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],MS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function PS(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>CS(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function zS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function qS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function BS(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&zS(r,l),l}function OS(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&qS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new di(hn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yS(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=gS(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bS(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=NS(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ES(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=SS(E),S=new ph;return Object.assign(S,x),S})}else{const h=vS(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=TS(E),S=new ph;return Object.assign(S,x),S})}}async update(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OS(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>E)}else{const h=BS(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>E)}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=US(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=LS(E),S=new mh;return Object.assign(S,x),S})}else{const h=DS(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=kS(E),S=new mh;return Object.assign(S,x),S})}}}function ka(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Sh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function Ot(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(M){return Promise.resolve(M).then(A,x)}}function g(A,M){a[A]&&(r[A]=function(L){return new Promise(function(U,H){d.push([A,L,U,H])>1||y(A,L)})},M&&(r[A]=M(r[A])))}function y(A,M){try{h(a[A](M))}catch(L){S(d[0][3],L)}}function h(A){A.value instanceof ae?Promise.resolve(A.value.v).then(E,x):S(d[0][2],A)}function E(A){y("next",A)}function x(A){y("throw",A)}function S(A,M){A(M),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Sh=="function"?Sh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=i[d]&&function(p){return new Promise(function(g,y){p=i[d](p),r(g,y,p.done,p.value)})}}function r(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:rg(l)}function rg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function JS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function xh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),d&&!rg(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class XS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new KS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class KS{constructor(t,l,a,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),JS(d)}async sendMessage(t){var l;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await r,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,E=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];E!=null&&(S=(g=E.slice(x))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const l=t?xh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Ot(this,arguments,function*(){var r,d,p,g,y,h;const E=[];try{for(var x=!0,S=Ft(t),A;A=yield ae(S.next()),r=A.done,!r;x=!0){g=A.value,x=!1;const M=g;if(YS(M)){const L=(h=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;L!==void 0&&E.push(L)}yield yield ae(M)}}catch(M){d={error:M}}finally{try{!x&&!r&&(p=S.return)&&(yield ae(p.call(S)))}finally{if(d)throw d.error}}this.recordHistory(l,E)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...xh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ha extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ha.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QS(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function ZS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function $S(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],tg(l)),t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function WS(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],tg(l)),t}function ex(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function tx(i){const t={},l=u(i,["config"]);return l!=null&&ex(l,t),t}function nx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends gn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new di(hn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tx(t);return d=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>{const h=nx(y),E=new sT;return Object.assign(E,h),E})}}async createInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QS(t);return d=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=ZS(y),E=new rT;return Object.assign(E,h),E})}}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WS(t);return d=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$S(t);return d=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>{const h=jS(y),E=new uT;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lx(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>Tx(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function ox(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ax(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sx(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function rx(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const E=u(i,["mediaResolution"]);E!=null&&c(t,["mediaResolution"],E);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const O=u(i,["speechConfig"]);O!=null&&c(t,["speechConfig"],O);const B=u(i,["stopSequences"]);B!=null&&c(t,["stopSequences"],B);const X=u(i,["temperature"]);X!=null&&c(t,["temperature"],X);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const Z=u(i,["topK"]);Z!=null&&c(t,["topK"],Z);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ux(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function cx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function dx(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],lx(lt(M)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let Z=nl(L);Array.isArray(Z)&&(Z=Z.map(F=>xx(tl(F)))),c(t,["setup","tools"],Z)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],Sx(U));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const O=u(i,["outputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","outputAudioTranscription"],O);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function fx(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],rx(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],lt(M));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let F=nl(L);Array.isArray(F)&&(F=F.map(fe=>_x(tl(fe)))),c(t,["setup","tools"],F)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const O=u(i,["outputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","outputAudioTranscription"],O);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const $=u(i,["proactivity"]);t!==void 0&&$!=null&&c(t,["setup","proactivity"],$);const Z=u(i,["explicitVadSignal"]);return t!==void 0&&Z!=null&&c(t,["setup","explicitVadSignal"],Z),l}function px(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],dx(r,l)),l}function mx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],fx(r,l)),l}function hx(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function gx(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function yx(i){const t={},l=u(i,["media"]);if(l!=null){let h=Zh(l);Array.isArray(h)&&(h=h.map(E=>Ia(E))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ia(jh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Ia($h(d)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function vx(i){const t={},l=u(i,["media"]);if(l!=null){let h=Zh(l);Array.isArray(h)&&(h=h.map(E=>E)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],jh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],$h(d));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Ex(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],Ax(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function Tx(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],ox(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],ax(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ia(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Sx(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],ux(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],cx(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function _x(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>sx(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function Ax(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["cacheTokensDetails"],A)}const E=u(i,["candidatesTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["responseTokensDetails"],A)}const x=u(i,["toolUsePromptTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["toolUsePromptTokensDetails"],A)}const S=u(i,["trafficType"]);return S!=null&&c(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cx(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Nx(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],bx(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const E=u(i,["safetyRatings"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>A)),c(t,["safetyRatings"],S)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function bx(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function Rx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let d=Vt(r);Array.isArray(d)&&(d=d.map(p=>p)),c(l,["contents"],d)}return l}function Mx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function Ix(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],wx(a)),t}function wx(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Va(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>z_(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Dx(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function Ux(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function kx(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>fg(g))),c(t,["tools"],p)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],C_(d)),l}function Lx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&Ux(d),l}function Gx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&kx(d,l),l}function Hx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function Vx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function Px(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function zx(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function qx(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function Bx(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function Ox(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const O=u(i,["editMode"]);t!==void 0&&O!=null&&c(t,["parameters","editMode"],O);const B=u(i,["baseSteps"]);return t!==void 0&&B!=null&&c(t,["parameters","editConfig","baseSteps"],B),l}function Fx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>J_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&Ox(p,l),l}function Yx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function Jx(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Xx(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function Kx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=Pu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&Jx(d,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],_e(i,p)),l}function Qx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Pu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&Xx(d,l),l}function Zx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function $x(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ix(p))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function jx(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function Wx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function e_(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function t_(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function n_(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function i_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Va(lt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],zu(H));const O=u(t,["responseJsonSchema"]);if(O!=null&&c(a,["responseJsonSchema"],O),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(t,["safetySettings"]);if(l!==void 0&&B!=null){let de=B;Array.isArray(de)&&(de=de.map(Oe=>X_(Oe))),c(l,["safetySettings"],de)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let de=nl(X);Array.isArray(de)&&(de=de.map(Oe=>eA(tl(Oe)))),c(l,["tools"],de)}const $=u(t,["toolConfig"]);if(l!==void 0&&$!=null&&c(l,["toolConfig"],W_($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],yn(i,Z));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const ee=u(t,["speechConfig"]);if(ee!=null&&c(a,["speechConfig"],qu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=u(t,["thinkingConfig"]);Y!=null&&c(a,["thinkingConfig"],Y);const le=u(t,["imageConfig"]);le!=null&&c(a,["imageConfig"],I_(le));const Te=u(t,["enableEnhancedCivicAnswers"]);return Te!=null&&c(a,["enableEnhancedCivicAnswers"],Te),a}function l_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],lt(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const E=u(t,["stopSequences"]);E!=null&&c(a,["stopSequences"],E);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const S=u(t,["logprobs"]);S!=null&&c(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],zu(H));const O=u(t,["responseJsonSchema"]);O!=null&&c(a,["responseJsonSchema"],O);const B=u(t,["routingConfig"]);B!=null&&c(a,["routingConfig"],B);const X=u(t,["modelSelectionConfig"]);X!=null&&c(a,["modelConfig"],X);const $=u(t,["safetySettings"]);if(l!==void 0&&$!=null){let G=$;Array.isArray(G)&&(G=G.map(J=>J)),c(l,["safetySettings"],G)}const Z=u(t,["tools"]);if(l!==void 0&&Z!=null){let G=nl(Z);Array.isArray(G)&&(G=G.map(J=>fg(tl(J)))),c(l,["tools"],G)}const F=u(t,["toolConfig"]);l!==void 0&&F!=null&&c(l,["toolConfig"],F);const fe=u(t,["labels"]);l!==void 0&&fe!=null&&c(l,["labels"],fe);const ee=u(t,["cachedContent"]);l!==void 0&&ee!=null&&c(l,["cachedContent"],yn(i,ee));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const le=u(t,["mediaResolution"]);le!=null&&c(a,["mediaResolution"],le);const Te=u(t,["speechConfig"]);Te!=null&&c(a,["speechConfig"],qu(Te));const de=u(t,["audioTimestamp"]);de!=null&&c(a,["audioTimestamp"],de);const Oe=u(t,["thinkingConfig"]);Oe!=null&&c(a,["thinkingConfig"],Oe);const ut=u(t,["imageConfig"]);if(ut!=null&&c(a,["imageConfig"],w_(ut)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function _h(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],i_(i,d,l)),l}function Ah(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],l_(i,d,l)),l}function Ch(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>Nx(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Nh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(E=>E)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function o_(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const E=u(i,["language"]);t!==void 0&&E!=null&&c(t,["parameters","language"],E);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function a_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const O=u(i,["imageSize"]);t!==void 0&&O!=null&&c(t,["parameters","sampleImageSize"],O);const B=u(i,["enhancePrompt"]);return t!==void 0&&B!=null&&c(t,["parameters","enhancePrompt"],B),l}function s_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&o_(d,l),l}function r_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&a_(d,l),l}function u_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>S_(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],cg(r)),t}function c_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Pa(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],dg(r)),t}function d_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=u(i,["lastFrame"]);t!==void 0&&E!=null&&c(t,["instances[0]","lastFrame"],za(E));const x=u(i,["referenceImages"]);if(t!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(A=>pA(A))),c(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function f_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&c(t,["parameters","personGeneration"],E);const x=u(i,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","negativePrompt"],S);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const M=u(i,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],Yt(L));const U=u(i,["referenceImages"]);if(t!==void 0&&U!=null){let B=U;Array.isArray(B)&&(B=B.map(X=>mA(X))),c(t,["instances[0]","referenceImages"],B)}const H=u(i,["mask"]);t!==void 0&&H!=null&&c(t,["instances[0]","mask"],fA(H));const O=u(i,["compressionQuality"]);return t!==void 0&&O!=null&&c(t,["parameters","compressionQuality"],O),l}function p_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],y_(p)),t}function m_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],v_(p)),t}function h_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],za(d));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],pg(p));const g=u(t,["source"]);g!=null&&E_(g,l);const y=u(t,["config"]);return y!=null&&d_(y,l),l}function g_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Yt(d));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],mg(p));const g=u(t,["source"]);g!=null&&T_(g,l);const y=u(t,["config"]);return y!=null&&f_(y,l),l}function y_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>__(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function v_(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>A_(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function E_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],za(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],pg(d)),l}function T_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yt(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],mg(d)),l}function S_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],D_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],cg(r)),t}function Pa(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],ug(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],dg(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function x_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],ug(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function __(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],cA(l)),t}function A_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],dA(l)),t}function C_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const E=u(i,["mediaResolution"]);E!=null&&c(t,["mediaResolution"],E);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const O=u(i,["speechConfig"]);O!=null&&c(t,["speechConfig"],O);const B=u(i,["stopSequences"]);B!=null&&c(t,["stopSequences"],B);const X=u(i,["temperature"]);X!=null&&c(t,["temperature"],X);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const Z=u(i,["topK"]);Z!=null&&c(t,["topK"],Z);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function N_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function b_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function R_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function M_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function I_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function w_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&c(t,["imageOutputOptions","mimeType"],d);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function D_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Fn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ug(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function za(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Fn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Yt(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function U_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],ng(i,g)),a}function k_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],ng(i,g)),a}function L_(i,t){const l={},a=u(t,["config"]);return a!=null&&U_(i,a,l),l}function G_(i,t){const l={},a=u(t,["config"]);return a!=null&&k_(i,a,l),l}function H_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=ig(r);Array.isArray(d)&&(d=d.map(p=>_u(p))),c(t,["models"],d)}return t}function V_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=ig(r);Array.isArray(d)&&(d=d.map(p=>Au(p))),c(t,["models"],d)}return t}function P_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function _u(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],tA(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const E=u(i,["temperature"]);E!=null&&c(t,["temperature"],E);const x=u(i,["maxTemperature"]);x!=null&&c(t,["maxTemperature"],x);const S=u(i,["topP"]);S!=null&&c(t,["topP"],S);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const M=u(i,["thinking"]);return M!=null&&c(t,["thinking"],M),t}function Au(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const p=u(i,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>jx(S))),c(t,["endpoints"],x)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],nA(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const E=u(i,["checkpoints"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["checkpoints"],x)}return t}function z_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Wx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],e_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Cx(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function q_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Yt(l)),t}function B_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function O_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&Y_(r,l);const d=u(t,["config"]);return d!=null&&B_(d,l),l}function F_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Pa(r))),c(t,["generatedImages"],a)}return t}function Y_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Yt(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>q_(g))),c(t,["instances[0]","productImages"],p)}return l}function J_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Yt(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],P_(d));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],Dx(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function cg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function dg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function X_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function K_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Yt(l)),t}function Q_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function Z_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&j_(r,l);const d=u(t,["config"]);return d!=null&&Q_(d,l),l}function $_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>x_(r))),c(t,["generatedMasks"],a)}return t}function j_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yt(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],K_(d)),l}function W_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],t_(a)),t}function eA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],R_(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],M_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function fg(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>n_(S))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const E=u(i,["urlContext"]);return E!=null&&c(t,["urlContext"],E),t}function tA(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function nA(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function iA(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function lA(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function oA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],_e(i,a));const r=u(t,["config"]);return r!=null&&iA(r,l),l}function aA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&lA(r,l),l}function sA(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const E=u(i,["imagePreservationFactor"]);t!==void 0&&E!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],E);const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&c(t,["parameters","sampleCount"],S);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function rA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Yt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&sA(p,l),l}function uA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function cA(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Fn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function dA(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function fA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Yt(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function pA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],za(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function mA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Yt(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function pg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function mg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Fn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function gA(i){const t={},l=u(i,["config"]);return l!=null&&hA(l,t),t}function yA(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function vA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&yA(a,t),t}function EA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function TA(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function SA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],_A(p)),t}function xA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&TA(r,t),t}function _A(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function AA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function CA(i){const t={},l=u(i,["config"]);return l!=null&&AA(l,t),t}function NA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function hg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function bA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&hg(a,t),t}function RA(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MA="Content-Type",IA="X-Server-Timeout",wA="User-Agent",Cu="x-goog-api-client",DA="1.35.0",UA=`google-genai-sdk/${DA}`,kA="v1beta1",LA="v1beta";class GA{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:kA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:LA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const d=new AbortController,p=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return l&&l.extraBody!==null&&HA(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await bh(r),new Tu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await bh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ot(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:E}=yield ae(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=d.decode(E,{stream:!0});try{const M=JSON.parse(x);if("error"in M){const L=JSON.parse(JSON.stringify(M.error)),U=L.status,H=L.code,O=`got status: ${U}. ${JSON.stringify(M)}`;if(H>=400&&H<600)throw new Ha({message:O,status:H})}}catch(M){if(M.name==="ApiError")throw M}p+=x;let S=-1,A=0;for(;;){S=-1,A=0;for(const U of y){const H=p.indexOf(U);H!==-1&&(S===-1||H<S)&&(S=H,A=U.length)}if(S===-1)break;const M=p.substring(0,S);p=p.substring(S+A);const L=M.trim();if(L.startsWith(g)){const U=L.substring(g.length).trim();try{const H=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new Tu(H))}catch(H){throw new Error(`exception parsing stream chunk ${U}. ${H}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=UA+" "+this.clientOptions.userAgentExtra;return t[wA]=l,t[Cu]=l,t[MA]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(IA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),E=Q("upload/v1beta/files",y._url),x=await this.fetchUploadUrl(E,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,l,a){var r;const d=this.clientOptions.uploader,p=await d.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,E=this.getFileName(l),x={};a!=null&&hg(a,x);const S=await this.fetchUploadUrl(h,g,y,E,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(l,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,d,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const E=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(E===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return E}}async function bh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Ha({message:r,status:l}):new Error(r)}}function HA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],E=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&E&&typeof E=="object"&&!Array.isArray(E)?g[y]=a(E,h):(E&&h&&typeof E!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof E}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA="mcp_used/unknown";let PA=!1;function gg(i){for(const t of i)if(zA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return PA}function yg(i){var t;const l=(t=i[Cu])!==null&&t!==void 0?t:"";i[Cu]=(l+` ${VA}`).trimStart()}function zA(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function qA(i){return Ot(this,arguments,function*(l,a=100){let r,d=0;for(;d<a;){const p=yield ae(l.listTools({cursor:r}));for(const g of p.tools)yield yield ae(g),d++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ou{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Ou(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const E of this.mcpClients)try{for(var g=!0,y=(l=void 0,Ft(qA(E))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;p.push(x);const S=x.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=E}}catch(x){l={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),ET(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BA(i,t,l){const a=new dT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class OA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=JA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const E=new Promise(B=>{h=B}),x=t.callbacks,S=function(){h({})},A=this.apiClient,M={onopen:S,onmessage:B=>{BA(A,x.onmessage,B)},onerror:(l=x==null?void 0:x.onerror)!==null&&l!==void 0?l:function(B){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(B){}},L=this.webSocketFactory.create(y,YA(p),M);L.connect(),await E;const O={setup:{model:_e(this.apiClient,t.model)}};return L.send(JSON.stringify(O)),new FA(L,this.apiClient)}}class FA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=gx(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=hx(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function YA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function JA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KA(i,t,l){const a=new cT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const p=Ex(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class QA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new OA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let E;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&gg(t.config.tools)&&yg(x);const S=WA(x);if(this.apiClient.isVertexAI())E=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,E);else{const ee=this.apiClient.getApiKey();let Y="BidiGenerateContent",le="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Y="BidiGenerateContentConstrained",le="access_token"),E=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Y}?${le}=${ee}`}let A=()=>{};const M=new Promise(ee=>{A=ee}),L=t.callbacks,U=function(){var ee;(ee=L==null?void 0:L.onopen)===null||ee===void 0||ee.call(L),A({})},H=this.apiClient,O={onopen:U,onmessage:ee=>{KA(H,L.onmessage,ee)},onerror:(l=L==null?void 0:L.onerror)!==null&&l!==void 0?l:function(ee){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(ee){}},B=this.webSocketFactory.create(E,jA(S),O);B.connect(),await M;let X=_e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ee=this.apiClient.getProject(),Y=this.apiClient.getLocation();X=`projects/${ee}/locations/${Y}/`+X}let $={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[wa.AUDIO]}:t.config.responseModalities=[wa.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],F=[];for(const ee of Z)if(this.isCallableTool(ee)){const Y=ee;F.push(await Y.tool())}else F.push(ee);F.length>0&&(t.config.tools=F);const fe={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?$=mx(this.apiClient,fe):$=px(this.apiClient,fe),delete $.config,B.send(JSON.stringify($)),new $A(B,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ZA={turnComplete:!0};class $A{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Vt(l.turns),t.isVertexAI()||(a=a.map(r=>Va(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(XA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},ZA),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:vx(t)}:l={realtimeInput:yx(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function jA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function WA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rh=10;function Mh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(el(p)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function el(i){return"callTool"in i&&typeof i.callTool=="function"}function eC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>el(r)))!==null&&a!==void 0?a:!1}function Ih(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(el(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function wh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tC extends gn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!eC(l)||Mh(l.config))return await this.generateContentInternal(y);const h=Ih(l);if(h.length>0){const L=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let E,x;const S=Vt(y.contents),A=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Rh;let M=0;for(;M<A&&(E=await this.generateContentInternal(y),!(!E.functionCalls||E.functionCalls.length===0));){const L=E.candidates[0].content,U=[];for(const H of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(el(H)){const B=await H.callTool(E.functionCalls);U.push(...B)}M++,x={role:"user",parts:U},y.contents=Vt(y.contents),y.contents.push(L),y.contents.push(x),wh(y.config)&&(S.push(L),S.push(x))}return wh(y.config)&&(E.automaticFunctionCallingHistory=S),E},this.generateContentStream=async l=>{var a,r,d,p,g;if(this.maybeMoveToResponseJsonSchem(l),Mh(l.config)){const x=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(x)}const y=Ih(l);if(y.length>0){const x=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,E=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!E)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new di(hn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,d,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(d=l.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>el(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&gg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),yg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const d=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(el(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var l,a,r;const d=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Rh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,E,x){return Ot(this,arguments,function*(){for(var S,A,M,L,U,H;g<d;){p&&(g++,p=!1);const $=yield ae(h.processParamsMaybeAddMcpUsage(x)),Z=yield ae(h.generateContentStreamInternal($)),F=[],fe=[];try{for(var O=!0,B=(A=void 0,Ft(Z)),X;X=yield ae(B.next()),S=X.done,!S;O=!0){L=X.value,O=!1;const ee=L;if(yield yield ae(ee),ee.candidates&&(!((U=ee.candidates[0])===null||U===void 0)&&U.content)){fe.push(ee.candidates[0].content);for(const Y of(H=ee.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(g<d&&Y.functionCall){if(!Y.functionCall.name)throw new Error("Function call name was not returned by the model.");if(E.has(Y.functionCall.name)){const le=yield ae(E.get(Y.functionCall.name).callTool([Y.functionCall]));F.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${E.keys()}, mising tool: ${Y.functionCall.name}`)}}}}catch(ee){A={error:ee}}finally{try{!O&&!S&&(M=B.return)&&(yield ae(M.call(B)))}finally{if(A)throw A.error}}if(F.length>0){p=!0;const ee=new Wl;ee.candidates=[{content:{role:"user",parts:F}}],yield yield ae(ee);const Y=[];Y.push(...fe),Y.push({role:"user",parts:F});const le=Vt(x.contents).concat(Y);x.contents=le}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Nh(E),S=new Wl;return Object.assign(S,x),S})}else{const h=_h(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Ch(E),S=new Wl;return Object.assign(S,x),S})}}async generateContentStreamInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return Ot(this,arguments,function*(){var S,A,M,L;try{for(var U=!0,H=Ft(x),O;O=yield ae(H.next()),S=O.done,!S;U=!0){L=O.value,U=!1;const B=L,X=Nh(yield ae(B.json()));X.sdkHttpResponse={headers:B.headers};const $=new Wl;Object.assign($,X),yield yield ae($)}}catch(B){A={error:B}}finally{try{!U&&!S&&(M=H.return)&&(yield ae(M.call(H)))}finally{if(A)throw A.error}}})})}else{const h=_h(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return Ot(this,arguments,function*(){var S,A,M,L;try{for(var U=!0,H=Ft(x),O;O=yield ae(H.next()),S=O.done,!S;U=!0){L=O.value,U=!1;const B=L,X=Ch(yield ae(B.json()));X.sdkHttpResponse={headers:B.headers};const $=new Wl;Object.assign($,X),yield yield ae($)}}catch(B){A={error:B}}finally{try{!U&&!S&&(M=H.return)&&(yield ae(M.call(H)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Qx(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=$x(E),S=new ah;return Object.assign(S,x),S})}else{const h=Kx(this.apiClient,t);return g=Q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Zx(E),S=new ah;return Object.assign(S,x),S})}}async generateImagesInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=r_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=c_(E),S=new sh;return Object.assign(S,x),S})}else{const h=s_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=u_(E),S=new sh;return Object.assign(S,x),S})}}async editImageInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Fx(this.apiClient,t);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>{const h=Yx(y),E=new WE;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=rA(this.apiClient,t);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>{const h=uA(y),E=new eT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=O_(this.apiClient,t);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=F_(y),E=new tT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,t);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$_(y),E=new nT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=b_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>Au(E))}else{const h=N_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>_u(E))}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=G_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=V_(E),S=new rh;return Object.assign(S,x),S})}else{const h=L_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=H_(E),S=new rh;return Object.assign(S,x),S})}}async update(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=aA(this.apiClient,t);return g=Q("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>Au(E))}else{const h=oA(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>_u(E))}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=zx(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Bx(E),S=new uh;return Object.assign(S,x),S})}else{const h=Px(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=qx(E),S=new uh;return Object.assign(S,x),S})}}async countTokens(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Gx(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Vx(E),S=new ch;return Object.assign(S,x),S})}else{const h=Lx(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=Hx(E),S=new ch;return Object.assign(S,x),S})}}async computeTokens(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Rx(this.apiClient,t);return d=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>{const h=Mx(y),E=new iT;return Object.assign(E,h),E})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p.then(E=>{const x=m_(E),S=new Da;return Object.assign(S,x),S})}else{const h=h_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p.then(E=>{const x=p_(E),S=new Da;return Object.assign(S,x),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC extends gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XE(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json()),p}else{const h=JE(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=PE(t);return d=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>pC(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function oC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],fC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function aC(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],oC(i,a,l)),l}function sC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rC(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function cC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function dC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const E=u(i,["seed"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","seed"],E);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(x));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],lC(lt(M)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let Z=nl(L);Array.isArray(Z)&&(Z=Z.map(F=>hC(tl(F)))),c(t,["setup","tools"],Z)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],mC(U));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const O=u(i,["outputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","outputAudioTranscription"],O);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function fC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],dC(r,l)),l}function pC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],sC(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],rC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],iC(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const E=u(i,["thought"]);E!=null&&c(t,["thought"],E);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function mC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["functionDeclarations"],E)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],uC(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],cC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function yC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=gC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class vC extends gn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=aC(this.apiClient,t);d=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=yC(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function TC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&EC(a,t),t}function SC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function xC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function _C(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&xC(a,t),t}function AC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CC extends gn{constructor(t){super(),this.apiClient=t,this.list=async l=>new di(hn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SC(t);return d=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TC(t);r=Q("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_C(t);return d=Q("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=AC(y),E=new lT;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends gn{constructor(t,l=new CC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new di(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gA(t);return d=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=EA(t);return d=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vA(t);r=Q("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CA(t);return d=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=NA(y),E=new oT;return Object.assign(E,h),E})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bA(t);return d=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=RA(y),E=new aT;return Object.assign(E,h),E})}}async importFile(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xA(t);return d=Q("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=SA(y),E=new Hu;return Object.assign(E,h),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return vg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const bC=()=>vg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const bu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class rt extends Pt{constructor(t,l,a,r){super(`${rt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new qa({message:a,cause:bu(l)});const d=l;return t===400?new Tg(t,d,a,r):t===401?new Sg(t,d,a,r):t===403?new xg(t,d,a,r):t===404?new _g(t,d,a,r):t===409?new Ag(t,d,a,r):t===422?new Cg(t,d,a,r):t===429?new Ng(t,d,a,r):t>=500?new bg(t,d,a,r):new rt(t,d,a,r)}}class Ru extends rt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class qa extends rt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Eg extends qa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Tg extends rt{}class Sg extends rt{}class xg extends rt{}class _g extends rt{}class Ag extends rt{}class Cg extends rt{}class Ng extends rt{}class bg extends rt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC=/^[a-z][a-z0-9+.-]*:/i,MC=i=>RC.test(i);let Mu=i=>(Mu=Array.isArray,Mu(i));const IC=Mu;let wC=IC;const Dh=wC;function DC(i){if(!i)return!0;for(const t in i)return!1;return!0}function UC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const kC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},LC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const VC=()=>{var i,t,l,a,r;const d=HC();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":kh(Deno.build.os),"X-Stainless-Arch":Uh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":kh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Uh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=PC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${d}.${p}`}}}return null}const Uh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",kh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Aa;const zC=()=>Aa??(Aa=VC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Rg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function BC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Rg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Mg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mu(i,t,l){return Ig(),new File(i,t??"unknown_file",l)}function YC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const JC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",XC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&wg(i),KC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function QC(i,t,l){if(Ig(),i=await i,XC(i))return i instanceof File?i:mu([await i.arrayBuffer()],i.name);if(KC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),mu(await Iu(r),t,l)}const a=await Iu(i);if(t||(t=YC(i)),!(l!=null&&l.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return mu(a,t,l)}async function Iu(i){var t,l,a,r,d;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(wg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(JC(i))try{for(var g=!0,y=Ft(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;p.push(...await Iu(E))}}catch(E){l={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const E=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${E?`; constructor: ${E}`:""}${ZC(i)}`)}return p}function ZC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dg{constructor(t){this._client=t}}Dg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ug(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lh=Object.freeze(Object.create(null)),$C=(i=Ug)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const d=[],p=l.reduce((E,x,S)=>{var A,M,L;/[?#]/.test(x)&&(r=!0);const U=a[S];let H=(r?encodeURIComponent:i)(""+U);return S!==a.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((M=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:Lh))!==null&&M!==void 0?M:Lh))===null||L===void 0?void 0:L.toString))&&(H=U+"",d.push({start:E.length+x.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),E+x+(S===a.length?"":H)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((E,x)=>E.start-x.start),d.length>0){let E=0;const x=d.reduce((S,A)=>{const M=" ".repeat(A.start-E),L="^".repeat(A.length);return E=A.start+A.length,S+M+L},"");throw new Pt(`Path parameters result in path with invalid segments:
${d.map(S=>S.error).join(`
`)}
${p}
${x}`)}return p}),Ca=$C(Ug);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kg extends Dg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,d=ka(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ca`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ca`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ca`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const d=l??{},{api_version:p=this._client.apiVersion}=d,g=ka(d,["api_version"]);return this._client.get(Ca`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}kg._key=Object.freeze(["interactions"]);class Lg extends kg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Na;function Fu(i){let t;return(Na??(t=new globalThis.TextEncoder,Na=t.encode.bind(t)))(i)}let ba;function Gh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fu(t):t;this.buffer=jC([this.buffer,l]);const a=[];let r;for(;(r=WC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Gh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Gh(this.buffer.subarray(0,d));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ba.NEWLINE_CHARS=new Set([`
`,"\r"]);Ba.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function WC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function eN(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const La={off:0,error:200,warn:300,info:400,debug:500},Hh=(i,t,l)=>{if(i){if(UC(La,i))return i;st(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(La))}`)}};function to(){}function Ra(i,t,l){return!t||La[i]>La[l]?to:t[i].bind(t)}const tN={error:to,warn:to,info:to,debug:to};let Vh=new WeakMap;function st(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return tN;const r=Vh.get(l);if(r&&r[0]===a)return r[1];const d={error:Ra("error",l,a),warn:Ra("warn",l,a),info:Ra("info",l,a),debug:Ra("debug",l,a)};return Vh.set(l,[a,d]),d}const ci=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const d=a?st(a):console;function p(){return Ot(this,arguments,function*(){var y,h,E,x;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,M=Ft(nN(t,l)),L;L=yield ae(M.next()),y=L.done,!y;A=!0){x=L.value,A=!1;const U=x;if(!S)if(U.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ae(JSON.parse(U.data))}catch(H){throw d.error("Could not parse message into JSON:",U.data),d.error("From chunk:",U.raw),H}}}catch(U){h={error:U}}finally{try{!A&&!y&&(E=M.return)&&(yield ae(E.call(M)))}finally{if(h)throw h.error}}S=!0}catch(U){if(Nu(U))return yield ae(void 0);throw U}finally{S||l.abort()}})}return new ji(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function d(){return Ot(this,arguments,function*(){var y,h,E,x;const S=new Ba,A=Mg(t);try{for(var M=!0,L=Ft(A),U;U=yield ae(L.next()),y=U.done,!y;M=!0){x=U.value,M=!1;const H=x;for(const O of S.decode(H))yield yield ae(O)}}catch(H){h={error:H}}finally{try{!M&&!y&&(E=L.return)&&(yield ae(E.call(L)))}finally{if(h)throw h.error}}for(const H of S.flush())yield yield ae(H)})}function p(){return Ot(this,arguments,function*(){var y,h,E,x;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,M=Ft(d()),L;L=yield ae(M.next()),y=L.done,!y;A=!0){x=L.value,A=!1;const U=x;S||U&&(yield yield ae(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!A&&!y&&(E=M.return)&&(yield ae(E.call(M)))}finally{if(h)throw h.error}}S=!0}catch(U){if(Nu(U))return yield ae(void 0);throw U}finally{S||l.abort()}})}return new ji(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const p=a.next();t.push(p),l.push(p)}return d.shift()}});return[new ji(()=>r(t),this.controller,this.client),new ji(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Rg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await l.next();if(d)return a.close();const p=Fu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function nN(i,t){return Ot(this,arguments,function*(){var a,r,d,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new lN,y=new Ba,h=Mg(i.body);try{for(var E=!0,x=Ft(iN(h)),S;S=yield ae(x.next()),a=S.done,!a;E=!0){p=S.value,E=!1;const A=p;for(const M of y.decode(A)){const L=g.decode(M);L&&(yield yield ae(L))}}}catch(A){r={error:A}}finally{try{!E&&!a&&(d=x.return)&&(yield ae(d.call(x)))}finally{if(r)throw r.error}}for(const A of y.flush()){const M=g.decode(A);M&&(yield yield ae(M))}})}function iN(i){return Ot(this,arguments,function*(){var l,a,r,d;let p=new Uint8Array;try{for(var g=!0,y=Ft(i),h;h=yield ae(y.next()),l=h.done,!l;g=!0){d=h.value,g=!1;const E=d;if(E==null)continue;const x=E instanceof ArrayBuffer?new Uint8Array(E):typeof E=="string"?Fu(E):E;let S=new Uint8Array(p.length+x.length);S.set(p),S.set(x,p.length),p=S;let A;for(;(A=eN(p))!==-1;)yield yield ae(p.slice(0,A)),p=p.slice(A)}}catch(E){a={error:E}}finally{try{!g&&!l&&(r=y.return)&&(yield ae(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ae(p))})}class lN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=oN(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function oN(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aN(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,p=await(async()=>{var g;if(t.options.stream)return st(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):ji.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return st(i).debug(`[${a}] response parsed`,ci({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-d})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yu extends Promise{constructor(t,l,a=aN){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Yu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=Symbol("brand.privateNullableHeaders");function*sN(i){if(!i)return;if(Gg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Dh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Dh(a[1])?a[1]:[a[1]];let p=!1;for(const g of d)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const eo=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[d,p]of sN(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),p===null?(t.delete(d),l.add(g)):(t.append(d,p),l.delete(g))}}return{[Gg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hu=i=>{var t,l,a,r,d,p;if(typeof globalThis.process<"u")return(a=(l=(t=UE)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hg;class Oa{constructor(t){var l,a,r,d,p,g,y,{baseURL:h=hu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(l=hu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:x="v1beta"}=t,S=ka(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:E,apiVersion:x},S),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:Oa.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(p=(d=Hh(A.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Hh(hu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:M,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:qC(),this.encoder=FC,this._options=A,this.apiKey=E,this.apiVersion=x,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=eo([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return eo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return eo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${bC()}`}makeStatusError(t,l,a,r){return rt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=MC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return DC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Yu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,d,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:E,timeout:x}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:E,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(st(this).debug(`[${S}] sending request`,ci({retryOfRequestLogID:a,method:g.method,url:E,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Ru;const L=new AbortController,U=await this.fetchWithTimeout(E,h,x,L).catch(bu),H=Date.now();if(U instanceof globalThis.Error){const B=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Ru;const X=Nu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(l)return st(this).info(`[${S}] connection ${X?"timed out":"failed"} - ${B}`),st(this).debug(`[${S}] connection ${X?"timed out":"failed"} (${B})`,ci({retryOfRequestLogID:a,url:E,durationMs:H-M,message:U.message})),this.retryRequest(g,l,a??S);throw st(this).info(`[${S}] connection ${X?"timed out":"failed"} - error; no more retries left`),st(this).debug(`[${S}] connection ${X?"timed out":"failed"} (error; no more retries left)`,ci({retryOfRequestLogID:a,url:E,durationMs:H-M,message:U.message})),X?new Eg:new qa({cause:U})}const O=`[${S}${A}] ${h.method} ${E} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${H-M}ms`;if(!U.ok){const B=await this.shouldRetry(U);if(l&&B){const ee=`retrying, ${l} attempts remaining`;return await OC(U.body),st(this).info(`${O} - ${ee}`),st(this).debug(`[${S}] response error (${ee})`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:H-M})),this.retryRequest(g,l,a??S,U.headers)}const X=B?"error; no more retries left":"error; not retryable";st(this).info(`${O} - ${X}`);const $=await U.text().catch(ee=>bu(ee).message),Z=LC($),F=Z?void 0:$;throw st(this).debug(`[${S}] response error (${X})`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:F,durationMs:Date.now()-M})),this.makeStatusError(U.status,Z,F,U.headers)}return st(this).info(O),st(this).debug(`[${S}] response start`,ci({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:H-M})),{response:U,options:g,controller:L,requestLogID:S,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,l,a,r){const d=l||{},{signal:p,method:g}=d,y=ka(d,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),E=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},E?{duplex:"half"}:{}),{method:"GET"}),y);g&&(x.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var d;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await GC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,p=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,d;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:E}=p,x=this.buildURL(y,h,E);"timeout"in p&&kC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:A}=this.buildBody({options:p}),M=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:M},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=p.fetchOptions)!==null&&d!==void 0?d:{}),url:x,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=eo([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),zC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=eo([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BC(t)}:this.encoder({body:t,headers:a})}}Oa.DEFAULT_TIMEOUT=6e4;class $e extends Oa{constructor(){super(...arguments),this.interactions=new Lg(this)}}Hg=$e;$e.GeminiNextGenAPIClient=Hg;$e.GeminiNextGenAPIClientError=Pt;$e.APIError=rt;$e.APIConnectionError=qa;$e.APIConnectionTimeoutError=Eg;$e.APIUserAbortError=Ru;$e.NotFoundError=_g;$e.ConflictError=Ag;$e.RateLimitError=Ng;$e.BadRequestError=Tg;$e.AuthenticationError=Sg;$e.InternalServerError=bg;$e.PermissionDeniedError=xg;$e.UnprocessableEntityError=Cg;$e.toFile=QC;$e.Interactions=Lg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function uN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function cN(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function dN(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function fN(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function pN(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Ph(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Ph(A))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let E=u(l,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(E==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=u(i,["beta"]);return t!==void 0&&S!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function mN(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&CN(d);const p=u(i,["config"]);return p!=null&&fN(p,l),l}function hN(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&NN(d,l,t);const p=u(i,["config"]);return p!=null&&pN(p,l,t),l}function gN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function yN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function vN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function EN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function TN(i,t){const l={},a=u(i,["config"]);return a!=null&&vN(a,l),l}function SN(i,t){const l={},a=u(i,["config"]);return a!=null&&EN(a,l),l}function xN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Vg(g))),c(l,["tuningJobs"],p)}return l}function _N(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>wu(g))),c(l,["tuningJobs"],p)}return l}function AN(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function CN(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(l,["examples","examples"],r)}return l}function NN(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Vg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],eg(d));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const E=u(i,["description"]);E!=null&&c(l,["description"],E);const x=u(i,["baseModel"]);x!=null&&c(l,["baseModel"],x);const S=u(i,["_self"]);return S!=null&&c(l,["tunedModel"],AN(S)),l}function wu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],eg(d));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const E=u(i,["error"]);E!=null&&c(l,["error"],E);const x=u(i,["description"]);x!=null&&c(l,["description"],x);const S=u(i,["baseModel"]);S!=null&&c(l,["baseModel"],S);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const M=u(i,["preTunedModel"]);M!=null&&c(l,["preTunedModel"],M);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(l,["supervisedTuningSpec"],L);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(l,["preferenceOptimizationSpec"],U);const H=u(i,["tuningDataStats"]);H!=null&&c(l,["tuningDataStats"],H);const O=u(i,["encryptionSpec"]);O!=null&&c(l,["encryptionSpec"],O);const B=u(i,["partnerModelTuningSpec"]);B!=null&&c(l,["partnerModelTuningSpec"],B);const X=u(i,["customBaseModel"]);X!=null&&c(l,["customBaseModel"],X);const $=u(i,["experiment"]);$!=null&&c(l,["experiment"],$);const Z=u(i,["labels"]);Z!=null&&c(l,["labels"],Z);const F=u(i,["outputUri"]);F!=null&&c(l,["outputUri"],F);const fe=u(i,["pipelineJob"]);fe!=null&&c(l,["pipelineJob"],fe);const ee=u(i,["serviceAccount"]);ee!=null&&c(l,["serviceAccount"],ee);const Y=u(i,["tunedModelDisplayName"]);Y!=null&&c(l,["tunedModelDisplayName"],Y);const le=u(i,["veoTuningSpec"]);return le!=null&&c(l,["veoTuningSpec"],le),l}function bN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["metadata"]);d!=null&&c(l,["metadata"],d);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Ph(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RN extends gn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new di(hn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:Eu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yN(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>wu(E))}else{const h=gN(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>Vg(E))}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=SN(t);return g=Q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=_N(E),S=new dh;return Object.assign(S,x),S})}else{const h=TN(t);return g=Q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=xN(E),S=new dh;return Object.assign(S,x),S})}}async cancel(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=uN(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=dN(E),S=new fh;return Object.assign(S,x),S})}else{const h=rN(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(E=>E.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:E.headers},S})),p.then(E=>{const x=cN(E),S=new fh;return Object.assign(S,x),S})}}async tuneInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=hN(t,t);return d=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>wu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mN(t);return d=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const E=h;return E.sdkHttpResponse={headers:y.headers},E})),r.then(y=>bN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IN=1024*1024*8,wN=3,DN=1e3,UN=2,Ga="x-goog-upload-status";async function kN(i,t,l){var a;const r=await Pg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function LN(i,t,l){var a;const r=await Pg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Kh(d),g=new Vu;return Object.assign(g,p),g}async function Pg(i,t,l){var a,r;let d=0,p=0,g=new Tu(new Response),y="upload";for(d=i.size;p<d;){const h=Math.min(IN,d-p),E=i.slice(p,p+h);p+h>=d&&(y+=", finalize");let x=0,S=DN;for(;x<wN&&(g=await l.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ga]));)x++,await HN(S),S=S*UN;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ga])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function GN(i){return{size:i.size,type:i.type}}function HN(i){return new Promise(t=>setTimeout(t,i))}class VN{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kN(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LN(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PN{create(t,l,a){return new zN(t,l,a)}}class zN{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zh="x-goog-api-key";class qN{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(zh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(zh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BN="gl-node/";class ON{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=HE(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new qN(this.apiKey);this.apiClient=new GA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:BN+"web",uploader:new VN,downloader:new MN}),this.models=new tC(this.apiClient),this.live=new QA(this.apiClient,r,new PN),this.batches=new fS(this.apiClient),this.chats=new XS(this.models,this.apiClient),this.caches=new FS(this.apiClient),this.files=new ix(this.apiClient),this.operations=new nC(this.apiClient),this.authTokens=new vC(this.apiClient),this.tunings=new RN(this.apiClient),this.fileSearchStores=new NC(this.apiClient)}}const FN=()=>{const i="PLACEHOLDER_API_KEY";return new ON({apiKey:i})},YN=async(i,t)=>{try{const l=FN(),a=`
      Acta como un experto en SQL y administracin de datos escolares.
      Tienes acceso a una base de datos en formato JSON con la siguiente estructura:
      
      Parents (Padres): ${JSON.stringify(i.parents.map(d=>({ci:d.ci,nombre:`${d.nombres} ${d.primerApellido}`})))}
      Students (Estudiantes): ${JSON.stringify(i.students.map(d=>({ci:d.ci,nombre:`${d.nombres} ${d.primerApellido}`,curso:d.curso,idPadre:d.idPadre})))}
      Contracts (Contratos): ${JSON.stringify(i.contracts.map(d=>({num:d.numeroContrato,tipo:d.tipoPago,monto:d.montoAnual,padre:d.idPadre,estudiante:d.idEstudiante})))}

      Responde a la siguiente pregunta del usuario de forma concisa. Si te piden una consulta, explica qu datos se relacionan.
      Si te piden buscar algo especfico (ej: "Quin es el padre de Juan"), bscalo en los datos proporcionados y responde directamente.
      
      Pregunta del usuario: "${t}"
    `;return(await l.models.generateContent({model:"gemini-3-flash-preview",contents:a})).text||"No se pudo generar una respuesta."}catch(l){return console.error("Gemini Error:",l),"Error al conectar con el asistente de IA. Verifica tu API Key."}},JN=({db:i})=>{const[t,l]=Ee.useState(""),[a,r]=Ee.useState(""),[d,p]=Ee.useState(!1),g=async y=>{if(y.preventDefault(),!t.trim())return;p(!0),r("");const h=await YN(i,t);r(h),p(!1)};return v.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-lg shadow-lg p-6 text-white mb-6",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx(hE,{className:"mr-2 text-yellow-300"}),v.jsx("h2",{className:"text-lg font-bold",children:"Asistente Inteligente (Gemini)"})]}),v.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:'Pregunta en lenguaje natural sobre la base de datos. Ej: "Qu estudiantes pagan mensualidad?", "Quin es el padre de Juan?"'}),v.jsxs("form",{onSubmit:g,className:"relative",children:[v.jsx("input",{type:"text",value:t,onChange:y=>l(y.target.value),placeholder:"Escribe tu consulta aqu...",className:"w-full p-3 pr-12 rounded-lg text-gray-900 focus:ring-2 focus:ring-yellow-400 focus:outline-none"}),v.jsx("button",{type:"submit",disabled:d,className:"absolute right-2 top-2 p-1 text-indigo-600 hover:text-indigo-800 disabled:opacity-50",children:d?v.jsx(eE,{className:"animate-spin"}):v.jsx(pE,{size:20})})]}),a&&v.jsxs("div",{className:"mt-4 bg-white/10 p-4 rounded-lg border border-white/20",children:[v.jsx("h4",{className:"text-xs uppercase tracking-wider text-indigo-200 mb-1",children:"Respuesta:"}),v.jsx("p",{className:"whitespace-pre-wrap",children:a})]})]})},XN=i=>{const t=new Date().toISOString().replace("T"," ").substring(0,19);let l=`-- Database Export for Gestor Escolar Pro
`;return l+=`-- Generated: ${t}
`,l+=`-- DBAdmin User Export

`,l+=`CREATE TABLE IF NOT EXISTS padres (
`,l+=`  id VARCHAR(36) PRIMARY KEY,
`,l+=`  ci VARCHAR(20) NOT NULL UNIQUE,
`,l+=`  primer_apellido VARCHAR(100) NOT NULL,
`,l+=`  segundo_apellido VARCHAR(100),
`,l+=`  nombres VARCHAR(100) NOT NULL,
`,l+=`  celular VARCHAR(20),
`,l+=`  celular2 VARCHAR(20),
`,l+=`  direccion TEXT
`,l+=`);

`,l+=`CREATE TABLE IF NOT EXISTS estudiantes (
`,l+=`  id VARCHAR(36) PRIMARY KEY,
`,l+=`  ci VARCHAR(20) NOT NULL UNIQUE,
`,l+=`  rude VARCHAR(50),
`,l+=`  primer_apellido VARCHAR(100) NOT NULL,
`,l+=`  segundo_apellido VARCHAR(100),
`,l+=`  nombres VARCHAR(100) NOT NULL,
`,l+=`  curso VARCHAR(50),
`,l+=`  celular VARCHAR(20),
`,l+=`  id_padre VARCHAR(20) NOT NULL,
`,l+=`  es_distancia BOOLEAN DEFAULT FALSE,
`,l+=`  tipo_beca VARCHAR(50),
`,l+=`  FOREIGN KEY (id_padre) REFERENCES padres(ci)
`,l+=`);

`,l+=`CREATE TABLE IF NOT EXISTS contratos (
`,l+=`  id VARCHAR(36) PRIMARY KEY,
`,l+=`  numero_contrato VARCHAR(50) NOT NULL,
`,l+=`  id_padre VARCHAR(20) NOT NULL,
`,l+=`  id_estudiante VARCHAR(20) NOT NULL,
`,l+=`  tipo_pago VARCHAR(50),
`,l+=`  monto_anual DECIMAL(10, 2),
`,l+=`  descuento DECIMAL(5, 2) DEFAULT 0,
`,l+=`  monto_cuota DECIMAL(10, 2),
`,l+=`  fecha_firma DATE,
`,l+=`  FOREIGN KEY (id_padre) REFERENCES padres(ci),
`,l+=`  FOREIGN KEY (id_estudiante) REFERENCES estudiantes(ci)
`,l+=`);

`,i.parents.length>0&&(l+=`INSERT INTO padres (id, ci, primer_apellido, segundo_apellido, nombres, celular, celular2, direccion) VALUES
`,l+=i.parents.map(a=>`('${a.id}', '${a.ci}', '${a.primerApellido}', '${a.segundoApellido}', '${a.nombres}', '${a.celular}', '${a.celular2||""}', '${a.direccion}')`).join(`,
`)+`;

`),i.students.length>0&&(l+=`INSERT INTO estudiantes (id, ci, rude, primer_apellido, segundo_apellido, nombres, curso, celular, id_padre, es_distancia, tipo_beca) VALUES
`,l+=i.students.map(a=>{const r=a.esDistancia?1:0;return`('${a.id}', '${a.ci}', '${a.rude}', '${a.primerApellido}', '${a.segundoApellido}', '${a.nombres}', '${a.curso}', '${a.celular||""}', '${a.idPadre}', ${r}, '${a.tipoBeca||"Ninguna"}')`}).join(`,
`)+`;

`),i.contracts.length>0&&(l+=`INSERT INTO contratos (id, numero_contrato, id_padre, id_estudiante, tipo_pago, monto_anual, descuento, monto_cuota, fecha_firma) VALUES
`,l+=i.contracts.map(a=>`('${a.id}', '${a.numeroContrato}', '${a.idPadre}', '${a.idEstudiante}', '${a.tipoPago}', ${a.montoAnual}, ${a.descuento||0}, ${a.montoCuota}, '${a.fechaFirma}')`).join(`,
`)+`;
`),l},KN=({db:i})=>{const[t,l]=Ee.useState(!1),[a,r]=Ee.useState(""),[d,p]=Ee.useState(""),[g,y]=Ee.useState(""),h=Ee.useRef(null),E=H=>{H.preventDefault(),a==="DBAdmin"&&d==="Teffy1914"?(l(!0),y("")):y("Credenciales invlidas")},x=()=>{const H=XN(i);A(H,`escuela_db_backup_${M()}.sql`,"text/sql")},S=()=>{const H=JSON.stringify(i,null,2);A(H,"db.json","application/json")},A=(H,O,B)=>{const X=new Blob([H],{type:B}),$=window.URL.createObjectURL(X),Z=document.createElement("a");Z.href=$,Z.download=O,document.body.appendChild(Z),Z.click(),window.URL.revokeObjectURL($),document.body.removeChild(Z)},M=()=>new Date().toISOString().split("T")[0],L=()=>{var H;(H=h.current)==null||H.click()},U=H=>{var X;const O=(X=H.target.files)==null?void 0:X[0];if(!O)return;const B=new FileReader;B.onload=$=>{var Z;try{const F=JSON.parse((Z=$.target)==null?void 0:Z.result);_v(F)?window.confirm("Ests seguro de reemplazar TODA la base de datos actual con este archivo? Esta accin no se puede deshacer.")&&(Oh(F),alert("Base de datos actualizada correctamente. La pgina se recargar."),window.location.reload()):alert("El archivo seleccionado no tiene una estructura de base de datos vlida.")}catch{alert("Error al leer el archivo JSON.")}},B.readAsText(O),h.current&&(h.current.value="")};return t?v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6 border-b dark:border-gray-700 pb-4",children:[v.jsxs("h2",{className:"text-2xl font-bold flex items-center text-gray-800 dark:text-white",children:[v.jsx(Xh,{className:"mr-2"})," Administracin de Base de Datos"]}),v.jsxs("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[v.jsx(Gv,{size:14,className:"mr-1"})," Conectado como DBAdmin"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-lg border border-indigo-100 dark:border-indigo-800 shadow-sm",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx(Bv,{className:"text-indigo-600 dark:text-indigo-400 mr-2",size:24}),v.jsx("h3",{className:"font-bold text-lg text-indigo-900 dark:text-indigo-300",children:"Documento de Base de Datos (JSON)"})]}),v.jsxs("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 mb-4 text-justify",children:["Este archivo ",v.jsx("code",{children:"db.json"})," contiene toda la informacin de la aplicacin. Es el formato nativo para realizar copias de seguridad porttiles o para alojarlo en un repositorio."]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("button",{onClick:S,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-lg flex items-center justify-center shadow transition font-medium",children:[v.jsx(am,{className:"mr-2",size:18})," Descargar db.json"]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"file",ref:h,onChange:U,accept:".json",className:"hidden"}),v.jsxs("button",{onClick:L,className:"w-full bg-white dark:bg-indigo-900/50 border border-indigo-300 dark:border-indigo-700 text-indigo-700 dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-indigo-900 px-4 py-3 rounded-lg flex items-center justify-center shadow-sm transition font-medium",children:[v.jsx(_E,{className:"mr-2",size:18})," Importar / Restaurar db.json"]})]})]}),v.jsx("p",{className:"text-xs text-indigo-500 dark:text-indigo-400 mt-3 text-center",children:"* Al importar, se reemplazarn todos los datos actuales."})]}),v.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx(Fv,{className:"text-blue-600 dark:text-blue-400 mr-2",size:24}),v.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-300",children:"Exportar SQL (MySQL/MariaDB)"})]}),v.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-4 text-justify",children:"Genera un script SQL completo con estructura y datos para migrar a un servidor de base de datos tradicional."}),v.jsx("div",{className:"flex-1 content-end",children:v.jsxs("button",{onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center justify-center shadow transition font-medium mt-auto",children:[v.jsx(am,{className:"mr-2",size:18})," Descargar Script SQL"]})})]})]}),v.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border border-yellow-100 dark:border-yellow-800",children:[v.jsxs("h3",{className:"font-bold text-lg mb-2 text-yellow-900 dark:text-yellow-400 flex items-center",children:[v.jsx(SE,{size:20,className:"mr-2"})," Estado del Sistema"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border border-yellow-200 dark:border-yellow-900",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm block",children:"Padres Registrados"}),v.jsx("span",{className:"font-mono font-bold text-xl text-gray-900 dark:text-white",children:i.parents.length})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border border-yellow-200 dark:border-yellow-900",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm block",children:"Estudiantes Inscritos"}),v.jsx("span",{className:"font-mono font-bold text-xl text-gray-900 dark:text-white",children:i.students.length})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border border-yellow-200 dark:border-yellow-900",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm block",children:"Contratos Vigentes"}),v.jsx("span",{className:"font-mono font-bold text-xl text-gray-900 dark:text-white",children:i.contracts.length})]})]}),v.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["Nota: La aplicacin funciona localmente. Para persistir los datos entre diferentes dispositivos o sesiones de incgnito, asegrese de descargar el ",v.jsx("strong",{children:"Documento de Base de Datos (db.json)"})," peridicamente."]})]})]}):v.jsx("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-sm border border-gray-200 dark:border-gray-700 transition-colors",children:[v.jsx("div",{className:"flex justify-center mb-4",children:v.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:v.jsx(nE,{className:"text-blue-600 dark:text-blue-300",size:32})})}),v.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"Acceso DB Admin"}),v.jsxs("form",{onSubmit:E,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usuario"}),v.jsx("input",{type:"text",className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 mt-1 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:a,onChange:H=>r(H.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contrasea"}),v.jsx("input",{type:"password",className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 mt-1 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:d,onChange:H=>p(H.target.value)})]}),g&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:g}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition",children:"Ingresar"})]})]})})},QN=({db:i})=>{const[t,l]=Ee.useState("none"),a=(g,y)=>{const h=new Blob([g],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(h),x=document.createElement("a");x.setAttribute("href",E),x.setAttribute("download",y),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},r=()=>{const g=`CI,RUDE,Apellidos,Nombres,Curso,Padre(CI),Modalidad,Beca
`,y=i.students.map(h=>`"${h.ci}","${h.rude}","${h.primerApellido} ${h.segundoApellido}","${h.nombres}","${h.curso}","${h.idPadre}","${h.esDistancia?"Virtual":"Presencial"}","${h.tipoBeca}"`).join(`
`);a(g+y,"Reporte_Estudiantes.csv")},d=()=>{const g=`CI,Apellidos,Nombres,Celular,Hijos Inscritos
`,y=i.parents.map(h=>{const E=i.students.filter(x=>x.idPadre===h.ci).length;return`"${h.ci}","${h.primerApellido} ${h.segundoApellido}","${h.nombres}","${h.celular}","${E}"`}).join(`
`);a(g+y,"Reporte_Padres.csv")},p=()=>{window.print()};return v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md min-h-screen transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8 no-print",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Mdulo de Reportes"}),t!=="none"&&v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center hover:bg-blue-700",children:[v.jsx(yu,{className:"mr-2",size:18})," Imprimir / Guardar PDF"]}),v.jsx("button",{onClick:()=>l("none"),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cerrar Vista Previa"})]})]}),v.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-6 ${t!=="none"?"hidden":""}`,children:[v.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-blue-50 dark:bg-blue-900/20",children:[v.jsxs("div",{className:"flex items-center mb-4 text-blue-800 dark:text-blue-300",children:[v.jsx(CE,{size:32,className:"mr-3"}),v.jsx("h3",{className:"font-bold text-lg",children:"Lista de Estudiantes"})]}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Detalle completo de inscritos, curso, modalidad y becas."}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:r,className:"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center hover:bg-green-700 text-sm",children:[v.jsx(rm,{size:16,className:"mr-2"})," Excel"]}),v.jsxs("button",{onClick:()=>l("students"),className:"flex-1 bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[v.jsx(sm,{size:16,className:"mr-2"})," PDF"]})]})]}),v.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-purple-50 dark:bg-purple-900/20",children:[v.jsxs("div",{className:"flex items-center mb-4 text-purple-800 dark:text-purple-300",children:[v.jsx(io,{size:32,className:"mr-3"}),v.jsx("h3",{className:"font-bold text-lg",children:"Lista de Padres"})]}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Padres de familia con conteo de hijos inscritos."}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:d,className:"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center hover:bg-green-700 text-sm",children:[v.jsx(rm,{size:16,className:"mr-2"})," Excel"]}),v.jsxs("button",{onClick:()=>l("parents"),className:"flex-1 bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[v.jsx(sm,{size:16,className:"mr-2"})," PDF"]})]})]}),v.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition bg-orange-50 dark:bg-orange-900/20",children:[v.jsxs("div",{className:"flex items-center mb-4 text-orange-800 dark:text-orange-300",children:[v.jsx(io,{size:32,className:"mr-3"}),v.jsx("h3",{className:"font-bold text-lg",children:"Cartillas de Registro"})]}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Fichas individuales por familia para archivo fsico."}),v.jsx("div",{className:"flex gap-2",children:v.jsxs("button",{onClick:()=>l("cards"),className:"w-full bg-gray-700 text-white py-2 rounded flex justify-center items-center hover:bg-gray-800 text-sm",children:[v.jsx(yu,{size:16,className:"mr-2"})," Generar PDF"]})})]})]}),t!=="none"&&v.jsxs("div",{id:"printable-area",className:"bg-white p-8",children:[t==="students"&&v.jsxs("div",{className:"print-section",children:[v.jsx("h1",{className:"text-center font-bold text-xl mb-4 text-black",children:"REPORTE GENERAL DE ESTUDIANTES INSCRITOS - GESTIN 2026"}),v.jsxs("table",{className:"w-full border-collapse border border-gray-400 text-xs text-black",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100",children:[v.jsx("th",{className:"border p-2",children:"RUDE"}),v.jsx("th",{className:"border p-2",children:"CI"}),v.jsx("th",{className:"border p-2",children:"Apellidos y Nombres"}),v.jsx("th",{className:"border p-2",children:"Curso"}),v.jsx("th",{className:"border p-2",children:"Modalidad"}),v.jsx("th",{className:"border p-2",children:"Beca"})]})}),v.jsx("tbody",{children:i.students.map(g=>v.jsxs("tr",{children:[v.jsx("td",{className:"border p-2 text-center",children:g.rude}),v.jsx("td",{className:"border p-2 text-center",children:g.ci}),v.jsxs("td",{className:"border p-2",children:[g.primerApellido," ",g.segundoApellido," ",g.nombres]}),v.jsx("td",{className:"border p-2 text-center",children:g.curso}),v.jsx("td",{className:"border p-2 text-center",children:g.esDistancia?"Virtual":"Presencial"}),v.jsx("td",{className:"border p-2 text-center",children:g.tipoBeca})]},g.id))})]})]}),t==="parents"&&v.jsxs("div",{className:"print-section",children:[v.jsx("h1",{className:"text-center font-bold text-xl mb-4 text-black",children:"NOMINA DE PADRES DE FAMILIA"}),v.jsxs("table",{className:"w-full border-collapse border border-gray-400 text-xs text-black",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100",children:[v.jsx("th",{className:"border p-2",children:"CI"}),v.jsx("th",{className:"border p-2",children:"Apellidos y Nombres"}),v.jsx("th",{className:"border p-2",children:"Celular"}),v.jsx("th",{className:"border p-2",children:"Direccin"}),v.jsx("th",{className:"border p-2",children:"Hijos"})]})}),v.jsx("tbody",{children:i.parents.map(g=>{const y=i.students.filter(h=>h.idPadre===g.ci).length;return v.jsxs("tr",{children:[v.jsx("td",{className:"border p-2 text-center",children:g.ci}),v.jsxs("td",{className:"border p-2",children:[g.primerApellido," ",g.segundoApellido," ",g.nombres]}),v.jsx("td",{className:"border p-2 text-center",children:g.celular}),v.jsx("td",{className:"border p-2",children:g.direccion}),v.jsx("td",{className:"border p-2 text-center font-bold",children:y})]},g.id)})})]})]}),t==="cards"&&v.jsx("div",{className:"print-section text-black",children:i.parents.map((g,y)=>{const h=i.students.filter(E=>E.idPadre===g.ci);return h.length===0?null:v.jsxs("div",{className:`mb-8 border-2 border-black p-8 ${y>0?"page-break":""}`,children:[v.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-4",children:[v.jsx("h2",{className:"font-bold text-2xl",children:"CARTILLA DE REGISTRO FAMILIAR"}),v.jsx("p",{children:"Gestin 2026"})]}),v.jsxs("div",{className:"mb-6 bg-gray-50 p-4 border border-gray-300",children:[v.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2",children:"DATOS DEL TUTOR"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Nombre:"})," ",g.primerApellido," ",g.segundoApellido," ",g.nombres]}),v.jsxs("p",{children:[v.jsx("strong",{children:"CI:"})," ",g.ci]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Celular:"})," ",g.celular," / ",g.celular2]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Direccin:"})," ",g.direccion]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2",children:"HIJOS INSCRITOS"}),v.jsxs("table",{className:"w-full text-sm border border-black",children:[v.jsx("thead",{className:"bg-gray-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border p-2 text-left",children:"Nombre Completo"}),v.jsx("th",{className:"border p-2 text-center",children:"Curso"}),v.jsx("th",{className:"border p-2 text-center",children:"RUDE"}),v.jsx("th",{className:"border p-2 text-center",children:"Modalidad"})]})}),v.jsx("tbody",{children:h.map(E=>v.jsxs("tr",{children:[v.jsxs("td",{className:"border p-2",children:[E.primerApellido," ",E.nombres]}),v.jsx("td",{className:"border p-2 text-center",children:E.curso}),v.jsx("td",{className:"border p-2 text-center",children:E.rude}),v.jsx("td",{className:"border p-2 text-center",children:E.esDistancia?"Virtual":"Presencial"})]},E.id))})]})]}),v.jsxs("div",{className:"mt-12 pt-8 border-t border-dashed border-gray-400 flex justify-between",children:[v.jsxs("div",{className:"text-center w-48",children:[v.jsx("div",{className:"h-20 border border-gray-300 mb-2"}),v.jsx("p",{className:"text-xs",children:"Firma Padre/Tutor"})]}),v.jsxs("div",{className:"text-center w-48",children:[v.jsx("div",{className:"h-20 mb-2"}),v.jsx("p",{className:"text-xs border-t border-black pt-2",children:"Sello Unidad Educativa"})]})]})]},g.id)})})]})]})},ZN=()=>{const[i,t]=Ee.useState({parents:[],students:[],contracts:[]}),[l,a]=Ee.useState("dashboard"),[r,d]=Ee.useState(!0),[p,g]=Ee.useState("light");Ee.useEffect(()=>{const S=xv();t(S),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&g("dark")},[]),Ee.useEffect(()=>{p==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[p]);const y=()=>{g(S=>S==="light"?"dark":"light")},h=S=>{t(S),Oh(S)},E=[{id:"dashboard",label:"Inicio",icon:Zv},{id:"parents",label:"Padres",icon:io},{id:"students",label:"Estudiantes",icon:gu},{id:"contracts",label:"Contratos",icon:no},{id:"reports",label:"Reportes",icon:kv},{id:"db_admin",label:"Base de Datos",icon:Xh}],x=()=>{switch(l){case"parents":return v.jsx(IE,{db:i,updateDb:h});case"students":return v.jsx(ME,{db:i,updateDb:h});case"contracts":return v.jsx(DE,{db:i,updateDb:h});case"reports":return v.jsx(QN,{db:i});case"db_admin":return v.jsx(KN,{db:i});default:return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-blue-500 transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Estudiantes"}),v.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.students.length})]}),v.jsx(gu,{className:"text-blue-200 dark:text-blue-900",size:40})]})}),v.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-green-500 transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Padres Registrados"}),v.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.parents.length})]}),v.jsx(io,{className:"text-green-200 dark:text-green-900",size:40})]})}),v.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border-l-4 border-purple-500 transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contratos Activos"}),v.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.contracts.length})]}),v.jsx(no,{className:"text-purple-200 dark:text-purple-900",size:40})]})})]}),v.jsx(JN,{db:i}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm transition-colors",children:[v.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Acceso Rpido"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:()=>a("parents"),className:"p-4 border dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-700 text-left transition-colors",children:[v.jsx("span",{className:"font-bold block text-blue-600 dark:text-blue-400",children:"Registrar Nuevo Padre"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paso 1 del proceso de inscripcin"})]}),v.jsxs("button",{onClick:()=>a("students"),className:"p-4 border dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-700 text-left transition-colors",children:[v.jsx("span",{className:"font-bold block text-green-600 dark:text-green-400",children:"Inscribir Estudiante"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paso 2: Vincular al padre"})]})]})]})]})}};return v.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex overflow-hidden transition-colors duration-200",children:[v.jsxs("aside",{className:`${r?"w-64":"w-0"} bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out flex flex-col fixed h-full z-10 md:relative`,children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex flex-col items-center",children:[v.jsx("div",{className:"w-20 h-20 mb-3 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center overflow-hidden border-2 border-yellow-400 shadow-md",children:v.jsx("img",{src:"./logo.png",alt:"Logo PDP",className:"w-full h-full object-cover",onError:S=>{S.target.src="https://via.placeholder.com/150?text=LOGO"}})}),v.jsxs("h1",{className:"font-bold text-gray-800 dark:text-white text-lg text-center leading-tight",children:["Gestor Escolar",v.jsx("br",{}),v.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Prncipe de Paz LS"})]})]}),v.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:E.map(S=>{const A=S.icon;return v.jsxs("button",{onClick:()=>{a(S.id),window.innerWidth<768&&d(!1)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${l===S.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[v.jsx(A,{size:20,className:"mr-3"}),v.jsx("span",{className:"font-medium",children:S.label})]},S.id)})}),v.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 text-xs text-gray-400 text-center",children:" 2026 Sistema Acadmico"})]}),v.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[v.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center px-6 justify-between shrink-0 transition-colors",children:[v.jsx("button",{onClick:()=>d(!r),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:r?v.jsx(lo,{}):v.jsx(lE,{})}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",title:p==="light"?"Activar Modo Oscuro":"Activar Modo Claro",children:p==="light"?v.jsx(rE,{size:20}):v.jsx(EE,{size:20})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"text-right hidden md:block",children:[v.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200 block",children:"Administrador"}),v.jsx("span",{className:"text-xs text-green-500 block",children:"En lnea"})]}),v.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold border border-blue-200 dark:border-blue-700",children:"A"})]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto p-6 relative",children:x()})]})]})},zg=document.getElementById("root");if(!zg)throw new Error("Could not find root element to mount to");const $N=Sv.createRoot(zg);$N.render(v.jsx(pv.StrictMode,{children:v.jsx(ZN,{})}));
